!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("webgl",[],t):"object"==typeof exports?exports.webgl=t():(e.lazer=e.lazer||{},e.lazer.webgl=t())}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}({0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.VertexBuffer=t.vbo=t.WebGLShader=t.RenderList=t.WebGLProgram=t.GetContext=t.GLTexture=t.WebGLContextOptions=t.WebGLContextHandler=t.CompileShader=t.Attribute=void 0;var a=r(716),u=i(a),o=r(714),l=n(o),s=r(712),f=n(s),c=r(713),h=n(c),d=r(850),v=n(d),g=r(149),b=n(g),y=r(715),E=n(y),p=r(851),_=n(p),T=r(852),R=n(T),A=r(853),x=n(A),m=r(854),S=i(m);t.Attribute=u,t.CompileShader=l["default"],t.WebGLContextHandler=f["default"],t.WebGLContextOptions=h["default"],t.GLTexture=v["default"],t.GetContext=b["default"],t.WebGLProgram=E["default"],t.RenderList=_["default"],t.WebGLShader=R["default"],t.vbo=S,t.VertexBuffer=x["default"]},149:function(e,t){"use strict";function r(e,t){return e.getContext("webgl",t)||e.getContext("experimental-webgl",t)||null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},712:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){r(this,e),this.canvas=null,this.contextLost=!1,t&&this.add(t)}return n(e,[{key:"add",value:function(e){this.canvas&&this.remove(),this.canvas=e,this.canvas.addEventListener("webglcontextlost",this.lost,!1),this.canvas.addEventListener("webglcontextrestored",this.restored,!1)}},{key:"lost",value:function(e){console.log("WebGL Context Lost"),e.preventDefault(),this.contextLost=!0}},{key:"restored",value:function(){console.log("WebGL Context restored"),this.contextLost=!1}},{key:"remove",value:function(){this.canvas.removeEventListener("webglcontextlost",this.lost),this.canvas.removeEventListener("webglcontextrestored",this.restored),this.canvas=null}}]),e}();t["default"]=i},713:function(e,t){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.alpha,r=void 0===t?!1:t,n=e.antialias,i=void 0===n?!0:n,a=e.premultipliedAlpha,u=void 0===a?!1:a,o=e.stencil,l=void 0===o?!1:o,s=e.preserveDrawingBuffer,f=void 0===s?!1:s;return{alpha:r,antialias:i,premultipliedAlpha:u,stencil:l,preserveDrawingBuffer:f}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},714:function(e,t){"use strict";function r(e,t,r){Array.isArray(t)&&(t=t.join("\n"));var n=e.createShader(r);return e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.warn("Failed to compile shader: "+e.getShaderInfoLog(n)),e.deleteShader(n),null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},715:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(716),o=n(u),l=function(){function e(t){return i(this,e),this.gl=t,this.program=t.createProgram(),this.program?void 0:(console.warn("WebGLProgram - unable to createProgram on gl context"),null)}return a(e,[{key:"getAttrib",value:function(e){return o.get(this.gl,this.program,e)}},{key:"attach",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){var l=u.value;this.gl.attachShader(this.program,l)}}catch(s){i=!0,a=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return this}},{key:"attachAndDelete",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){var l=u.value;this.gl.attachShader(this.program,l),this.gl.deleteShader(l)}}catch(s){i=!0,a=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return this}},{key:"link",value:function(){this.gl.linkProgram(this.program);var e=this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS);if(!e){var t=this.gl.getProgramInfoLog(this.program);console.warn("Failed to link WebGL program: "+t),this["delete"]()}return this}},{key:"use",value:function(){return this.gl.useProgram(this.program),this}},{key:"detatch",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=!0,i=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){var l=u.value;this.gl.detatchShader(l)}}catch(s){i=!0,a=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return this}},{key:"delete",value:function(){return this.gl.deleteProgram(this.program),this}},{key:"destroy",value:function(){this["delete"](),this.gl=null,this.program=null}}]),e}();t["default"]=l},716:function(e,t){"use strict";function r(e,t,r,n,a,u,o,l){var s=i(e,t,r);return null!==s&&(e.vertexAttribPointer(s,n,a,u,o,l),e.enableVertexAttribArray(s)),s}function n(e,t){e.disableVertexAttribArray(t)}function i(e,t,r){var n=e.getAttribLocation(t,r);return 0>n?(console.warn("WebGLProgram - failed to get attribute location: "+r),null):n}function a(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],u=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(e,t,n,2,e.UNSIGNED_BYTE,i,a,u)}function u(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],u=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(e,t,n,2,e.SHORT,i,a,u)}function o(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],u=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(e,t,n,2,e.UNSIGNED_SHORT,i,a,u)}function l(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],u=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(e,t,n,2,e.INT,i,a,u)}function s(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],u=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(e,t,n,2,e.UNSIGNED_INT,i,a,u)}function f(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],u=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(e,t,n,2,e.FLOAT,i,a,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.disable=n,t.getLocation=i,t.createByte=a,t.createShort=u,t.createUnsignedShort=o,t.createInt=l,t.createUnsignedInt=s,t.createFloat=f},717:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e),this.vertSize=0,this.batchSize=0,this.vertices=null,this.buffer=null,this.index=0,this.total=0,this.size=0}return n(e,[{key:"create",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?2:arguments[1],r=arguments.length<=2||void 0===arguments[2]?2e3:arguments[2];return this.vertSize=t,this.batchSize=r,this.vertices=new Float32Array(this.batchSize*this.vertSize),this.index=0,this.total=0,this.size=0,this.buffer=e.createBuffer(),this.buffer?void this.bindBuffer(e):-1}},{key:"bindBuffer",value:function(e){e.bindBuffer(e.ARRAY_BUFFER,this.buffer)}},{key:"bufferData",value:function(e,t){e.bufferData(e.ARRAY_BUFFER,this.vertices,t)}},{key:"bufferDynamicData",value:function(e){e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)}},{key:"bufferStaticData",value:function(e){e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW)}},{key:"bufferStreamData",value:function(e){e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STREAM_DRAW)}},{key:"reset",value:function(){this.index=0,this.size=0,this.total=0}}]),e}();t["default"]=i},718:function(e,t){"use strict";function r(e,t,r){return e.vertices[e.index++]=t,e.vertices[e.index++]=r,e.total++,e.index-2}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},721:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e),this.vertSize=0,this.batchSize=0,this.indices=null,this.buffer=null}return n(e,[{key:"create",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?6:arguments[1],r=arguments.length<=2||void 0===arguments[2]?2e3:arguments[2];return t*r>65535?(console.warn("VertexIndexBuffer: Cannot create buffer > 65535 bytes"),-1):(this.vertSize=t,this.batchSize=r,this.indices=new Uint16Array(r*t),this.buffer=e.createBuffer(),this.buffer?void this.reset():-1)}},{key:"reset",value:function(){for(var e=0,t=0;e<this.batchSize*this.vertSize;e+=this.vertSize,t+=4)this.indices[e+0]=t+0,this.indices[e+1]=t+1,this.indices[e+2]=t+2,this.indices[e+3]=t+0,this.indices[e+4]=t+2,this.indices[e+5]=t+3}},{key:"bindBuffer",value:function(e){e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.buffer)}},{key:"bufferData",value:function(e){e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)}}]),e}();t["default"]=i},850:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){r(this,e),this.gl=t,this.texture=null}return n(e,[{key:"create",value:function(){return this.texture=this.gl.createTexture(),this}},{key:"bind",value:function(){return this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this}},{key:"bindCubeMap",value:function(){return this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,this.texture),this}},{key:"delete",value:function(){return this.gl.deleteTexture(this.texture),this}},{key:"loadImage",value:function(e){var t=this.gl;return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),this}},{key:"setPackState",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],n=this.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,r),this}},{key:"minFilter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];return e?gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR):gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),this}},{key:"magFilter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];e?gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR):gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST)}},{key:"enableLinearScaling",value:function(){var e=this.gl;return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this}},{key:"enableNearestScaling",value:function(){var e=this.gl;return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),this}},{key:"wrap",value:function(e){return this.wrapS(e),this.wrapT(e),this}},{key:"wrapS",value:function(e){return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this}},{key:"wrapT",value:function(e){return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this}},{key:"wrapRepeat",value:function(){return this.wrap(this.gl.REPEAT)}},{key:"wrapMirroredRepeat",value:function(){return this.wrap(this.gl.MIRRORED_REPEAT)}},{key:"wrapClamp",value:function(){return this.wrap(this.gl.CLAMP_TO_EDGE)}},{key:"destroy",value:function(){this["delete"](),this.gl=null}}]),e}();t["default"]=i},851:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){r(this,e),this.list=new Set}return n(e,[{key:"clear",value:function(){this.list.clear()}},{key:"add",value:function(e){this.list.add(e)}},{key:"length",get:function(){return this.list.size}}]),e}();t["default"]=i},852:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function i(e){r(this,i),this.gl=e};t["default"]=n},853:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?6:arguments[0],n=arguments.length<=1||void 0===arguments[1]?2e3:arguments[1];r(this,e),this.vertSize=t,this.batchSize=n,this.stride=4*t,this.vertices=new Float32Array(4*this.batchSize*this.vertSize),this.indices=new Uint16Array(6*this.batchSize),this.vertexBuffer=null,this.indexBuffer=null}return n(e,[{key:"resetIndices",value:function(){for(var e=0,t=0;e<6*this.batchSize;e+=6,t+=4)this.indices[e+0]=t+0,this.indices[e+1]=t+1,this.indices[e+2]=t+2,this.indices[e+3]=t+0,this.indices[e+4]=t+2,this.indices[e+5]=t+3}},{key:"create",value:function(e){return this.vertexBuffer=e.createBuffer(),vertexBuffer?(this.indexBuffer=e.createBuffer(),vertexBuffer?(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),void e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)):-1):-1}}]),e}();t["default"]=i},854:function(e,t,r){"use strict";"create index";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VertexIndexBuffer=t.VertexArrayBuffer=t.AddVert=t.AddQuadAlphaColor=void 0;var i=r(855),a=n(i),u=r(718),o=n(u),l=r(717),s=n(l),f=r(721),c=n(f);t.AddQuadAlphaColor=a["default"],t.AddVert=o["default"],t.VertexArrayBuffer=s["default"],t.VertexIndexBuffer=c["default"]},855:function(e,t){"use strict";function r(e,t,r,n,i,a,u,o){var l=arguments.length<=8||void 0===arguments[8]?1:arguments[8],s=arguments.length<=9||void 0===arguments[9]?16777215:arguments[9],f=arguments.length<=10||void 0===arguments[10]?16777215:arguments[10],c=arguments.length<=11||void 0===arguments[11]?16777215:arguments[11],h=arguments.length<=12||void 0===arguments[12]?16777215:arguments[12],d=e.vertices,v=4*e.size*e.vertSize;d[v++]=r*w1+i*h1+u,d[v++]=a*h1+n*w1+o,d[v++]=t.x0,d[v++]=t.y0,d[v++]=l,d[v++]=s,d[v++]=r*w0+i*h1+u,d[v++]=a*h1+n*w0+o,d[v++]=t.x1,d[v++]=t.y1,d[v++]=l,d[v++]=f,d[v++]=r*w0+i*h0+u,d[v++]=a*h0+n*w0+o,d[v++]=t.x2,d[v++]=t.y2,d[v++]=l,d[v++]=c,d[v++]=r*w1+i*h0+u,d[v++]=a*h0+n*w1+o,d[v++]=t.x3,d[v++]=t.y3,d[v++]=l,d[v++]=h,e.size++}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uPzVjYTYqKioqKioqKioqKioqKioqKioqKioiLCJ3ZWJwYWNrOi8vL3dlYmdsLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxYjZmNThhMTc3NDUwODBmMDAxYT83NzllKioqKioqKioqKioqKioqKioqKioqIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvR2V0Q29udGV4dC5qcz9kMjJkKiIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvQ29udGV4dEhhbmRsZXIuanM/YWE5NyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvQ29udGV4dE9wdGlvbnMuanM/ZmY2MiIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvQ29tcGlsZVNoYWRlci5qcz9kZTNkIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC9Qcm9ncmFtLmpzP2VjMjQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL0F0dHJpYnV0ZS5qcz9hYjhjIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC92Ym8vVmVydGV4QXJyYXlCdWZmZXIuanM/YzgzZCIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvdmJvL0FkZFZlcnQuanM/N2Y1NSIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvdmJvL1ZlcnRleEluZGV4QnVmZmVyLmpzPzU1MmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL0dMVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvUmVuZGVyTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvU2hhZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC9WZXJ0ZXhCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL3Ziby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvdmJvL0FkZFF1YWRBbHBoYUNvbG9yLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIjAiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlZlcnRleEJ1ZmZlciIsInZibyIsIldlYkdMU2hhZGVyIiwiUmVuZGVyTGlzdCIsIldlYkdMUHJvZ3JhbSIsIkdldENvbnRleHQiLCJHTFRleHR1cmUiLCJXZWJHTENvbnRleHRPcHRpb25zIiwiV2ViR0xDb250ZXh0SGFuZGxlciIsIkNvbXBpbGVTaGFkZXIiLCJBdHRyaWJ1dGUiLCJ1bmRlZmluZWQiLCJfQXR0cmlidXRlIiwiX0NvbXBpbGVTaGFkZXIiLCJfQ29tcGlsZVNoYWRlcjIiLCJfQ29udGV4dEhhbmRsZXIiLCJfQ29udGV4dEhhbmRsZXIyIiwiX0NvbnRleHRPcHRpb25zIiwiX0NvbnRleHRPcHRpb25zMiIsIl9HTFRleHR1cmUiLCJfR0xUZXh0dXJlMiIsIl9HZXRDb250ZXh0IiwiX0dldENvbnRleHQyIiwiX1Byb2dyYW0iLCJfUHJvZ3JhbTIiLCJfUmVuZGVyTGlzdCIsIl9SZW5kZXJMaXN0MiIsIl9TaGFkZXIiLCJfU2hhZGVyMiIsIl9WZXJ0ZXhCdWZmZXIiLCJfVmVydGV4QnVmZmVyMiIsIl92Ym8iLCIxNDkiLCJjYW52YXMiLCJvcHRpb25zIiwiZ2V0Q29udGV4dCIsIjcxMiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImNvbnRleHRMb3N0IiwiYWRkIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvc3QiLCJyZXN0b3JlZCIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIjcxMyIsIl9yZWYiLCJhcmd1bWVudHMiLCJfcmVmJGFscGhhIiwiYWxwaGEiLCJfcmVmJGFudGlhbGlhcyIsImFudGlhbGlhcyIsIl9yZWYkcHJlbXVsdGlwbGllZEFscCIsInByZW11bHRpcGxpZWRBbHBoYSIsIl9yZWYkc3RlbmNpbCIsInN0ZW5jaWwiLCJfcmVmJHByZXNlcnZlRHJhd2luZ0IiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCI3MTQiLCJnbCIsInNyYyIsInR5cGUiLCJBcnJheSIsImlzQXJyYXkiLCJqb2luIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwid2FybiIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCI3MTUiLCJwcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsIm5hbWUiLCJnZXQiLCJfbGVuIiwic2hhZGVycyIsIl9rZXkiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImF0dGFjaFNoYWRlciIsImVyciIsIl9sZW4yIiwiX2tleTIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJsaW5rUHJvZ3JhbSIsInJlc3VsdCIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1c2VQcm9ncmFtIiwiX2xlbjMiLCJfa2V5MyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zIiwiX2RpZEl0ZXJhdG9yRXJyb3IzIiwiX2l0ZXJhdG9yRXJyb3IzIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsImRldGF0Y2hTaGFkZXIiLCJkZWxldGVQcm9ncmFtIiwiNzE2IiwiY3JlYXRlIiwic2l6ZSIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJvZmZzZXQiLCJsb2MiLCJnZXRMb2NhdGlvbiIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRpc2FibGUiLCJsb2NhdGlvbiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImdldEF0dHJpYkxvY2F0aW9uIiwiY3JlYXRlQnl0ZSIsIlVOU0lHTkVEX0JZVEUiLCJjcmVhdGVTaG9ydCIsIlNIT1JUIiwiY3JlYXRlVW5zaWduZWRTaG9ydCIsIlVOU0lHTkVEX1NIT1JUIiwiY3JlYXRlSW50IiwiSU5UIiwiY3JlYXRlVW5zaWduZWRJbnQiLCJVTlNJR05FRF9JTlQiLCJjcmVhdGVGbG9hdCIsIkZMT0FUIiwiNzE3IiwiVmVydGV4QXJyYXlCdWZmZXIiLCJ2ZXJ0U2l6ZSIsImJhdGNoU2l6ZSIsInZlcnRpY2VzIiwiYnVmZmVyIiwiaW5kZXgiLCJ0b3RhbCIsIkZsb2F0MzJBcnJheSIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJ1c2FnZSIsImJ1ZmZlckRhdGEiLCJEWU5BTUlDX0RSQVciLCJTVEFUSUNfRFJBVyIsIlNUUkVBTV9EUkFXIiwiNzE4IiwiQWRkVmVydCIsIngiLCJ5IiwiNzIxIiwiVmVydGV4SW5kZXhCdWZmZXIiLCJpbmRpY2VzIiwiVWludDE2QXJyYXkiLCJyZXNldCIsImoiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIjg1MCIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwiVEVYVFVSRV9DVUJFX01BUCIsImRlbGV0ZVRleHR1cmUiLCJpbWFnZSIsInRleEltYWdlMkQiLCJSR0JBIiwiZmxpcFkiLCJjb2xvclNwYWNlQ29udmVydCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wiLCJsaW5lYXIiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSIiwiTkVBUkVTVCIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIm1vZGUiLCJ3cmFwUyIsIndyYXBUIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIndyYXAiLCJSRVBFQVQiLCJNSVJST1JFRF9SRVBFQVQiLCJDTEFNUF9UT19FREdFIiwiODUxIiwibGlzdCIsIlNldCIsImNsZWFyIiwiODUyIiwiODUzIiwidmVydGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCI4NTQiLCJBZGRRdWFkQWxwaGFDb2xvciIsIl9BZGRRdWFkQWxwaGFDb2xvciIsIl9BZGRRdWFkQWxwaGFDb2xvcjIiLCJfQWRkVmVydCIsIl9BZGRWZXJ0MiIsIl9WZXJ0ZXhBcnJheUJ1ZmZlciIsIl9WZXJ0ZXhBcnJheUJ1ZmZlcjIiLCJfVmVydGV4SW5kZXhCdWZmZXIiLCJfVmVydGV4SW5kZXhCdWZmZXIyIiwiODU1IiwidXZzIiwiYSIsImIiLCJkIiwidHgiLCJ0eSIsImNvbG9yMSIsImNvbG9yMiIsImNvbG9yMyIsImNvbG9yNCIsInYiLCJ3MSIsImgxIiwieDAiLCJ5MCIsIncwIiwieDEiLCJ5MSIsImgwIiwieDIiLCJ5MiIsIngzIiwieTMiXSwibWFwcGluZ3MiOiJD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LEdBQUs3USxFQUFJMFEsR0FBS1IsRUFDM0JNLEVBQUU1TSxLQUFPcU0sRUFBSVMsR0FBS1YsRUFBSWEsR0FBS1YsRUFDM0JLLEVBQUU1TSxLQUFPa00sRUFBSWdCLEdBQ2JOLEVBQUU1TSxLQUFPa00sRUFBSWlCLEdBQ2JQLEVBQUU1TSxLQUFPdUIsRUFDVHFMLEVBQUU1TSxLQUFPeU0sRUFHVEcsRUFBRTVNLEtBQU9tTSxFQUFJYyxHQUFLN1EsRUFBSWdSLEdBQUtkLEVBQzNCTSxFQUFFNU0sS0FBT3FNLEVBQUllLEdBQUtoQixFQUFJYSxHQUFLVixFQUMzQkssRUFBRTVNLEtBQU9rTSxFQUFJbUIsR0FDYlQsRUFBRTVNLEtBQU9rTSxFQUFJb0IsR0FDYlYsRUFBRTVNLEtBQU91QixFQUNUcUwsRUFBRTVNLEtBQU8wTSxFQUdURSxFQUFFNU0sS0FBT21NLEVBQUlVLEdBQUt6USxFQUFJZ1IsR0FBS2QsRUFDM0JNLEVBQUU1TSxLQUFPcU0sRUFBSWUsR0FBS2hCLEVBQUlTLEdBQUtOLEVBQzNCSyxFQUFFNU0sS0FBT2tNLEVBQUlxQixHQUNiWCxFQUFFNU0sS0FBT2tNLEVBQUlzQixHQUNiWixFQUFFNU0sS0FBT3VCLEVBQ1RxTCxFQUFFNU0sS0FBTzJNLEVBRVRsRixFQUFPN0IsT2pCMm9DVjlJLE9BQU9HLGVBQWUxQixFQUFTLGNBQzNCMkIsT0FBTyxJQUVYM0IsYWlCbnJDdUJpUSIsImZpbGUiOiJ3ZWJnbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwid2ViZ2xcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wid2ViZ2xcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibGF6ZXJcIl0gPSByb290W1wibGF6ZXJcIl0gfHwge30sIHJvb3RbXCJsYXplclwiXVtcIndlYmdsXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJ3ZWJnbFwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJ3ZWJnbFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJsYXplclwiXSA9IHJvb3RbXCJsYXplclwiXSB8fCB7fSwgcm9vdFtcImxhemVyXCJdW1wid2ViZ2xcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVmVydGV4QnVmZmVyID0gZXhwb3J0cy52Ym8gPSBleHBvcnRzLldlYkdMU2hhZGVyID0gZXhwb3J0cy5SZW5kZXJMaXN0ID0gZXhwb3J0cy5XZWJHTFByb2dyYW0gPSBleHBvcnRzLkdldENvbnRleHQgPSBleHBvcnRzLkdMVGV4dHVyZSA9IGV4cG9ydHMuV2ViR0xDb250ZXh0T3B0aW9ucyA9IGV4cG9ydHMuV2ViR0xDb250ZXh0SGFuZGxlciA9IGV4cG9ydHMuQ29tcGlsZVNoYWRlciA9IGV4cG9ydHMuQXR0cmlidXRlID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9BdHRyaWJ1dGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNik7XG5cdFxuXHR2YXIgQXR0cmlidXRlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0F0dHJpYnV0ZSk7XG5cdFxuXHR2YXIgX0NvbXBpbGVTaGFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNCk7XG5cdFxuXHR2YXIgX0NvbXBpbGVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tcGlsZVNoYWRlcik7XG5cdFxuXHR2YXIgX0NvbnRleHRIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTIpO1xuXHRcblx0dmFyIF9Db250ZXh0SGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0SGFuZGxlcik7XG5cdFxuXHR2YXIgX0NvbnRleHRPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9Db250ZXh0T3B0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0T3B0aW9ucyk7XG5cdFxuXHR2YXIgX0dMVGV4dHVyZSA9IF9fd2VicGFja19yZXF1aXJlX18oODUwKTtcblx0XG5cdHZhciBfR0xUZXh0dXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVGV4dHVyZSk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2V0Q29udGV4dCk7XG5cdFxuXHR2YXIgX1Byb2dyYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNSk7XG5cdFxuXHR2YXIgX1Byb2dyYW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvZ3JhbSk7XG5cdFxuXHR2YXIgX1JlbmRlckxpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1MSk7XG5cdFxuXHR2YXIgX1JlbmRlckxpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVuZGVyTGlzdCk7XG5cdFxuXHR2YXIgX1NoYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oODUyKTtcblx0XG5cdHZhciBfU2hhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NoYWRlcik7XG5cdFxuXHR2YXIgX1ZlcnRleEJ1ZmZlciA9IF9fd2VicGFja19yZXF1aXJlX18oODUzKTtcblx0XG5cdHZhciBfVmVydGV4QnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlcnRleEJ1ZmZlcik7XG5cdFxuXHR2YXIgX3ZibyA9IF9fd2VicGFja19yZXF1aXJlX18oODU0KTtcblx0XG5cdHZhciB2Ym8gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmJvKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZXhwb3J0cy5BdHRyaWJ1dGUgPSBBdHRyaWJ1dGU7XG5cdGV4cG9ydHMuQ29tcGlsZVNoYWRlciA9IF9Db21waWxlU2hhZGVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLldlYkdMQ29udGV4dEhhbmRsZXIgPSBfQ29udGV4dEhhbmRsZXIyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuV2ViR0xDb250ZXh0T3B0aW9ucyA9IF9Db250ZXh0T3B0aW9uczIuZGVmYXVsdDtcblx0ZXhwb3J0cy5HTFRleHR1cmUgPSBfR0xUZXh0dXJlMi5kZWZhdWx0O1xuXHRleHBvcnRzLkdldENvbnRleHQgPSBfR2V0Q29udGV4dDIuZGVmYXVsdDtcblx0ZXhwb3J0cy5XZWJHTFByb2dyYW0gPSBfUHJvZ3JhbTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5SZW5kZXJMaXN0ID0gX1JlbmRlckxpc3QyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuV2ViR0xTaGFkZXIgPSBfU2hhZGVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLnZibyA9IHZibztcblx0ZXhwb3J0cy5WZXJ0ZXhCdWZmZXIgPSBfVmVydGV4QnVmZmVyMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBHZXRDb250ZXh0O1xuXHRmdW5jdGlvbiBHZXRDb250ZXh0KGNhbnZhcywgb3B0aW9ucykge1xuXHRcblx0ICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucykgfHwgbnVsbDtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIFdlYkdMQ29udGV4dEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gV2ViR0xDb250ZXh0SGFuZGxlcihjYW52YXMpIHtcblx0ICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTENvbnRleHRIYW5kbGVyKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRMb3N0ID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGNhbnZhcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZChjYW52YXMpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX2NyZWF0ZUNsYXNzKFdlYkdMQ29udGV4dEhhbmRsZXIsIFt7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdhZGQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChjYW52YXMpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMubG9zdCwgZmFsc2UpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMucmVzdG9yZWQsIGZhbHNlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdsb3N0Jyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb3N0KGV2ZW50KSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViR0wgQ29udGV4dCBMb3N0Jyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TG9zdCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAncmVzdG9yZWQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RvcmVkKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYkdMIENvbnRleHQgcmVzdG9yZWQnKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dExvc3QgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5IGFsbCB0aGUgb2xkIGdsIHRleHR1cmVzIGFzIHRoZXkgYXJlIHVzZWxlc3Mgbm93XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAncmVtb3ZlJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5sb3N0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLnJlc3RvcmVkKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9XSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBXZWJHTENvbnRleHRIYW5kbGVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBXZWJHTENvbnRleHRIYW5kbGVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMQ29udGV4dE9wdGlvbnM7XG5cdGZ1bmN0aW9uIFdlYkdMQ29udGV4dE9wdGlvbnMoKSB7XG5cdCAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXHRcblx0ICAgIHZhciBfcmVmJGFscGhhID0gX3JlZi5hbHBoYTtcblx0ICAgIHZhciBhbHBoYSA9IF9yZWYkYWxwaGEgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRhbHBoYTtcblx0ICAgIHZhciBfcmVmJGFudGlhbGlhcyA9IF9yZWYuYW50aWFsaWFzO1xuXHQgICAgdmFyIGFudGlhbGlhcyA9IF9yZWYkYW50aWFsaWFzID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRhbnRpYWxpYXM7XG5cdCAgICB2YXIgX3JlZiRwcmVtdWx0aXBsaWVkQWxwID0gX3JlZi5wcmVtdWx0aXBsaWVkQWxwaGE7XG5cdCAgICB2YXIgcHJlbXVsdGlwbGllZEFscGhhID0gX3JlZiRwcmVtdWx0aXBsaWVkQWxwID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkcHJlbXVsdGlwbGllZEFscDtcblx0ICAgIHZhciBfcmVmJHN0ZW5jaWwgPSBfcmVmLnN0ZW5jaWw7XG5cdCAgICB2YXIgc3RlbmNpbCA9IF9yZWYkc3RlbmNpbCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJHN0ZW5jaWw7XG5cdCAgICB2YXIgX3JlZiRwcmVzZXJ2ZURyYXdpbmdCID0gX3JlZi5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cdCAgICB2YXIgcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gX3JlZiRwcmVzZXJ2ZURyYXdpbmdCID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkcHJlc2VydmVEcmF3aW5nQjtcblx0XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBhbHBoYTogYWxwaGEsXG5cdCAgICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXG5cdCAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBwcmVtdWx0aXBsaWVkQWxwaGEsXG5cdCAgICAgICAgc3RlbmNpbDogc3RlbmNpbCxcblx0ICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHByZXNlcnZlRHJhd2luZ0J1ZmZlclxuXHQgICAgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBDb21waWxlU2hhZGVyO1xuXHQvKipcclxuXHQgKiBDb21waWxlU2hhZGVyXHJcblx0ICogXHJcblx0ICogQHBhcmFtICB7b2JqZWN0fSBnbCAtIFdlYkdMIENvbnRleHRcclxuXHQgKiBAcGFyYW0gIHtzdHJpbmd8YXJyYXl9IHNyYyAtIFNoYWRlciBzb3VyY2UgY29kZVxyXG5cdCAqIEBwYXJhbSAge2ludGVnZXJ9IHR5cGUgLSBUeXBlIG9mIHNoYWRlci4gRWl0aGVyIGdsLlZFUlRFWF9TSEFERVIgb3IgZ2wuRlJBR01FTlRfU0hBREVSXHJcblx0ICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IFRoZSBjb21waWxlZCBzaGFkZXIsIG9yIG51bGwgaWYgc2hhZGVyIGNvdWxkIG5vdCBjb21waWxlLlxyXG5cdCAqL1xuXHRmdW5jdGlvbiBDb21waWxlU2hhZGVyKGdsLCBzcmMsIHR5cGUpIHtcblx0XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShzcmMpKSB7XG5cdCAgICAgICAgc3JjID0gc3JjLmpvaW4oJ1xcbicpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cdFxuXHQgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcblx0XG5cdCAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cdFxuXHQgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjb21waWxlIHNoYWRlcjogJyArIGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG5cdFxuXHQgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuXHRcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHNoYWRlcjtcblx0ICAgIH1cblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfQXR0cmlidXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTYpO1xuXHRcblx0dmFyIEF0dHJpYnV0ZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9BdHRyaWJ1dGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgV2ViR0xQcm9ncmFtID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gV2ViR0xQcm9ncmFtKGdsKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUHJvZ3JhbSk7XG5cdFxuXHQgICAgICAgIHRoaXMuZ2wgPSBnbDtcblx0XG5cdCAgICAgICAgdGhpcy5wcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuXHRcblx0ICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSkge1xuXHQgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYkdMUHJvZ3JhbSAtIHVuYWJsZSB0byBjcmVhdGVQcm9ncmFtIG9uIGdsIGNvbnRleHQnKTtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhXZWJHTFByb2dyYW0sIFt7XG5cdCAgICAgICAga2V5OiAnZ2V0QXR0cmliJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXR0cmliKG5hbWUpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBBdHRyaWJ1dGUuZ2V0KHRoaXMuZ2wsIHRoaXMucHJvZ3JhbSwgbmFtZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2F0dGFjaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaCgpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNoYWRlcnMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgICAgIHNoYWRlcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gc2hhZGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgc2hhZGVyID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgc2hhZGVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcblx0ICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2F0dGFjaEFuZERlbGV0ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaEFuZERlbGV0ZSgpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBzaGFkZXJzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgICAgICAgICAgIHNoYWRlcnNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcblx0ICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHQgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICAgICAgdHJ5IHtcblx0XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gc2hhZGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzaGFkZXIgPSBfc3RlcDIudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgc2hhZGVyKTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG5cdCAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2xpbmsnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsaW5rKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbC5saW5rUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIHRoaXMuZ2wuTElOS19TVEFUVVMpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IHRoaXMuZ2wuZ2V0UHJvZ3JhbUluZm9Mb2codGhpcy5wcm9ncmFtKTtcblx0XG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsaW5rIFdlYkdMIHByb2dyYW06ICcgKyBlcnJvcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5kZWxldGUoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3VzZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVzZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2RldGF0Y2gnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhdGNoKCkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHNoYWRlcnMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuXHQgICAgICAgICAgICAgICAgc2hhZGVyc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgICAgICB0cnkge1xuXHRcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBzaGFkZXJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHNoYWRlciA9IF9zdGVwMy52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5kZXRhdGNoU2hhZGVyKHNoYWRlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcblx0ICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZGVsZXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5kZWxldGUoKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXHQgICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gV2ViR0xQcm9ncmFtO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBXZWJHTFByb2dyYW07XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGV4cG9ydHMuZ2V0TG9jYXRpb24gPSBnZXRMb2NhdGlvbjtcblx0ZXhwb3J0cy5jcmVhdGVCeXRlID0gY3JlYXRlQnl0ZTtcblx0ZXhwb3J0cy5jcmVhdGVTaG9ydCA9IGNyZWF0ZVNob3J0O1xuXHRleHBvcnRzLmNyZWF0ZVVuc2lnbmVkU2hvcnQgPSBjcmVhdGVVbnNpZ25lZFNob3J0O1xuXHRleHBvcnRzLmNyZWF0ZUludCA9IGNyZWF0ZUludDtcblx0ZXhwb3J0cy5jcmVhdGVVbnNpZ25lZEludCA9IGNyZWF0ZVVuc2lnbmVkSW50O1xuXHRleHBvcnRzLmNyZWF0ZUZsb2F0ID0gY3JlYXRlRmxvYXQ7XG5cdGZ1bmN0aW9uIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgc2l6ZSwgdHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpIHtcblx0XG5cdCAgICB2YXIgbG9jID0gZ2V0TG9jYXRpb24oZ2wsIHByb2dyYW0sIG5hbWUpO1xuXHRcblx0ICAgIGlmIChsb2MgIT09IG51bGwpIHtcblx0ICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvYywgc2l6ZSwgdHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xuXHRcblx0ICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2MpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBsb2M7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRpc2FibGUoZ2wsIGxvY2F0aW9uKSB7XG5cdFxuXHQgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0TG9jYXRpb24oZ2wsIHByb2dyYW0sIG5hbWUpIHtcblx0XG5cdCAgICB2YXIgbG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgbmFtZSk7XG5cdFxuXHQgICAgaWYgKGxvYyA8IDApIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ1dlYkdMUHJvZ3JhbSAtIGZhaWxlZCB0byBnZXQgYXR0cmlidXRlIGxvY2F0aW9uOiAnICsgbmFtZSk7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBsb2M7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUJ5dGUoZ2wsIHByb2dyYW0sIG5hbWUpIHtcblx0ICAgIHZhciBub3JtYWxpemVkID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbM107XG5cdCAgICB2YXIgc3RyaWRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s0XTtcblx0ICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDUgfHwgYXJndW1lbnRzWzVdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzVdO1xuXHRcblx0XG5cdCAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5VTlNJR05FRF9CWVRFLCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVNob3J0KGdsLCBwcm9ncmFtLCBuYW1lKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXHQgICAgdmFyIHN0cmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuU0hPUlQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVW5zaWduZWRTaG9ydChnbCwgcHJvZ3JhbSwgbmFtZSkge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTtcblx0ICAgIHZhciBzdHJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzRdO1xuXHQgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cdFxuXHRcblx0ICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLlVOU0lHTkVEX1NIT1JULCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUludChnbCwgcHJvZ3JhbSwgbmFtZSkge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTtcblx0ICAgIHZhciBzdHJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzRdO1xuXHQgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cdFxuXHRcblx0ICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLklOVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVVbnNpZ25lZEludChnbCwgcHJvZ3JhbSwgbmFtZSkge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTtcblx0ICAgIHZhciBzdHJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzRdO1xuXHQgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cdFxuXHRcblx0ICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLlVOU0lHTkVEX0lOVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVGbG9hdChnbCwgcHJvZ3JhbSwgbmFtZSkge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTtcblx0ICAgIHZhciBzdHJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzRdO1xuXHQgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cdFxuXHRcblx0ICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLkZMT0FULCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzE3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgVmVydGV4QXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBWZXJ0ZXhBcnJheUJ1ZmZlcigpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmVydGV4QXJyYXlCdWZmZXIpO1xuXHRcblx0ICAgICAgICB0aGlzLnZlcnRTaXplID0gMDtcblx0ICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDA7XG5cdFxuXHQgICAgICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuXHQgICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblx0XG5cdCAgICAgICAgdGhpcy5pbmRleCA9IDA7XG5cdCAgICAgICAgdGhpcy50b3RhbCA9IDA7XG5cdCAgICAgICAgdGhpcy5zaXplID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVmVydGV4QXJyYXlCdWZmZXIsIFt7XG5cdCAgICAgICAga2V5OiBcImNyZWF0ZVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoZ2wpIHtcblx0ICAgICAgICAgICAgdmFyIHZlcnRTaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMiA6IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDIwMDAgOiBhcmd1bWVudHNbMl07XG5cdFxuXHRcblx0ICAgICAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IHZlcnRTaXplO1xuXHQgICAgICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYmF0Y2hTaXplICogdGhpcy52ZXJ0U2l6ZSk7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcblx0ICAgICAgICAgICAgdGhpcy50b3RhbCA9IDA7XG5cdCAgICAgICAgICAgIHRoaXMuc2l6ZSA9IDA7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmJpbmRCdWZmZXIoZ2wpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYmluZEJ1ZmZlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kQnVmZmVyKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gIHVzYWdlID0gZ2wuRFlOQU1JQ19EUkFXLCBnbC5TVEFUSUNfRFJBVyBvciBnbC5TVFJFQU1fRFJBV1xuXHRcblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYnVmZmVyRGF0YVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJEYXRhKGdsLCB1c2FnZSkge1xuXHRcblx0ICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIHVzYWdlKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImJ1ZmZlckR5bmFtaWNEYXRhXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1ZmZlckR5bmFtaWNEYXRhKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgZ2wuRFlOQU1JQ19EUkFXKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImJ1ZmZlclN0YXRpY0RhdGFcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyU3RhdGljRGF0YShnbCkge1xuXHRcblx0ICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImJ1ZmZlclN0cmVhbURhdGFcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyU3RyZWFtRGF0YShnbCkge1xuXHRcblx0ICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIGdsLlNUUkVBTV9EUkFXKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlc2V0XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XG5cdCAgICAgICAgICAgIHRoaXMuc2l6ZSA9IDA7XG5cdCAgICAgICAgICAgIHRoaXMudG90YWwgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVmVydGV4QXJyYXlCdWZmZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZlcnRleEFycmF5QnVmZmVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEFkZFZlcnQ7XG5cdC8vICBBZGQgYSBzaW5nbGUgdmVydCBzZXQgaW50byB0aGUgVmVydGV4IEJ1ZmZlclxuXHRcblx0ZnVuY3Rpb24gQWRkVmVydChidWZmZXIsIHgsIHkpIHtcblx0XG5cdCAgICBidWZmZXIudmVydGljZXNbYnVmZmVyLmluZGV4KytdID0geDtcblx0ICAgIGJ1ZmZlci52ZXJ0aWNlc1tidWZmZXIuaW5kZXgrK10gPSB5O1xuXHRcblx0ICAgIGJ1ZmZlci50b3RhbCsrO1xuXHRcblx0ICAgIC8vICByZXR1cm4gdGhlIHN0YXJ0aW5nIGluZGV4IG9mIHRoZSBwb2ludFxuXHQgICAgcmV0dXJuIGJ1ZmZlci5pbmRleCAtIDI7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBWZXJ0ZXhJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBWZXJ0ZXhJbmRleEJ1ZmZlcigpIHtcblx0ICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZXJ0ZXhJbmRleEJ1ZmZlcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IDA7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9jcmVhdGVDbGFzcyhWZXJ0ZXhJbmRleEJ1ZmZlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2NyZWF0ZScsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGdsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZXJ0U2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDYgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXRjaFNpemUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAyMDAwIDogYXJndW1lbnRzWzJdO1xuXHRcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDY1NTM1IGlzIHRoZSBtYXhpbXVtIGJ1ZmZlciBzaXplICg2NEtCKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVydFNpemUgKiBiYXRjaFNpemUgPiA2NTUzNSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVmVydGV4SW5kZXhCdWZmZXI6IENhbm5vdCBjcmVhdGUgYnVmZmVyID4gNjU1MzUgYnl0ZXMnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmVydFNpemUgPSB2ZXJ0U2l6ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoYmF0Y2hTaXplICogdmVydFNpemUpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5idWZmZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZXNldCcsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgU2FtcGxlIGluZGljZXMgYXJyYXkgZm9yIDIgZWxlbWVudHMgKGJhdGNoU2l6ZSAyLCB2ZXJ0U2l6ZSA2KVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBbIDAsIDEsIDIsIDAsIDIsIDMgXVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBbIDQsIDUsIDYsIDQsIDYsIDcgXVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIDAsIDEsIDIgPSB0aGUgdmVydGljZXMgb2YgdGhlIGZpcnN0IHRyaWFuZ2xlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICAwLCAyLCAzID0gdGhlIHZlcnRpY2VzIG9mIHRoZSBzZWNvbmQgdHJpYW5nbGUgKG5vdGUgdGhlIHR3byBvdmVybGFwcGluZyBwb2ludHMpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb21iaW5lZCB0aGlzIGdpdmVzIHVzIG91ciBxdWFkIChvciB0aGUgZnJvbnQgZmFjZSBvZiBhIGN1YmUgaWYgd2Ugd2FudGVkKVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIDQsIDUsIDYgPSB0aGUgdmVydGljZXMgb2YgdGhlIGZpcnN0IHRyaWFuZ2xlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICA0LCA2LCA3ID0gdGhlIHZlcnRpY2VzIG9mIHRoZSBzZWNvbmQgdHJpYW5nbGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNvbWJpbmVkIHRoaXMgZ2l2ZXMgdXMgb3VyIHNlY29uZCBxdWFkIChvciB0aGUgYmFjayBmYWNlIG9mIGEgY3ViZSBpZiB3ZSB3YW50ZWQpXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgQW5kIHNvIG9uIC4uLlxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2l0aCA2IGluZGljZXMgcGVyIHF1YWQgdGhhdCdzIDEwOTIyIG1heFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFRoaXMgc2V0LXVwIGlzIHF1YWQgc3BlY2lmaWMgYW5kIG5lZWRzIHJlbW92aW5nIGZyb20gJ3Jlc2V0JyBhbmQgbW92aW5nIHRvXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBpdHMgb3duIGNsYXNzIChRdWFkSW5kZXhCdWZmZXIgcHJvYmFibHkpXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0aGlzLmJhdGNoU2l6ZSAqIHRoaXMudmVydFNpemU7IGkgKz0gdGhpcy52ZXJ0U2l6ZSwgaiArPSA0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAwXSA9IGogKyAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDJdID0gaiArIDI7IC8vIGZpcnN0IHRyaVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgM10gPSBqICsgMDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDRdID0gaiArIDI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyA1XSA9IGogKyAzOyAvLyBzZWNvbmQgdHJpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdiaW5kQnVmZmVyJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kQnVmZmVyKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAnYnVmZmVyRGF0YScsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyRGF0YShnbCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfV0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gVmVydGV4SW5kZXhCdWZmZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZlcnRleEluZGV4QnVmZmVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA4NTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBHTFRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBHTFRleHR1cmUoZ2wpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR0xUZXh0dXJlKTtcblx0XG5cdCAgICAgICAgdGhpcy5nbCA9IGdsO1xuXHQgICAgICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEdMVGV4dHVyZSwgW3tcblx0ICAgICAgICBrZXk6IFwiY3JlYXRlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJiaW5kXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmQoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYmluZEN1YmVNYXBcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEN1YmVNYXAoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy50ZXh0dXJlKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiZGVsZXRlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGUoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibG9hZEltYWdlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbWFnZShpbWFnZSkge1xuXHRcblx0ICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblx0XG5cdCAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgaW1hZ2UpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzZXRQYWNrU3RhdGVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGFja1N0YXRlKCkge1xuXHQgICAgICAgICAgICB2YXIgYWxwaGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblx0ICAgICAgICAgICAgdmFyIGZsaXBZID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciBjb2xvclNwYWNlQ29udmVydCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzJdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cdFxuXHQgICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGFscGhhKTtcblx0ICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmxpcFkpO1xuXHQgICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfQ09MT1JTUEFDRV9DT05WRVJTSU9OX1dFQkdMLCBjb2xvclNwYWNlQ29udmVydCk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIm1pbkZpbHRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBtaW5GaWx0ZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBsaW5lYXIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIGlmIChsaW5lYXIpIHtcblx0ICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIm1hZ0ZpbHRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYWdGaWx0ZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBsaW5lYXIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIGlmIChsaW5lYXIpIHtcblx0ICAgICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJlbmFibGVMaW5lYXJTY2FsaW5nXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZUxpbmVhclNjYWxpbmcoKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXHRcblx0ICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG5cdCAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJlbmFibGVOZWFyZXN0U2NhbGluZ1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVOZWFyZXN0U2NhbGluZygpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cdFxuXHQgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG5cdCAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwid3JhcFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwKG1vZGUpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMud3JhcFMobW9kZSk7XG5cdCAgICAgICAgICAgIHRoaXMud3JhcFQobW9kZSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICBUZXh0dXJlIHdyYXBwaW5nIGluIHRoZSBzIGF4aXMgKGxlZnQvcmlnaHQpXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJ3cmFwU1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwUyhtb2RlKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLmdsLlRFWFRVUkVfV1JBUF9TLCBtb2RlKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gIFRleHR1cmUgd3JhcHBpbmcgaW4gdGhlIHQgYXhpcyAodG9wL2JvdHRvbSlcblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIndyYXBUXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHdyYXBUKG1vZGUpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRoaXMuZ2wuVEVYVFVSRV9XUkFQX1QsIG1vZGUpO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJ3cmFwUmVwZWF0XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHdyYXBSZXBlYXQoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2wuUkVQRUFUKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIndyYXBNaXJyb3JlZFJlcGVhdFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwTWlycm9yZWRSZXBlYXQoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2wuTUlSUk9SRURfUkVQRUFUKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIndyYXBDbGFtcFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwQ2xhbXAoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2wuQ0xBTVBfVE9fRURHRSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJkZXN0cm95XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmRlbGV0ZSgpO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBHTFRleHR1cmU7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEdMVGV4dHVyZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODUxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgUmVuZGVyTGlzdCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFJlbmRlckxpc3QoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbmRlckxpc3QpO1xuXHRcblx0ICAgICAgICB0aGlzLmxpc3QgPSBuZXcgU2V0KCk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFJlbmRlckxpc3QsIFt7XG5cdCAgICAgICAga2V5OiBcImNsZWFyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5saXN0LmNsZWFyKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJhZGRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKHRleHR1cmUpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMubGlzdC5hZGQodGV4dHVyZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJsZW5ndGhcIixcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Quc2l6ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFJlbmRlckxpc3Q7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFJlbmRlckxpc3Q7XG5cbi8qKiovIH0sXG5cbi8qKiovIDg1Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgV2ViR0xTaGFkZXIgPSBmdW5jdGlvbiBXZWJHTFNoYWRlcihnbCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMU2hhZGVyKTtcblx0XG5cdCAgICB0aGlzLmdsID0gZ2w7XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBXZWJHTFNoYWRlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gODUzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIFZlcnRleEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBWZXJ0ZXhCdWZmZXIoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmVydFNpemUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyA2IDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDIwMDAgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZlcnRleEJ1ZmZlcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IHZlcnRTaXplO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnN0cmlkZSA9IHZlcnRTaXplICogNDtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmJhdGNoU2l6ZSAqIDQgKiB0aGlzLnZlcnRTaXplKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmJhdGNoU2l6ZSAqIDYpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX2NyZWF0ZUNsYXNzKFZlcnRleEJ1ZmZlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogXCJyZXNldEluZGljZXNcIixcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEluZGljZXMoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0aGlzLmJhdGNoU2l6ZSAqIDY7IGkgKz0gNiwgaiArPSA0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAwXSA9IGogKyAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDJdID0gaiArIDI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAzXSA9IGogKyAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDVdID0gaiArIDM7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6IFwiY3JlYXRlXCIsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2ZXJ0ZXhCdWZmZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgZmFpbGVkIHRvIGNyZWF0ZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2ZXJ0ZXhCdWZmZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgZmFpbGVkIHRvIGNyZWF0ZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gNjU1MzUgaXMgbWF4IGluZGV4LCBzbyA2NTUzNSAvIDYgPSAxMDkyMi5cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBVcGxvYWQgdGhlIGluZGV4IGRhdGFcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleEJ1ZmZlcik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIGdsLkRZTkFNSUNfRFJBVyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfV0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gVmVydGV4QnVmZmVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBWZXJ0ZXhCdWZmZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDg1NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0J2NyZWF0ZSBpbmRleCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlZlcnRleEluZGV4QnVmZmVyID0gZXhwb3J0cy5WZXJ0ZXhBcnJheUJ1ZmZlciA9IGV4cG9ydHMuQWRkVmVydCA9IGV4cG9ydHMuQWRkUXVhZEFscGhhQ29sb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX0FkZFF1YWRBbHBoYUNvbG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NTUpO1xuXHRcblx0dmFyIF9BZGRRdWFkQWxwaGFDb2xvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BZGRRdWFkQWxwaGFDb2xvcik7XG5cdFxuXHR2YXIgX0FkZFZlcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOCk7XG5cdFxuXHR2YXIgX0FkZFZlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRkVmVydCk7XG5cdFxuXHR2YXIgX1ZlcnRleEFycmF5QnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTcpO1xuXHRcblx0dmFyIF9WZXJ0ZXhBcnJheUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZXJ0ZXhBcnJheUJ1ZmZlcik7XG5cdFxuXHR2YXIgX1ZlcnRleEluZGV4QnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjEpO1xuXHRcblx0dmFyIF9WZXJ0ZXhJbmRleEJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZXJ0ZXhJbmRleEJ1ZmZlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5BZGRRdWFkQWxwaGFDb2xvciA9IF9BZGRRdWFkQWxwaGFDb2xvcjIuZGVmYXVsdDtcblx0ZXhwb3J0cy5BZGRWZXJ0ID0gX0FkZFZlcnQyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuVmVydGV4QXJyYXlCdWZmZXIgPSBfVmVydGV4QXJyYXlCdWZmZXIyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuVmVydGV4SW5kZXhCdWZmZXIgPSBfVmVydGV4SW5kZXhCdWZmZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDg1NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQWRkUXVhZEFscGhhQ29sb3I7XG5cdC8vICB1dnMgPSBVViBvYmplY3Rcblx0Ly8gIGEtdHkgPSBmbG9hdHNcblx0Ly8gIGFscGhhID0gZmxvYXRcblx0Ly8gIGNvbG9yWCA9IGludHNcblx0XG5cdGZ1bmN0aW9uIEFkZFF1YWRBbHBoYUNvbG9yKGJ1ZmZlciwgdXZzLCBhLCBiLCBjLCBkLCB0eCwgdHkpIHtcblx0ICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gOCB8fCBhcmd1bWVudHNbOF0gPT09IHVuZGVmaW5lZCA/IDEuMCA6IGFyZ3VtZW50c1s4XTtcblx0ICAgIHZhciBjb2xvcjEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDkgfHwgYXJndW1lbnRzWzldID09PSB1bmRlZmluZWQgPyAweGZmZmZmZiA6IGFyZ3VtZW50c1s5XTtcblx0ICAgIHZhciBjb2xvcjIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEwIHx8IGFyZ3VtZW50c1sxMF0gPT09IHVuZGVmaW5lZCA/IDB4ZmZmZmZmIDogYXJndW1lbnRzWzEwXTtcblx0ICAgIHZhciBjb2xvcjMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDExIHx8IGFyZ3VtZW50c1sxMV0gPT09IHVuZGVmaW5lZCA/IDB4ZmZmZmZmIDogYXJndW1lbnRzWzExXTtcblx0ICAgIHZhciBjb2xvcjQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEyIHx8IGFyZ3VtZW50c1sxMl0gPT09IHVuZGVmaW5lZCA/IDB4ZmZmZmZmIDogYXJndW1lbnRzWzEyXTtcblx0XG5cdFxuXHQgICAgdmFyIHYgPSBidWZmZXIudmVydGljZXM7XG5cdCAgICB2YXIgaSA9IGJ1ZmZlci5zaXplICogNCAqIGJ1ZmZlci52ZXJ0U2l6ZTtcblx0XG5cdCAgICAvLyAgVG9wIExlZnQgdmVydCAoeHksIHV2LCBjb2xvcilcblx0ICAgIHZbaSsrXSA9IGEgKiB3MSArIGMgKiBoMSArIHR4O1xuXHQgICAgdltpKytdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG5cdCAgICB2W2krK10gPSB1dnMueDA7XG5cdCAgICB2W2krK10gPSB1dnMueTA7XG5cdCAgICB2W2krK10gPSBhbHBoYTtcblx0ICAgIHZbaSsrXSA9IGNvbG9yMTtcblx0XG5cdCAgICAvLyAgVG9wIFJpZ2h0IHZlcnQgKHh5LCB1diwgY29sb3IpXG5cdCAgICB2W2krK10gPSBhICogdzAgKyBjICogaDEgKyB0eDtcblx0ICAgIHZbaSsrXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuXHQgICAgdltpKytdID0gdXZzLngxO1xuXHQgICAgdltpKytdID0gdXZzLnkxO1xuXHQgICAgdltpKytdID0gYWxwaGE7XG5cdCAgICB2W2krK10gPSBjb2xvcjI7XG5cdFxuXHQgICAgLy8gIEJvdHRvbSBSaWdodCB2ZXJ0ICh4eSwgdXYsIGNvbG9yKVxuXHQgICAgdltpKytdID0gYSAqIHcwICsgYyAqIGgwICsgdHg7XG5cdCAgICB2W2krK10gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblx0ICAgIHZbaSsrXSA9IHV2cy54Mjtcblx0ICAgIHZbaSsrXSA9IHV2cy55Mjtcblx0ICAgIHZbaSsrXSA9IGFscGhhO1xuXHQgICAgdltpKytdID0gY29sb3IzO1xuXHRcblx0ICAgIC8vICBCb3R0b20gTGVmdCB2ZXJ0ICh4eSwgdXYsIGNvbG9yKVxuXHQgICAgdltpKytdID0gYSAqIHcxICsgYyAqIGgwICsgdHg7XG5cdCAgICB2W2krK10gPSBkICogaDAgKyBiICogdzEgKyB0eTtcblx0ICAgIHZbaSsrXSA9IHV2cy54Mztcblx0ICAgIHZbaSsrXSA9IHV2cy55Mztcblx0ICAgIHZbaSsrXSA9IGFscGhhO1xuXHQgICAgdltpKytdID0gY29sb3I0O1xuXHRcblx0ICAgIGJ1ZmZlci5zaXplKys7XG5cdH1cblxuLyoqKi8gfVxuXG4vKioqKioqLyB9KVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2ViZ2wuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDFiNmY1OGExNzc0NTA4MGYwMDFhXG4gKiovIiwiaW1wb3J0ICogYXMgQXR0cmlidXRlIGZyb20gJy4vQXR0cmlidXRlLmpzJztcclxuaW1wb3J0IENvbXBpbGVTaGFkZXIgZnJvbSAnLi9Db21waWxlU2hhZGVyLmpzJztcclxuaW1wb3J0IFdlYkdMQ29udGV4dEhhbmRsZXIgZnJvbSAnLi9Db250ZXh0SGFuZGxlci5qcyc7XHJcbmltcG9ydCBXZWJHTENvbnRleHRPcHRpb25zIGZyb20gJy4vQ29udGV4dE9wdGlvbnMuanMnO1xyXG5pbXBvcnQgR0xUZXh0dXJlIGZyb20gJy4vR0xUZXh0dXJlLmpzJztcclxuaW1wb3J0IEdldENvbnRleHQgZnJvbSAnLi9HZXRDb250ZXh0LmpzJztcclxuaW1wb3J0IFdlYkdMUHJvZ3JhbSBmcm9tICcuL1Byb2dyYW0uanMnO1xyXG5pbXBvcnQgUmVuZGVyTGlzdCBmcm9tICcuL1JlbmRlckxpc3QuanMnO1xyXG5pbXBvcnQgV2ViR0xTaGFkZXIgZnJvbSAnLi9TaGFkZXIuanMnO1xyXG5pbXBvcnQgVmVydGV4QnVmZmVyIGZyb20gJy4vVmVydGV4QnVmZmVyLmpzJztcclxuaW1wb3J0ICogYXMgdmJvIGZyb20gJy4vdmJvJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBdHRyaWJ1dGUsXHJcbiAgICBDb21waWxlU2hhZGVyLFxyXG4gICAgV2ViR0xDb250ZXh0SGFuZGxlcixcclxuICAgIFdlYkdMQ29udGV4dE9wdGlvbnMsXHJcbiAgICBHTFRleHR1cmUsXHJcbiAgICBHZXRDb250ZXh0LFxyXG4gICAgV2ViR0xQcm9ncmFtLFxyXG4gICAgUmVuZGVyTGlzdCxcclxuICAgIFdlYkdMU2hhZGVyLFxyXG4gICAgdmJvLFxyXG4gICAgVmVydGV4QnVmZmVyXHJcbn07XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9pbmRleC5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdldENvbnRleHQgKGNhbnZhcywgb3B0aW9ucykge1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgXHJcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpIHx8IFxyXG4gICAgICAgIG51bGxcclxuICAgICk7XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvR2V0Q29udGV4dC5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdMQ29udGV4dEhhbmRsZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChjYW52YXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29udGV4dExvc3QgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGNhbnZhcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkKGNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGQgKGNhbnZhcykge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jYW52YXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmxvc3QsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMucmVzdG9yZWQsIGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbG9zdCAoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYkdMIENvbnRleHQgTG9zdCcpO1xyXG5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRMb3N0ID0gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzdG9yZWQgKCkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViR0wgQ29udGV4dCByZXN0b3JlZCcpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRMb3N0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGVtcHR5IGFsbCB0aGUgb2xkIGdsIHRleHR1cmVzIGFzIHRoZXkgYXJlIHVzZWxlc3Mgbm93XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmxvc3QpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5yZXN0b3JlZCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL0NvbnRleHRIYW5kbGVyLmpzXG4gKiovIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdlYkdMQ29udGV4dE9wdGlvbnMgKHsgYWxwaGEgPSBmYWxzZSwgYW50aWFsaWFzID0gdHJ1ZSwgcHJlbXVsdGlwbGllZEFscGhhID0gZmFsc2UsIHN0ZW5jaWwgPSBmYWxzZSwgcHJlc2VydmVEcmF3aW5nQnVmZmVyID0gZmFsc2UgfSA9IHt9KSB7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhbHBoYTogYWxwaGEsXHJcbiAgICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXHJcbiAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBwcmVtdWx0aXBsaWVkQWxwaGEsXHJcbiAgICAgICAgc3RlbmNpbDogc3RlbmNpbCxcclxuICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHByZXNlcnZlRHJhd2luZ0J1ZmZlclxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9Db250ZXh0T3B0aW9ucy5qc1xuICoqLyIsIi8qKlxyXG4gKiBDb21waWxlU2hhZGVyXHJcbiAqIFxyXG4gKiBAcGFyYW0gIHtvYmplY3R9IGdsIC0gV2ViR0wgQ29udGV4dFxyXG4gKiBAcGFyYW0gIHtzdHJpbmd8YXJyYXl9IHNyYyAtIFNoYWRlciBzb3VyY2UgY29kZVxyXG4gKiBAcGFyYW0gIHtpbnRlZ2VyfSB0eXBlIC0gVHlwZSBvZiBzaGFkZXIuIEVpdGhlciBnbC5WRVJURVhfU0hBREVSIG9yIGdsLkZSQUdNRU5UX1NIQURFUlxyXG4gKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gVGhlIGNvbXBpbGVkIHNoYWRlciwgb3IgbnVsbCBpZiBzaGFkZXIgY291bGQgbm90IGNvbXBpbGUuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21waWxlU2hhZGVyKGdsLCBzcmMsIHR5cGUpIHtcclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzcmMpKVxyXG4gICAge1xyXG4gICAgICAgIHNyYyA9IHNyYy5qb2luKCdcXG4nKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG5cclxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7XHJcblxyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cclxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNvbXBpbGUgc2hhZGVyOiAnICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuXHJcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9Db21waWxlU2hhZGVyLmpzXG4gKiovIiwiaW1wb3J0ICogYXMgQXR0cmlidXRlIGZyb20gJy4vQXR0cmlidXRlLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdMUHJvZ3JhbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGdsKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucHJvZ3JhbSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViR0xQcm9ncmFtIC0gdW5hYmxlIHRvIGNyZWF0ZVByb2dyYW0gb24gZ2wgY29udGV4dCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldEF0dHJpYiAobmFtZSkge1xyXG5cclxuICAgICAgICByZXR1cm4gQXR0cmlidXRlLmdldCh0aGlzLmdsLCB0aGlzLnByb2dyYW0sIG5hbWUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2ggKC4uLnNoYWRlcnMpIHtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgc2hhZGVyIG9mIHNoYWRlcnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIHNoYWRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoQW5kRGVsZXRlICguLi5zaGFkZXJzKSB7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHNoYWRlciBvZiBzaGFkZXJzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBzaGFkZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxpbmsgKCkge1xyXG5cclxuICAgICAgICB0aGlzLmdsLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5wcm9ncmFtLCB0aGlzLmdsLkxJTktfU1RBVFVTKTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXN1bHQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZXJyb3IgPSB0aGlzLmdsLmdldFByb2dyYW1JbmZvTG9nKHRoaXMucHJvZ3JhbSk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsaW5rIFdlYkdMIHByb2dyYW06ICcgKyBlcnJvcik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVzZSAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGV0YXRjaCAoLi4uc2hhZGVycykge1xyXG5cclxuICAgICAgICBmb3IgKGxldCBzaGFkZXIgb2Ygc2hhZGVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2wuZGV0YXRjaFNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZSAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsZXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9Qcm9ncmFtLmpzXG4gKiovIiwiZnVuY3Rpb24gY3JlYXRlIChnbCwgcHJvZ3JhbSwgbmFtZSwgc2l6ZSwgdHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpIHtcclxuXHJcbiAgICBjb25zdCBsb2MgPSBnZXRMb2NhdGlvbihnbCwgcHJvZ3JhbSwgbmFtZSk7XHJcblxyXG4gICAgaWYgKGxvYyAhPT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvYywgc2l6ZSwgdHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2MpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsb2M7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZSAoZ2wsIGxvY2F0aW9uKSB7XHJcblxyXG4gICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2NhdGlvbiAoZ2wsIHByb2dyYW0sIG5hbWUpIHtcclxuXHJcbiAgICBjb25zdCBsb2MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBuYW1lKTtcclxuXHJcbiAgICBpZiAobG9jIDwgMClcclxuICAgIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1dlYkdMUHJvZ3JhbSAtIGZhaWxlZCB0byBnZXQgYXR0cmlidXRlIGxvY2F0aW9uOiAnICsgbmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGxvYztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCeXRlIChnbCwgcHJvZ3JhbSwgbmFtZSwgbm9ybWFsaXplZCA9IGZhbHNlLCBzdHJpZGUgPSAwLCBvZmZzZXQgPSAwKSB7XHJcblxyXG4gICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuVU5TSUdORURfQllURSwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNob3J0IChnbCwgcHJvZ3JhbSwgbmFtZSwgbm9ybWFsaXplZCA9IGZhbHNlLCBzdHJpZGUgPSAwLCBvZmZzZXQgPSAwKSB7XHJcblxyXG4gICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuU0hPUlQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVbnNpZ25lZFNob3J0IChnbCwgcHJvZ3JhbSwgbmFtZSwgbm9ybWFsaXplZCA9IGZhbHNlLCBzdHJpZGUgPSAwLCBvZmZzZXQgPSAwKSB7XHJcblxyXG4gICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuVU5TSUdORURfU0hPUlQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnQgKGdsLCBwcm9ncmFtLCBuYW1lLCBub3JtYWxpemVkID0gZmFsc2UsIHN0cmlkZSA9IDAsIG9mZnNldCA9IDApIHtcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5JTlQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVbnNpZ25lZEludCAoZ2wsIHByb2dyYW0sIG5hbWUsIG5vcm1hbGl6ZWQgPSBmYWxzZSwgc3RyaWRlID0gMCwgb2Zmc2V0ID0gMCkge1xyXG5cclxuICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLlVOU0lHTkVEX0lOVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZsb2F0IChnbCwgcHJvZ3JhbSwgbmFtZSwgbm9ybWFsaXplZCA9IGZhbHNlLCBzdHJpZGUgPSAwLCBvZmZzZXQgPSAwKSB7XHJcblxyXG4gICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuRkxPQVQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvQXR0cmlidXRlLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVydGV4QXJyYXlCdWZmZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWwgPSAwO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSAoZ2wsIHZlcnRTaXplID0gMiwgYmF0Y2hTaXplID0gMjAwMCkge1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRTaXplID0gdmVydFNpemU7XHJcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBiYXRjaFNpemU7XHJcblxyXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYmF0Y2hTaXplICogdGhpcy52ZXJ0U2l6ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWwgPSAwO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmJpbmRCdWZmZXIoZ2wpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBiaW5kQnVmZmVyIChnbCkge1xyXG5cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAgdXNhZ2UgPSBnbC5EWU5BTUlDX0RSQVcsIGdsLlNUQVRJQ19EUkFXIG9yIGdsLlNUUkVBTV9EUkFXXHJcbiAgICBidWZmZXJEYXRhIChnbCwgdXNhZ2UpIHtcclxuXHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIHVzYWdlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYnVmZmVyRHluYW1pY0RhdGEgKGdsKSB7XHJcblxyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRpY2VzLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBidWZmZXJTdGF0aWNEYXRhIChnbCkge1xyXG5cclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgZ2wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBidWZmZXJTdHJlYW1EYXRhIChnbCkge1xyXG5cclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgZ2wuU1RSRUFNX0RSQVcpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNldCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbCA9IDA7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC92Ym8vVmVydGV4QXJyYXlCdWZmZXIuanNcbiAqKi8iLCIvLyAgQWRkIGEgc2luZ2xlIHZlcnQgc2V0IGludG8gdGhlIFZlcnRleCBCdWZmZXJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkZFZlcnQgKGJ1ZmZlciwgeCwgeSkge1xyXG5cclxuICAgIGJ1ZmZlci52ZXJ0aWNlc1tidWZmZXIuaW5kZXgrK10gPSB4O1xyXG4gICAgYnVmZmVyLnZlcnRpY2VzW2J1ZmZlci5pbmRleCsrXSA9IHk7XHJcblxyXG4gICAgYnVmZmVyLnRvdGFsKys7XHJcblxyXG4gICAgLy8gIHJldHVybiB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIHBvaW50XHJcbiAgICByZXR1cm4gKGJ1ZmZlci5pbmRleCAtIDIpO1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC92Ym8vQWRkVmVydC5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnRleEluZGV4QnVmZmVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMudmVydFNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuYmF0Y2hTaXplID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSAoZ2wsIHZlcnRTaXplID0gNiwgYmF0Y2hTaXplID0gMjAwMCkge1xyXG5cclxuICAgICAgICAvLyA2NTUzNSBpcyB0aGUgbWF4aW11bSBidWZmZXIgc2l6ZSAoNjRLQilcclxuICAgICAgICBpZiAodmVydFNpemUgKiBiYXRjaFNpemUgPiA2NTUzNSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVmVydGV4SW5kZXhCdWZmZXI6IENhbm5vdCBjcmVhdGUgYnVmZmVyID4gNjU1MzUgYnl0ZXMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IHZlcnRTaXplO1xyXG4gICAgICAgIHRoaXMuYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xyXG5cclxuICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoYmF0Y2hTaXplICogdmVydFNpemUpO1xyXG5cclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNldCAoKSB7XHJcblxyXG4gICAgICAgIC8vICBTYW1wbGUgaW5kaWNlcyBhcnJheSBmb3IgMiBlbGVtZW50cyAoYmF0Y2hTaXplIDIsIHZlcnRTaXplIDYpXHJcbiAgICAgICAgLy8gWyAwLCAxLCAyLCAwLCAyLCAzIF1cclxuICAgICAgICAvLyBbIDQsIDUsIDYsIDQsIDYsIDcgXVxyXG5cclxuICAgICAgICAvLyAgMCwgMSwgMiA9IHRoZSB2ZXJ0aWNlcyBvZiB0aGUgZmlyc3QgdHJpYW5nbGVcclxuICAgICAgICAvLyAgMCwgMiwgMyA9IHRoZSB2ZXJ0aWNlcyBvZiB0aGUgc2Vjb25kIHRyaWFuZ2xlIChub3RlIHRoZSB0d28gb3ZlcmxhcHBpbmcgcG9pbnRzKVxyXG4gICAgICAgIC8vICBjb21iaW5lZCB0aGlzIGdpdmVzIHVzIG91ciBxdWFkIChvciB0aGUgZnJvbnQgZmFjZSBvZiBhIGN1YmUgaWYgd2Ugd2FudGVkKVxyXG5cclxuICAgICAgICAvLyAgNCwgNSwgNiA9IHRoZSB2ZXJ0aWNlcyBvZiB0aGUgZmlyc3QgdHJpYW5nbGVcclxuICAgICAgICAvLyAgNCwgNiwgNyA9IHRoZSB2ZXJ0aWNlcyBvZiB0aGUgc2Vjb25kIHRyaWFuZ2xlXHJcbiAgICAgICAgLy8gIGNvbWJpbmVkIHRoaXMgZ2l2ZXMgdXMgb3VyIHNlY29uZCBxdWFkIChvciB0aGUgYmFjayBmYWNlIG9mIGEgY3ViZSBpZiB3ZSB3YW50ZWQpXHJcblxyXG4gICAgICAgIC8vICBBbmQgc28gb24gLi4uXHJcblxyXG4gICAgICAgIC8vIFdpdGggNiBpbmRpY2VzIHBlciBxdWFkIHRoYXQncyAxMDkyMiBtYXhcclxuXHJcbiAgICAgICAgLy8gIFRoaXMgc2V0LXVwIGlzIHF1YWQgc3BlY2lmaWMgYW5kIG5lZWRzIHJlbW92aW5nIGZyb20gJ3Jlc2V0JyBhbmQgbW92aW5nIHRvXHJcbiAgICAgICAgLy8gIGl0cyBvd24gY2xhc3MgKFF1YWRJbmRleEJ1ZmZlciBwcm9iYWJseSlcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgKHRoaXMuYmF0Y2hTaXplICogdGhpcy52ZXJ0U2l6ZSk7IGkgKz0gdGhpcy52ZXJ0U2l6ZSwgaiArPSA0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAwXSA9IGogKyAwO1xyXG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDFdID0gaiArIDE7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgMl0gPSBqICsgMjsgLy8gZmlyc3QgdHJpXHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgM10gPSBqICsgMDtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyA0XSA9IGogKyAyO1xyXG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDVdID0gaiArIDM7IC8vIHNlY29uZCB0cmlcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGJpbmRCdWZmZXIgKGdsKSB7XHJcblxyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuYnVmZmVyKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYnVmZmVyRGF0YSAoZ2wpIHtcclxuXHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC92Ym8vVmVydGV4SW5kZXhCdWZmZXIuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHTFRleHR1cmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChnbCkge1xyXG5cclxuICAgICAgICB0aGlzLmdsID0gZ2w7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGhpcy5nbC5jcmVhdGVUZXh0dXJlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBiaW5kICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBiaW5kQ3ViZU1hcCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUodGhpcy5nbC5URVhUVVJFX0NVQkVfTUFQLCB0aGlzLnRleHR1cmUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsb2FkSW1hZ2UgKGltYWdlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcclxuXHJcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRQYWNrU3RhdGUgKGFscGhhID0gZmFsc2UsIGZsaXBZID0gZmFsc2UsIGNvbG9yU3BhY2VDb252ZXJ0ID0gZmFsc2UpIHtcclxuXHJcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xyXG5cclxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGFscGhhKTtcclxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmbGlwWSk7XHJcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCwgY29sb3JTcGFjZUNvbnZlcnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbWluRmlsdGVyIChsaW5lYXIgPSB0cnVlKSB7XHJcblxyXG4gICAgICAgIGlmIChsaW5lYXIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1hZ0ZpbHRlciAobGluZWFyID0gdHJ1ZSkge1xyXG5cclxuICAgICAgICBpZiAobGluZWFyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZUxpbmVhclNjYWxpbmcgKCkge1xyXG5cclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcblxyXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xyXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlTmVhcmVzdFNjYWxpbmcgKCkge1xyXG5cclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcblxyXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB3cmFwIChtb2RlKSB7XHJcblxyXG4gICAgICAgIHRoaXMud3JhcFMobW9kZSk7XHJcbiAgICAgICAgdGhpcy53cmFwVChtb2RlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBUZXh0dXJlIHdyYXBwaW5nIGluIHRoZSBzIGF4aXMgKGxlZnQvcmlnaHQpXHJcbiAgICB3cmFwUyAobW9kZSkge1xyXG5cclxuICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLmdsLlRFWFRVUkVfV1JBUF9TLCBtb2RlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBUZXh0dXJlIHdyYXBwaW5nIGluIHRoZSB0IGF4aXMgKHRvcC9ib3R0b20pXHJcbiAgICB3cmFwVCAobW9kZSkge1xyXG5cclxuICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELCB0aGlzLmdsLlRFWFRVUkVfV1JBUF9ULCBtb2RlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHdyYXBSZXBlYXQgKCkge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMuZ2wuUkVQRUFUKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgd3JhcE1pcnJvcmVkUmVwZWF0ICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLmdsLk1JUlJPUkVEX1JFUEVBVCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHdyYXBDbGFtcCAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy5nbC5DTEFNUF9UT19FREdFKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsZXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9HTFRleHR1cmUuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJMaXN0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMubGlzdCA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIgKCkge1xyXG5cclxuICAgICAgICB0aGlzLmxpc3QuY2xlYXIoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxlbmd0aCAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3Quc2l6ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYWRkICh0ZXh0dXJlKSB7XHJcblxyXG4gICAgICAgIHRoaXMubGlzdC5hZGQodGV4dHVyZSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL1JlbmRlckxpc3QuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHTFNoYWRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGdsKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL1NoYWRlci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcnRleEJ1ZmZlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKHZlcnRTaXplID0gNiwgYmF0Y2hTaXplID0gMjAwMCkge1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRTaXplID0gdmVydFNpemU7XHJcbiAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBiYXRjaFNpemU7XHJcbiAgICAgICAgdGhpcy5zdHJpZGUgPSB2ZXJ0U2l6ZSAqIDQ7XHJcblxyXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYmF0Y2hTaXplICogNCAqIHRoaXMudmVydFNpemUpO1xyXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmJhdGNoU2l6ZSAqIDYpO1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0SW5kaWNlcyAoKSB7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8ICh0aGlzLmJhdGNoU2l6ZSAqIDYpOyBpICs9IDYsIGogKz0gNClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAxXSA9IGogKyAxO1xyXG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDJdID0gaiArIDI7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgM10gPSBqICsgMDtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyA0XSA9IGogKyAyO1xyXG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDVdID0gaiArIDM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUgKGdsKSB7XHJcblxyXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcblxyXG4gICAgICAgIGlmICghdmVydGV4QnVmZmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gIGZhaWxlZCB0byBjcmVhdGVcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5cclxuICAgICAgICBpZiAoIXZlcnRleEJ1ZmZlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vICBmYWlsZWQgdG8gY3JlYXRlXHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCBpbmRleCwgc28gNjU1MzUgLyA2ID0gMTA5MjIuXHJcblxyXG4gICAgICAgIC8vICBVcGxvYWQgdGhlIGluZGV4IGRhdGFcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmluZGV4QnVmZmVyKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcclxuXHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4QnVmZmVyKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgZ2wuRFlOQU1JQ19EUkFXKTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvVmVydGV4QnVmZmVyLmpzXG4gKiovIiwiJ2NyZWF0ZSBpbmRleCc7XHJcblxyXG5pbXBvcnQgQWRkUXVhZEFscGhhQ29sb3IgZnJvbSAnLi9BZGRRdWFkQWxwaGFDb2xvci5qcyc7XHJcbmltcG9ydCBBZGRWZXJ0IGZyb20gJy4vQWRkVmVydC5qcyc7XHJcbmltcG9ydCBWZXJ0ZXhBcnJheUJ1ZmZlciBmcm9tICcuL1ZlcnRleEFycmF5QnVmZmVyLmpzJztcclxuaW1wb3J0IFZlcnRleEluZGV4QnVmZmVyIGZyb20gJy4vVmVydGV4SW5kZXhCdWZmZXIuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIEFkZFF1YWRBbHBoYUNvbG9yLFxyXG4gICAgQWRkVmVydCxcclxuICAgIFZlcnRleEFycmF5QnVmZmVyLFxyXG4gICAgVmVydGV4SW5kZXhCdWZmZXJcclxufTtcclxuXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL3Ziby9pbmRleC5qc1xuICoqLyIsIi8vICB1dnMgPSBVViBvYmplY3RcclxuLy8gIGEtdHkgPSBmbG9hdHNcclxuLy8gIGFscGhhID0gZmxvYXRcclxuLy8gIGNvbG9yWCA9IGludHNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkZFF1YWRBbHBoYUNvbG9yIChidWZmZXIsIHV2cywgYSwgYiwgYywgZCwgdHgsIHR5LCBhbHBoYSA9IDEuMCwgY29sb3IxID0gMHhmZmZmZmYsIGNvbG9yMiA9IDB4ZmZmZmZmLCBjb2xvcjMgPSAweGZmZmZmZiwgY29sb3I0ID0gMHhmZmZmZmYpIHtcclxuXHJcbiAgICBsZXQgdiA9IGJ1ZmZlci52ZXJ0aWNlcztcclxuICAgIGxldCBpID0gYnVmZmVyLnNpemUgKiA0ICogYnVmZmVyLnZlcnRTaXplO1xyXG5cclxuICAgIC8vICBUb3AgTGVmdCB2ZXJ0ICh4eSwgdXYsIGNvbG9yKVxyXG4gICAgdltpKytdID0gYSAqIHcxICsgYyAqIGgxICsgdHg7XHJcbiAgICB2W2krK10gPSBkICogaDEgKyBiICogdzEgKyB0eTtcclxuICAgIHZbaSsrXSA9IHV2cy54MDtcclxuICAgIHZbaSsrXSA9IHV2cy55MDtcclxuICAgIHZbaSsrXSA9IGFscGhhO1xyXG4gICAgdltpKytdID0gY29sb3IxO1xyXG5cclxuICAgIC8vICBUb3AgUmlnaHQgdmVydCAoeHksIHV2LCBjb2xvcilcclxuICAgIHZbaSsrXSA9IGEgKiB3MCArIGMgKiBoMSArIHR4O1xyXG4gICAgdltpKytdID0gZCAqIGgxICsgYiAqIHcwICsgdHk7XHJcbiAgICB2W2krK10gPSB1dnMueDE7XHJcbiAgICB2W2krK10gPSB1dnMueTE7XHJcbiAgICB2W2krK10gPSBhbHBoYTtcclxuICAgIHZbaSsrXSA9IGNvbG9yMjtcclxuXHJcbiAgICAvLyAgQm90dG9tIFJpZ2h0IHZlcnQgKHh5LCB1diwgY29sb3IpXHJcbiAgICB2W2krK10gPSBhICogdzAgKyBjICogaDAgKyB0eDtcclxuICAgIHZbaSsrXSA9IGQgKiBoMCArIGIgKiB3MCArIHR5O1xyXG4gICAgdltpKytdID0gdXZzLngyO1xyXG4gICAgdltpKytdID0gdXZzLnkyO1xyXG4gICAgdltpKytdID0gYWxwaGE7XHJcbiAgICB2W2krK10gPSBjb2xvcjM7XHJcblxyXG4gICAgLy8gIEJvdHRvbSBMZWZ0IHZlcnQgKHh5LCB1diwgY29sb3IpXHJcbiAgICB2W2krK10gPSBhICogdzEgKyBjICogaDAgKyB0eDtcclxuICAgIHZbaSsrXSA9IGQgKiBoMCArIGIgKiB3MSArIHR5O1xyXG4gICAgdltpKytdID0gdXZzLngzO1xyXG4gICAgdltpKytdID0gdXZzLnkzO1xyXG4gICAgdltpKytdID0gYWxwaGE7XHJcbiAgICB2W2krK10gPSBjb2xvcjQ7XHJcblxyXG4gICAgYnVmZmVyLnNpemUrKztcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvdmJvL0FkZFF1YWRBbHBoYUNvbG9yLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==