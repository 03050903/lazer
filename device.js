!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("device",[],t):"object"==typeof exports?exports.device=t():(e.lazer=e.lazer||{},e.lazer.device=t())}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGL=t.OS=t.Input=t.Features=t.Endian=t.Device=t.Browser=void 0;var o=n(140),r=i(o),s=n(143),a=i(s),u=n(145),c=i(u),d=n(146),l=i(d),f=n(147),h=i(f),w=n(144),v=i(w),p=n(148),b=i(p);t.Browser=r["default"],t.Device=a["default"],t.Endian=c["default"],t.Features=l["default"],t.Input=h["default"],t.OS=v["default"],t.WebGL=b["default"]},140:function(e,t,n){(function(e){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function t(e){i(this,t),this.device=e,this.cocoonJS=!1,this.cocoonJSApp=!1,this.cordova=!1,this.node=!1,this.nodeWebkit=!1,this.electron=!1,this.ejecta=!1,this.crosswalk=!1}return r(t,[{key:"init",value:function(){var t=arguments.length<=0||void 0===arguments[0]?navigator.userAgent:arguments[0];if(/Arora/.test(t)?this.arora=!0:/Chrome\/(\d+)/.test(t)&&!this.device.os.windowsPhone?(this.chrome=!0,this.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(t)?this.epiphany=!0:/Firefox\D+(\d+)/.test(t)?(this.firefox=!0,this.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&this.device.os.iOS?this.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(this.ie=!0,this.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(t)?this.midori=!0:/Opera/.test(t)?this.opera=!0:/Safari/.test(t)&&!this.device.os.windowsPhone?this.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(this.ie=!0,this.trident=!0,this.tridentVersion=parseInt(RegExp.$1,10),this.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(this.silk=!0),navigator.standalone&&(this.webApp=!0),void 0!==window.cordova&&(this.cordova=!0),void 0!==e&&void 0!==n(142)&&(this.node=!0),this.node&&"object"===o(e.versions)&&(this.nodeWebkit=!!e.versions["node-webkit"],this.electron=!!e.versions.electron),navigator.isCocoonJS){this.cocoonJS=!0;try{this.cocoonJSApp="undefined"!=typeof CocoonJS}catch(i){this.cocoonJSApp=!1}}void 0!==window.ejecta&&(this.ejecta=!0),/Crosswalk/.test(t)&&(this.crosswalk=!0)}}]),t}();t["default"]=s}).call(t,n(141))},141:function(e,t){function n(){c&&s&&(c=!1,s.length?u=s.concat(u):d=-1,u.length&&i())}function i(){if(!c){var e=setTimeout(n);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function r(){}var s,a=e.exports={},u=[],c=!1,d=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new o(e,t)),1!==u.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},142:function(e,t,n){function i(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./Browser":140,"./Browser.js":140,"./Device":143,"./Device.js":143,"./Endian":145,"./Endian.js":145,"./Features":146,"./Features.js":146,"./Input":147,"./Input.js":147,"./OS":144,"./OS.js":144,"./features/WebGL":148,"./features/WebGL.js":148,"./features/index":150,"./features/index.js":150};i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=142},143:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(144),s=i(r),a=n(145),u=i(a),c=function d(){o(this,d),this.os=new s["default"],this.LITTLE_ENDIAN=(0,u["default"])()};t["default"]=c},144:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e),this.desktop=!1,this.iOS=!1,this.iOSVersion=0,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.windowsPhone=!1}return i(e,[{key:"init",value:function(){var e=arguments.length<=0||void 0===arguments[0]?navigator.userAgent:arguments[0];/Playstation Vita/.test(e)?this.vita=!0:/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?this.kindle=!0:/Android/.test(e)?this.android=!0:/CrOS/.test(e)?this.chromeOS=!0:/iP[ao]d|iPhone/i.test(e)?(this.iOS=!0,navigator.appVersion.match(/OS (\d+)/),this.iOSVersion=parseInt(RegExp.$1,10)):/Linux/.test(e)?this.linux=!0:/Mac OS/.test(e)?this.macOS=!0:/Windows/.test(e)&&(this.windows=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(this.android=!1,this.iOS=!1,this.macOS=!1,this.windows=!0,this.windowsPhone=!0);var t=/Silk/.test(e);(this.windows||this.macOS||this.linux&&!t||this.chromeOS)&&(this.desktop=!0),(this.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(this.desktop=!1)}}]),e}();t["default"]=o},145:function(e,t){"use strict";function n(){var e=new ArrayBuffer(4),t=new Uint8Array(e),n=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===n[0]?!0:2712847316===n[0]?!1:null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},146:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){n(this,e),this.device=t,this.canvas=!1,this.webGL=!1,this.localStorage=!1,this.file=!1,this.fileSystem=!1,this.worker=!1,this.pointerLock=!1,this.quirksMode=!1,this.getUserMedia=!1}return i(e,[{key:"init",value:function(){this.canvas=!!window.CanvasRenderingContext2D||this.device.os.cocoonJS;try{this.localStorage=!!localStorage.getItem}catch(e){this.localStorage=!1}this.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),this.fileSystem=!!window.requestFileSystem;var t=function(){try{var e=document.createElement("canvas");return e.screencanvas=!1,!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}};this.webGL=!!t(),this.worker=!!window.Worker,this.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,this.quirksMode="CSS1Compat"!==document.compatMode,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,this.getUserMedia=!!navigator.getUserMedia&&!!window.URL}}]),e}();t["default"]=o},147:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){n(this,e),this.device=t,this.touch=!1,this.mspointer=!1,this.wheelEvent=""}return i(e,[{key:"init",value:function(){("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>=1)&&(this.touch=!0),(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(this.mspointer=!0),this.device.os.cocoonJS||("onwheel"in window||this.device.browser.ie&&"WheelEvent"in window?this.wheelEvent="wheel":"onmousewheel"in window?this.wheelEvent="mousewheel":device.firefox&&"MouseScrollEvent"in window&&(this.wheelEvent="DOMMouseScroll"))}}]),e}();t["default"]=o},148:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){try{var e=document.createElement("canvas");if(null===(0,s["default"])(e))return!1}catch(t){return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var r=n(149),s=i(r)},149:function(e,t){"use strict";function n(e,t){return e.getContext("webgl",t)||e.getContext("experimental-webgl",t)||null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},150:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGL=void 0;var o=n(148),r=i(o);t.WebGL=r["default"]}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uPzVjYTYqKioqKiIsIndlYnBhY2s6Ly8vZGV2aWNlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxYjZmNThhMTc3NDUwODBmMDAxYT83NzllKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RldmljZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2aWNlL0Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RldmljZSBeXFwuXFwvLiokIiwid2VicGFjazovLy8uL3NyYy9kZXZpY2UvRGV2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9kZXZpY2UvT1MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RldmljZS9FbmRpYW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RldmljZS9GZWF0dXJlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2aWNlL0lucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9kZXZpY2UvZmVhdHVyZXMvV2ViR0wuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL0dldENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RldmljZS9mZWF0dXJlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCIwIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIldlYkdMIiwiT1MiLCJJbnB1dCIsIkZlYXR1cmVzIiwiRW5kaWFuIiwiRGV2aWNlIiwiQnJvd3NlciIsInVuZGVmaW5lZCIsIl9Ccm93c2VyIiwiX0Jyb3dzZXIyIiwiX0RldmljZSIsIl9EZXZpY2UyIiwiX0VuZGlhbiIsIl9FbmRpYW4yIiwiX0ZlYXR1cmVzIiwiX0ZlYXR1cmVzMiIsIl9JbnB1dCIsIl9JbnB1dDIiLCJfT1MiLCJfT1MyIiwiX1dlYkdMIiwiX1dlYkdMMiIsIjE0MCIsInByb2Nlc3MiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsImRldmljZSIsImNvY29vbkpTIiwiY29jb29uSlNBcHAiLCJjb3Jkb3ZhIiwibm9kZSIsIm5vZGVXZWJraXQiLCJlbGVjdHJvbiIsImVqZWN0YSIsImNyb3Nzd2FsayIsInVhIiwiYXJndW1lbnRzIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidGVzdCIsImFyb3JhIiwib3MiLCJ3aW5kb3dzUGhvbmUiLCJjaHJvbWUiLCJjaHJvbWVWZXJzaW9uIiwicGFyc2VJbnQiLCJSZWdFeHAiLCIkMSIsImVwaXBoYW55IiwiZmlyZWZveCIsImZpcmVmb3hWZXJzaW9uIiwiaU9TIiwibW9iaWxlU2FmYXJpIiwiaWUiLCJpZVZlcnNpb24iLCJtaWRvcmkiLCJvcGVyYSIsInNhZmFyaSIsInRyaWRlbnQiLCJ0cmlkZW50VmVyc2lvbiIsIiQzIiwic2lsayIsInN0YW5kYWxvbmUiLCJ3ZWJBcHAiLCJ3aW5kb3ciLCJ2ZXJzaW9ucyIsImlzQ29jb29uSlMiLCJDb2Nvb25KUyIsImVycm9yIiwiMTQxIiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImNvbmNhdCIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJsZW4iLCJydW4iLCJjbGVhclRpbWVvdXQiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJwdXNoIiwiYXBwbHkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwiYmluZGluZyIsIm5hbWUiLCJFcnJvciIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCIxNDIiLCJ3ZWJwYWNrQ29udGV4dCIsInJlcSIsIndlYnBhY2tDb250ZXh0UmVzb2x2ZSIsIm1hcCIsIi4vQnJvd3NlciIsIi4vQnJvd3Nlci5qcyIsIi4vRGV2aWNlIiwiLi9EZXZpY2UuanMiLCIuL0VuZGlhbiIsIi4vRW5kaWFuLmpzIiwiLi9GZWF0dXJlcyIsIi4vRmVhdHVyZXMuanMiLCIuL0lucHV0IiwiLi9JbnB1dC5qcyIsIi4vT1MiLCIuL09TLmpzIiwiLi9mZWF0dXJlcy9XZWJHTCIsIi4vZmVhdHVyZXMvV2ViR0wuanMiLCIuL2ZlYXR1cmVzL2luZGV4IiwiLi9mZWF0dXJlcy9pbmRleC5qcyIsImtleXMiLCJyZXNvbHZlIiwiMTQzIiwiTElUVExFX0VORElBTiIsIjE0NCIsImRlc2t0b3AiLCJpT1NWZXJzaW9uIiwiYW5kcm9pZCIsImNocm9tZU9TIiwibGludXgiLCJtYWNPUyIsIndpbmRvd3MiLCJ2aXRhIiwia2luZGxlIiwiYXBwVmVyc2lvbiIsIm1hdGNoIiwiMTQ1IiwiYSIsIkFycmF5QnVmZmVyIiwiYiIsIlVpbnQ4QXJyYXkiLCJVaW50MzJBcnJheSIsIjE0NiIsImNhbnZhcyIsIndlYkdMIiwibG9jYWxTdG9yYWdlIiwiZmlsZSIsImZpbGVTeXN0ZW0iLCJ3b3JrZXIiLCJwb2ludGVyTG9jayIsInF1aXJrc01vZGUiLCJnZXRVc2VyTWVkaWEiLCJDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJnZXRJdGVtIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsIkJsb2IiLCJyZXF1ZXN0RmlsZVN5c3RlbSIsImNoZWNrV2ViR0wiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzY3JlZW5jYW52YXMiLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJnZXRDb250ZXh0IiwiV29ya2VyIiwiY29tcGF0TW9kZSIsIndlYmtpdEdldFVzZXJNZWRpYSIsIm1vekdldFVzZXJNZWRpYSIsIm1zR2V0VXNlck1lZGlhIiwib0dldFVzZXJNZWRpYSIsIlVSTCIsIndlYmtpdFVSTCIsIm1velVSTCIsIm1zVVJMIiwiMTQ3IiwidG91Y2giLCJtc3BvaW50ZXIiLCJ3aGVlbEV2ZW50IiwiZG9jdW1lbnRFbGVtZW50IiwibWF4VG91Y2hQb2ludHMiLCJtc1BvaW50ZXJFbmFibGVkIiwicG9pbnRlckVuYWJsZWQiLCIxNDgiLCJfR2V0Q29udGV4dDIiLCJfR2V0Q29udGV4dCIsIjE0OSIsIkdldENvbnRleHQiLCJvcHRpb25zIiwiMTUwIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSxZQUFBSCxHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLE9BQUFELEtBRUFELEVBQUEsTUFBQUEsRUFBQSxVQUFxQ0EsRUFBQSxhQUFBQyxNQUNwQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVDLEdDTjFCLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBUCxPQUdBLElBQUFDLEdBQUFPLEVBQUFELElBQ0FQLFdBQ0FTLEdBQUFGLEVBQ0FHLFFBQUEsRUFVQSxP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QndCLElBQ3hDLEtaMnhCUDlOLE9BQU9DLGVBQWVyQixFQUFTLGNBQzNCc0IsT0FBTyxJQUVYdEIsYVlueUJ1QmlQLEdaMnlCbEJFLElBQ0EsU0FBU2xQLEVBQVFELEVBQVNNLEdBRS9CLFlBV0EsU0FBU1UsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FUdkZHLE9BQU9DLGVBQWVyQixFQUFTLGNBQzlCc0IsT0FBTyxJQUVSdEIsRUFBUXVCLE1BQVFPLE1hbnpCakIsSUFBQWEsR0FBQXJDLEVBQUEsS2J1ekJLc0MsRUFBVTVCLEVBQXVCMkIsRUFJckMzQyxHYXh6QkF1QixNYnd6QmdCcUIiLCJmaWxlIjoiZGV2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJkZXZpY2VcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZGV2aWNlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImxhemVyXCJdID0gcm9vdFtcImxhemVyXCJdIHx8IHt9LCByb290W1wibGF6ZXJcIl1bXCJkZXZpY2VcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImRldmljZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJkZXZpY2VcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibGF6ZXJcIl0gPSByb290W1wibGF6ZXJcIl0gfHwge30sIHJvb3RbXCJsYXplclwiXVtcImRldmljZVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5XZWJHTCA9IGV4cG9ydHMuT1MgPSBleHBvcnRzLklucHV0ID0gZXhwb3J0cy5GZWF0dXJlcyA9IGV4cG9ydHMuRW5kaWFuID0gZXhwb3J0cy5EZXZpY2UgPSBleHBvcnRzLkJyb3dzZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX0Jyb3dzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCk7XG5cdFxuXHR2YXIgX0Jyb3dzZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnJvd3Nlcik7XG5cdFxuXHR2YXIgX0RldmljZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblx0XG5cdHZhciBfRGV2aWNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RldmljZSk7XG5cdFxuXHR2YXIgX0VuZGlhbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdHZhciBfRW5kaWFuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VuZGlhbik7XG5cdFxuXHR2YXIgX0ZlYXR1cmVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDYpO1xuXHRcblx0dmFyIF9GZWF0dXJlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GZWF0dXJlcyk7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cdFxuXHR2YXIgX09TID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO1xuXHRcblx0dmFyIF9PUzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PUyk7XG5cdFxuXHR2YXIgX1dlYkdMID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0dmFyIF9XZWJHTDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5Ccm93c2VyID0gX0Jyb3dzZXIyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuRGV2aWNlID0gX0RldmljZTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5FbmRpYW4gPSBfRW5kaWFuMi5kZWZhdWx0O1xuXHRleHBvcnRzLkZlYXR1cmVzID0gX0ZlYXR1cmVzMi5kZWZhdWx0O1xuXHRleHBvcnRzLklucHV0ID0gX0lucHV0Mi5kZWZhdWx0O1xuXHRleHBvcnRzLk9TID0gX09TMi5kZWZhdWx0O1xuXHRleHBvcnRzLldlYkdMID0gX1dlYkdMMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgeyd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBCcm93c2VyKGRldmljZSkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcm93c2VyKTtcblx0XG5cdCAgICAgICAgdGhpcy5kZXZpY2UgPSBkZXZpY2U7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvY29vbkpTIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciBDb2Nvb25KUz9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5jb2Nvb25KUyA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBjb2Nvb25KU0FwcCAtIElzIHRoaXMgZ2FtZSBydW5uaW5nIHdpdGggQ29jb29uSlMuQXBwP1xyXG5cdCAgICAgICAgKiBAZGVmYXVsdFxyXG5cdCAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLmNvY29vbkpTQXBwID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvcmRvdmEgLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIEFwYWNoZSBDb3Jkb3ZhP1xyXG5cdCAgICAgICAgKiBAZGVmYXVsdFxyXG5cdCAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLmNvcmRvdmEgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9kZSAtIElzIHRoZSBnYW1lIHJ1bm5pbmcgdW5kZXIgTm9kZS5qcz9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5ub2RlID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IG5vZGVXZWJraXQgLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIE5vZGUtV2Via2l0P1xyXG5cdCAgICAgICAgKiBAZGVmYXVsdFxyXG5cdCAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLm5vZGVXZWJraXQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZWxlY3Ryb24gLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIEdpdEh1YiBFbGVjdHJvbj9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5lbGVjdHJvbiA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBlamVjdGEgLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIEVqZWN0YT9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5lamVjdGEgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY3Jvc3N3YWxrIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciB0aGUgSW50ZWwgQ3Jvc3N3YWxrIFhESz9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5jcm9zc3dhbGsgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQnJvd3NlciwgW3tcblx0ICAgICAgICBrZXk6ICdpbml0Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgICAgICAgICAgdmFyIHVhID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6IGFyZ3VtZW50c1swXTtcblx0XG5cdFxuXHQgICAgICAgICAgICBpZiAoL0Fyb3JhLy50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5hcm9yYSA9IHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoL0Nocm9tZVxcLyhcXGQrKS8udGVzdCh1YSkgJiYgIXRoaXMuZGV2aWNlLm9zLndpbmRvd3NQaG9uZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jaHJvbWUgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jaHJvbWVWZXJzaW9uID0gcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoL0VwaXBoYW55Ly50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5lcGlwaGFueSA9IHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoL0ZpcmVmb3hcXEQrKFxcZCspLy50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5maXJlZm94ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZmlyZWZveFZlcnNpb24gPSBwYXJzZUludChSZWdFeHAuJDEsIDEwKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICgvQXBwbGVXZWJLaXQvLnRlc3QodWEpICYmIHRoaXMuZGV2aWNlLm9zLmlPUykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5tb2JpbGVTYWZhcmkgPSB0cnVlO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKC9NU0lFIChcXGQrXFwuXFxkKyk7Ly50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5pZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmllVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKC9NaWRvcmkvLnRlc3QodWEpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm1pZG9yaSA9IHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoL09wZXJhLy50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5vcGVyYSA9IHRydWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoL1NhZmFyaS8udGVzdCh1YSkgJiYgIXRoaXMuZGV2aWNlLm9zLndpbmRvd3NQaG9uZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zYWZhcmkgPSB0cnVlO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKC9UcmlkZW50XFwvKFxcZCtcXC5cXGQrKSguKilydjooXFxkK1xcLlxcZCspLy50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5pZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnRyaWRlbnQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50cmlkZW50VmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5pZVZlcnNpb24gPSBwYXJzZUludChSZWdFeHAuJDMsIDEwKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gIFNpbGsgZ2V0cyBpdHMgb3duIGlmIGNsYXVzZSBiZWNhdXNlIGl0cyB1YSBhbHNvIGNvbnRhaW5zICdTYWZhcmknXG5cdCAgICAgICAgICAgIGlmICgvU2lsay8udGVzdCh1YSkpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2lsayA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vICBXZWJBcHAgbW9kZSBpbiBpT1Ncblx0ICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5zdGFuZGFsb25lKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLndlYkFwcCA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh3aW5kb3cuY29yZG92YSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvcmRvdmEgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAocHJvY2VzcyAhPT0gdW5kZWZpbmVkICYmIF9fd2VicGFja19yZXF1aXJlX18oMTQyKSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm5vZGUgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5ub2RlICYmIF90eXBlb2YocHJvY2Vzcy52ZXJzaW9ucykgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm5vZGVXZWJraXQgPSAhIXByb2Nlc3MudmVyc2lvbnNbJ25vZGUtd2Via2l0J107XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5lbGVjdHJvbiA9ICEhcHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvY29vbkpTID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuY29jb29uSlNBcHAgPSB0eXBlb2YgQ29jb29uSlMgIT09ICd1bmRlZmluZWQnO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmNvY29vbkpTQXBwID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh3aW5kb3cuZWplY3RhICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZWplY3RhID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKC9Dcm9zc3dhbGsvLnRlc3QodWEpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNyb3Nzd2FsayA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEJyb3dzZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEJyb3dzZXI7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblx0XG5cdHZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblx0dmFyIHF1ZXVlID0gW107XG5cdHZhciBkcmFpbmluZyA9IGZhbHNlO1xuXHR2YXIgY3VycmVudFF1ZXVlO1xuXHR2YXIgcXVldWVJbmRleCA9IC0xO1xuXHRcblx0ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuXHQgICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgfVxuXHQgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuXHQgICAgICAgIGRyYWluUXVldWUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcblx0ICAgIGlmIChkcmFpbmluZykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuXHQgICAgZHJhaW5pbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB3aGlsZShsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0XG5cdHByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdFxuXHRwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xuXHRwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0cHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgbWFwID0ge1xuXHRcdFwiLi9Ccm93c2VyXCI6IDE0MCxcblx0XHRcIi4vQnJvd3Nlci5qc1wiOiAxNDAsXG5cdFx0XCIuL0RldmljZVwiOiAxNDMsXG5cdFx0XCIuL0RldmljZS5qc1wiOiAxNDMsXG5cdFx0XCIuL0VuZGlhblwiOiAxNDUsXG5cdFx0XCIuL0VuZGlhbi5qc1wiOiAxNDUsXG5cdFx0XCIuL0ZlYXR1cmVzXCI6IDE0Nixcblx0XHRcIi4vRmVhdHVyZXMuanNcIjogMTQ2LFxuXHRcdFwiLi9JbnB1dFwiOiAxNDcsXG5cdFx0XCIuL0lucHV0LmpzXCI6IDE0Nyxcblx0XHRcIi4vT1NcIjogMTQ0LFxuXHRcdFwiLi9PUy5qc1wiOiAxNDQsXG5cdFx0XCIuL2ZlYXR1cmVzL1dlYkdMXCI6IDE0OCxcblx0XHRcIi4vZmVhdHVyZXMvV2ViR0wuanNcIjogMTQ4LFxuXHRcdFwiLi9mZWF0dXJlcy9pbmRleFwiOiAxNTAsXG5cdFx0XCIuL2ZlYXR1cmVzL2luZGV4LmpzXCI6IDE1MFxuXHR9O1xuXHRmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG5cdH07XG5cdGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0XHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuXHR9O1xuXHR3ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xuXHR3ZWJwYWNrQ29udGV4dC5pZCA9IDE0MjtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9PUyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KTtcblx0XG5cdHZhciBfT1MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT1MpO1xuXHRcblx0dmFyIF9FbmRpYW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7XG5cdFxuXHR2YXIgX0VuZGlhbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FbmRpYW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgRGV2aWNlID0gZnVuY3Rpb24gRGV2aWNlKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldmljZSk7XG5cdFxuXHQgICAgdGhpcy5vcyA9IG5ldyBfT1MyLmRlZmF1bHQoKTtcblx0ICAgIHRoaXMuTElUVExFX0VORElBTiA9ICgwLCBfRW5kaWFuMi5kZWZhdWx0KSgpO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGV2aWNlO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBPUyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIE9TKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPUyk7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGRlc2t0b3AgLSBJcyBydW5uaW5nIG9uIGEgZGVza3RvcD9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5kZXNrdG9wID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGlPUyAtIElzIHJ1bm5pbmcgb24gaU9TP1xyXG5cdCAgICAgICAgKiBAZGVmYXVsdFxyXG5cdCAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLmlPUyA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGlPU1ZlcnNpb24gLSBJZiBydW5uaW5nIGluIGlPUyB0aGlzIHdpbGwgY29udGFpbiB0aGUgbWFqb3IgdmVyc2lvbiBudW1iZXIuXHJcblx0ICAgICAgICAqIEBkZWZhdWx0XHJcblx0ICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMuaU9TVmVyc2lvbiA9IDA7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuZHJvaWQgLSBJcyBydW5uaW5nIG9uIGFuZHJvaWQ/XHJcblx0ICAgICAgICAqIEBkZWZhdWx0XHJcblx0ICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMuYW5kcm9pZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBjaHJvbWVPUyAtIElzIHJ1bm5pbmcgb24gY2hyb21lT1M/XHJcblx0ICAgICAgICAqIEBkZWZhdWx0XHJcblx0ICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMuY2hyb21lT1MgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGludXggLSBJcyBydW5uaW5nIG9uIGxpbnV4P1xyXG5cdCAgICAgICAgKiBAZGVmYXVsdFxyXG5cdCAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLmxpbnV4ID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIC8qKlxyXG5cdCAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IG1hY09TIC0gSXMgcnVubmluZyBvbiBtYWNPUz9cclxuXHQgICAgICAgICogQGRlZmF1bHRcclxuXHQgICAgICAgICovXG5cdCAgICAgICAgdGhpcy5tYWNPUyA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSB3aW5kb3dzIC0gSXMgcnVubmluZyBvbiB3aW5kb3dzP1xyXG5cdCAgICAgICAgKiBAZGVmYXVsdFxyXG5cdCAgICAgICAgKi9cblx0ICAgICAgICB0aGlzLndpbmRvd3MgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgLyoqXHJcblx0ICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gd2luZG93c1Bob25lIC0gSXMgcnVubmluZyBvbiBhIFdpbmRvd3MgUGhvbmU/XHJcblx0ICAgICAgICAqIEBkZWZhdWx0XHJcblx0ICAgICAgICAqL1xuXHQgICAgICAgIHRoaXMud2luZG93c1Bob25lID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKE9TLCBbe1xuXHQgICAgICAgIGtleTogXCJpbml0XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICAgICAgICAgIHZhciB1YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiBhcmd1bWVudHNbMF07XG5cdFxuXHRcblx0ICAgICAgICAgICAgaWYgKC9QbGF5c3RhdGlvbiBWaXRhLy50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy52aXRhID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICgvS2luZGxlLy50ZXN0KHVhKSB8fCAvXFxiS0ZbQS1aXVtBLVpdKy8udGVzdCh1YSkgfHwgL1NpbGsuKk1vYmlsZSBTYWZhcmkvLnRlc3QodWEpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmtpbmRsZSA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgTk9UIGRldGVjdCBlYXJseSBnZW5lcmF0aW9ucyBvZiBLaW5kbGUgRmlyZSwgSSB0aGluayB0aGVyZSBpcyBubyByZWxpYWJsZSB3YXkuLi5cblx0ICAgICAgICAgICAgICAgIC8vIEUuZy4gXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBVOyBJbnRlbCBNYWMgT1MgWCAxMF82XzM7IGVuLXVzOyBTaWxrLzEuMS4wLTgwKSBBcHBsZVdlYktpdC81MzMuMTYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzUuMCBTYWZhcmkvNTMzLjE2IFNpbGstQWNjZWxlcmF0ZWQ9dHJ1ZVwiXG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoL0FuZHJvaWQvLnRlc3QodWEpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmRyb2lkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL0NyT1MvLnRlc3QodWEpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHJvbWVPUyA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9pUFthb11kfGlQaG9uZS9pLnRlc3QodWEpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5pT1MgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKykvKTtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmlPU1ZlcnNpb24gPSBwYXJzZUludChSZWdFeHAuJDEsIDEwKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL0xpbnV4Ly50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMubGludXggPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvTWFjIE9TLy50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMubWFjT1MgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvV2luZG93cy8udGVzdCh1YSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLndpbmRvd3MgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKC9XaW5kb3dzIFBob25lL2kudGVzdCh1YSkgfHwgL0lFTW9iaWxlL2kudGVzdCh1YSkpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuYW5kcm9pZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5pT1MgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMubWFjT1MgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMud2luZG93cyA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB0aGlzLndpbmRvd3NQaG9uZSA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBzaWxrID0gL1NpbGsvLnRlc3QodWEpOyAvLyBkZXRlY3RlZCBpbiBicm93c2Vyc1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMud2luZG93cyB8fCB0aGlzLm1hY09TIHx8IHRoaXMubGludXggJiYgIXNpbGsgfHwgdGhpcy5jaHJvbWVPUykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5kZXNrdG9wID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gIFdpbmRvd3MgUGhvbmUgLyBUYWJsZSByZXNldFxuXHQgICAgICAgICAgICBpZiAodGhpcy53aW5kb3dzUGhvbmUgfHwgL1dpbmRvd3MgTlQvaS50ZXN0KHVhKSAmJiAvVG91Y2gvaS50ZXN0KHVhKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5kZXNrdG9wID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIE9TO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBPUztcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBFbmRpYW47XG5cdC8qKlxyXG5cdCAqIENoZWNrIGZvciBMaXR0bGUgb3IgQmlnIEVuZGlhbiBzeXN0ZW1zLlxyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBcclxuXHQgKiBAYXV0aG9yIE1hdHQgRGVzTGF1cmllcnMgKEBtYXR0ZGVzbClcclxuXHQgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGxpdHRsZSBlbmRpYW4sIGZhbHNlIGlmIGJpZyBlbmRpYW4sIG51bGwgaWYgY291bGQgbm90IGRldGVybWluZS5cclxuXHQgKi9cblx0ZnVuY3Rpb24gRW5kaWFuKCkge1xuXHRcblx0ICAgIHZhciBhID0gbmV3IEFycmF5QnVmZmVyKDQpO1xuXHQgICAgdmFyIGIgPSBuZXcgVWludDhBcnJheShhKTtcblx0ICAgIHZhciBjID0gbmV3IFVpbnQzMkFycmF5KGEpO1xuXHRcblx0ICAgIGJbMF0gPSAweGExO1xuXHQgICAgYlsxXSA9IDB4YjI7XG5cdCAgICBiWzJdID0gMHhjMztcblx0ICAgIGJbM10gPSAweGQ0O1xuXHRcblx0ICAgIGlmIChjWzBdID09PSAweGQ0YzNiMmExKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNbMF0gPT09IDB4YTFiMmMzZDQpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vICBDb3VsZCBub3QgZGV0ZXJtaW5lIGVuZGlhbm5lc3Ncblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEZlYXR1cmVzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGZ1bmN0aW9uIEZlYXR1cmVzKGRldmljZSkge1xuXHQgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZlYXR1cmVzKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgdGhpcy53ZWJHTCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5maWxlID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmZpbGVTeXN0ZW0gPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLndvcmtlciA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckxvY2sgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMucXVpcmtzTW9kZSA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5nZXRVc2VyTWVkaWEgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9jcmVhdGVDbGFzcyhGZWF0dXJlcywgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyA9ICEhd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8fCB0aGlzLmRldmljZS5vcy5jb2Nvb25KUztcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSAhIWxvY2FsU3RvcmFnZS5nZXRJdGVtO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZSA9ICEhd2luZG93LkZpbGUgJiYgISF3aW5kb3cuRmlsZVJlYWRlciAmJiAhIXdpbmRvdy5GaWxlTGlzdCAmJiAhIXdpbmRvdy5CbG9iO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVTeXN0ZW0gPSAhIXdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGVja1dlYkdMID0gZnVuY3Rpb24gY2hlY2tXZWJHTCgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLnNjcmVlbmNhbnZhcyA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJiAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViR0wgPSAhIWNoZWNrV2ViR0woKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud29ya2VyID0gISF3aW5kb3cuV29ya2VyO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludGVyTG9jayA9ICdwb2ludGVyTG9ja0VsZW1lbnQnIGluIGRvY3VtZW50IHx8ICdtb3pQb2ludGVyTG9ja0VsZW1lbnQnIGluIGRvY3VtZW50IHx8ICd3ZWJraXRQb2ludGVyTG9ja0VsZW1lbnQnIGluIGRvY3VtZW50O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWlya3NNb2RlID0gZG9jdW1lbnQuY29tcGF0TW9kZSA9PT0gJ0NTUzFDb21wYXQnID8gZmFsc2UgOiB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3Iub0dldFVzZXJNZWRpYTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5VUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkw7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJNZWRpYSA9ICEhbmF2aWdhdG9yLmdldFVzZXJNZWRpYSAmJiAhIXdpbmRvdy5VUkw7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbGRlciB2ZXJzaW9ucyBvZiBmaXJlZm94ICg8IDIxKSBhcHBhcmVudGx5IGNsYWltIHN1cHBvcnQgYnV0IHVzZXIgbWVkaWEgZG9lcyBub3QgYWN0dWFsbHkgd29ya1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoZGV2aWNlLmZpcmVmb3ggJiYgZGV2aWNlLmZpcmVmb3hWZXJzaW9uIDwgMjEpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRldmljZS5nZXRVc2VyTWVkaWEgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcmVwbGFjZSBjYW52YXNCaXRCbHRTaGlmdCBkZXRlY3Rpb24gd2l0aCBhY3R1YWwgZmVhdHVyZSBjaGVja1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhjbHVkZXMgaU9TIHZlcnNpb25zIGFzIHRoZXkgZ2VuZXJhbGx5IHdyYXAgVUlXZWJWaWV3IChlZy4gU2FmYXJpIFdlYktpdCkgYW5kIGl0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIHNhZmVyIHRvIG5vdCB0cnkgYW5kIHVzZSB0aGUgZmFzdCBjb3B5LW92ZXIgbWV0aG9kLlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoIWRldmljZS5pT1MgJiYgKGRldmljZS5pZSB8fCBkZXZpY2UuZmlyZWZveCB8fCBkZXZpY2UuY2hyb21lKSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGV2aWNlLmNhbnZhc0JpdEJsdFNoaWZ0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gS25vd24gbm90IHRvIHdvcmtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGRldmljZS5zYWZhcmkgfHwgZGV2aWNlLm1vYmlsZVNhZmFyaSlcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8ge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGV2aWNlLmNhbnZhc0JpdEJsdFNoaWZ0ID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9XSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBGZWF0dXJlcztcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRmVhdHVyZXM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIElucHV0KGRldmljZSkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dCk7XG5cdFxuXHQgICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xuXHRcblx0ICAgICAgICB0aGlzLnRvdWNoID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy5tc3BvaW50ZXIgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgdGhpcy53aGVlbEV2ZW50ID0gJyc7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKElucHV0LCBbe1xuXHQgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPj0gMSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy50b3VjaCA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgfHwgd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5tc3BvaW50ZXIgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXRoaXMuZGV2aWNlLm9zLmNvY29vbkpTKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3doZWVsXG5cdCAgICAgICAgICAgICAgICBpZiAoJ29ud2hlZWwnIGluIHdpbmRvdyB8fCB0aGlzLmRldmljZS5icm93c2VyLmllICYmICdXaGVlbEV2ZW50JyBpbiB3aW5kb3cpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBET00zIFdoZWVsIEV2ZW50OiBGRiAxNyssIElFIDkrLCBDaHJvbWUgMzErLCBTYWZhcmkgNytcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRXZlbnQgPSAnd2hlZWwnO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgnb25tb3VzZXdoZWVsJyBpbiB3aW5kb3cpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBOb24tRkYgbGVnYWN5OiBJRSA2LTksIENocm9tZSAxLTMxLCBTYWZhcmkgNS03LlxuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxFdmVudCA9ICdtb3VzZXdoZWVsJztcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGV2aWNlLmZpcmVmb3ggJiYgJ01vdXNlU2Nyb2xsRXZlbnQnIGluIHdpbmRvdykge1xuXHQgICAgICAgICAgICAgICAgICAgIC8vIEZGIHByaW9yIHRvIDE3LiBUaGlzIHNob3VsZCBwcm9iYWJseSBiZSBzY3J1YmJlZC5cblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRXZlbnQgPSAnRE9NTW91c2VTY3JvbGwnO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBJbnB1dDtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW5wdXQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMO1xuXHRcblx0dmFyIF9HZXRDb250ZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xuXHRcblx0dmFyIF9HZXRDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dldENvbnRleHQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFdlYkdMKCkge1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRcblx0ICAgICAgICBpZiAoKDAsIF9HZXRDb250ZXh0Mi5kZWZhdWx0KShjYW52YXMpID09PSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlcnJvcikge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBHZXRDb250ZXh0O1xuXHRmdW5jdGlvbiBHZXRDb250ZXh0KGNhbnZhcywgb3B0aW9ucykge1xuXHRcblx0ICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucykgfHwgbnVsbDtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5XZWJHTCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfV2ViR0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5cdFxuXHR2YXIgX1dlYkdMMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLldlYkdMID0gX1dlYkdMMi5kZWZhdWx0O1xuXG4vKioqLyB9XG5cbi8qKioqKiovIH0pXG59KTtcbjtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBkZXZpY2UuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDFiNmY1OGExNzc0NTA4MGYwMDFhXG4gKiovIiwiaW1wb3J0IEJyb3dzZXIgZnJvbSAnLi9Ccm93c2VyLmpzJztcclxuaW1wb3J0IERldmljZSBmcm9tICcuL0RldmljZS5qcyc7XHJcbmltcG9ydCBFbmRpYW4gZnJvbSAnLi9FbmRpYW4uanMnO1xyXG5pbXBvcnQgRmVhdHVyZXMgZnJvbSAnLi9GZWF0dXJlcy5qcyc7XHJcbmltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0LmpzJztcclxuaW1wb3J0IE9TIGZyb20gJy4vT1MuanMnO1xyXG5pbXBvcnQgV2ViR0wgZnJvbSAnLi9mZWF0dXJlcy9XZWJHTC5qcyc7XHJcblxyXG5leHBvcnQge1xyXG4gICAgQnJvd3NlcixcclxuICAgIERldmljZSxcclxuICAgIEVuZGlhbixcclxuICAgIEZlYXR1cmVzLFxyXG4gICAgSW5wdXQsXHJcbiAgICBPUyxcclxuICAgIFdlYkdMXHJcbn07XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9kZXZpY2UvaW5kZXguanNcbiAqKi8iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnJvd3NlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGRldmljZSkge1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvY29vbkpTIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciBDb2Nvb25KUz9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvY29vbkpTID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNvY29vbkpTQXBwIC0gSXMgdGhpcyBnYW1lIHJ1bm5pbmcgd2l0aCBDb2Nvb25KUy5BcHA/XHJcbiAgICAgICAgKiBAZGVmYXVsdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jb2Nvb25KU0FwcCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBjb3Jkb3ZhIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciBBcGFjaGUgQ29yZG92YT9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvcmRvdmEgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9kZSAtIElzIHRoZSBnYW1lIHJ1bm5pbmcgdW5kZXIgTm9kZS5qcz9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLm5vZGUgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9kZVdlYmtpdCAtIElzIHRoZSBnYW1lIHJ1bm5pbmcgdW5kZXIgTm9kZS1XZWJraXQ/XHJcbiAgICAgICAgKiBAZGVmYXVsdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5ub2RlV2Via2l0ID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGVsZWN0cm9uIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciBHaXRIdWIgRWxlY3Ryb24/XHJcbiAgICAgICAgKiBAZGVmYXVsdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5lbGVjdHJvbiA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBlamVjdGEgLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIEVqZWN0YT9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmVqZWN0YSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY3Jvc3N3YWxrIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciB0aGUgSW50ZWwgQ3Jvc3N3YWxrIFhESz9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNyb3Nzd2FsayA9IGZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0ICh1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQpIHtcclxuXHJcbiAgICAgICAgaWYgKC9Bcm9yYS8udGVzdCh1YSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmFyb3JhID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL0Nocm9tZVxcLyhcXGQrKS8udGVzdCh1YSkgJiYgIXRoaXMuZGV2aWNlLm9zLndpbmRvd3NQaG9uZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hyb21lID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaHJvbWVWZXJzaW9uID0gcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9FcGlwaGFueS8udGVzdCh1YSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmVwaXBoYW55ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL0ZpcmVmb3hcXEQrKFxcZCspLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZWZveCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZWZveFZlcnNpb24gPSBwYXJzZUludChSZWdFeHAuJDEsIDEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL0FwcGxlV2ViS2l0Ly50ZXN0KHVhKSAmJiB0aGlzLmRldmljZS5vcy5pT1MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm1vYmlsZVNhZmFyaSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9NU0lFIChcXGQrXFwuXFxkKyk7Ly50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmllVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvTWlkb3JpLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubWlkb3JpID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL09wZXJhLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMub3BlcmEgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvU2FmYXJpLy50ZXN0KHVhKSAmJiAhdGhpcy5kZXZpY2Uub3Mud2luZG93c1Bob25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zYWZhcmkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvVHJpZGVudFxcLyhcXGQrXFwuXFxkKykoLiopcnY6KFxcZCtcXC5cXGQrKS8udGVzdCh1YSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmllID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy50cmlkZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy50cmlkZW50VmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApO1xyXG4gICAgICAgICAgICB0aGlzLmllVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMywgMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gIFNpbGsgZ2V0cyBpdHMgb3duIGlmIGNsYXVzZSBiZWNhdXNlIGl0cyB1YSBhbHNvIGNvbnRhaW5zICdTYWZhcmknXHJcbiAgICAgICAgaWYgKC9TaWxrLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2lsayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgV2ViQXBwIG1vZGUgaW4gaU9TXHJcbiAgICAgICAgaWYgKG5hdmlnYXRvci5zdGFuZGFsb25lKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy53ZWJBcHAgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAod2luZG93LmNvcmRvdmEgIT09IHVuZGVmaW5lZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY29yZG92YSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChwcm9jZXNzICE9PSB1bmRlZmluZWQgJiYgcmVxdWlyZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMubm9kZSAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyA9PT0gJ29iamVjdCcpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVXZWJraXQgPSAhIXByb2Nlc3MudmVyc2lvbnNbJ25vZGUtd2Via2l0J107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmVsZWN0cm9uID0gISFwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNvY29vbkpTID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvY29vbkpTQXBwID0gKHR5cGVvZiBDb2Nvb25KUyAhPT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2Nvb25KU0FwcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2luZG93LmVqZWN0YSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5lamVjdGEgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKC9Dcm9zc3dhbGsvLnRlc3QodWEpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jcm9zc3dhbGsgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2RldmljZS9Ccm93c2VyLmpzXG4gKiovIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wcm9jZXNzL2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gNVxuICoqLyIsInZhciBtYXAgPSB7XG5cdFwiLi9Ccm93c2VyXCI6IDE0MCxcblx0XCIuL0Jyb3dzZXIuanNcIjogMTQwLFxuXHRcIi4vRGV2aWNlXCI6IDE0Myxcblx0XCIuL0RldmljZS5qc1wiOiAxNDMsXG5cdFwiLi9FbmRpYW5cIjogMTQ1LFxuXHRcIi4vRW5kaWFuLmpzXCI6IDE0NSxcblx0XCIuL0ZlYXR1cmVzXCI6IDE0Nixcblx0XCIuL0ZlYXR1cmVzLmpzXCI6IDE0Nixcblx0XCIuL0lucHV0XCI6IDE0Nyxcblx0XCIuL0lucHV0LmpzXCI6IDE0Nyxcblx0XCIuL09TXCI6IDE0NCxcblx0XCIuL09TLmpzXCI6IDE0NCxcblx0XCIuL2ZlYXR1cmVzL1dlYkdMXCI6IDE0OCxcblx0XCIuL2ZlYXR1cmVzL1dlYkdMLmpzXCI6IDE0OCxcblx0XCIuL2ZlYXR1cmVzL2luZGV4XCI6IDE1MCxcblx0XCIuL2ZlYXR1cmVzL2luZGV4LmpzXCI6IDE1MFxufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyh3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSk7XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRyZXR1cm4gbWFwW3JlcV0gfHwgKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKSB9KCkpO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNDI7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2RldmljZSBeXFwuXFwvLiokXG4gKiogbW9kdWxlIGlkID0gMTQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDVcbiAqKi8iLCJpbXBvcnQgT1MgZnJvbSAnLi9PUy5qcyc7XHJcbmltcG9ydCBFbmRpYW4gZnJvbSAnLi9FbmRpYW4uanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV2aWNlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMub3MgPSBuZXcgT1MoKTtcclxuICAgICAgICB0aGlzLkxJVFRMRV9FTkRJQU4gPSBFbmRpYW4oKTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZGV2aWNlL0RldmljZS5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE9TIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBkZXNrdG9wIC0gSXMgcnVubmluZyBvbiBhIGRlc2t0b3A/XHJcbiAgICAgICAgKiBAZGVmYXVsdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5kZXNrdG9wID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBpT1MgLSBJcyBydW5uaW5nIG9uIGlPUz9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmlPUyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpT1NWZXJzaW9uIC0gSWYgcnVubmluZyBpbiBpT1MgdGhpcyB3aWxsIGNvbnRhaW4gdGhlIG1ham9yIHZlcnNpb24gbnVtYmVyLlxyXG4gICAgICAgICogQGRlZmF1bHRcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaU9TVmVyc2lvbiA9IDA7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbmRyb2lkIC0gSXMgcnVubmluZyBvbiBhbmRyb2lkP1xyXG4gICAgICAgICogQGRlZmF1bHRcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2hyb21lT1MgLSBJcyBydW5uaW5nIG9uIGNocm9tZU9TP1xyXG4gICAgICAgICogQGRlZmF1bHRcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY2hyb21lT1MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxpbnV4IC0gSXMgcnVubmluZyBvbiBsaW51eD9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmxpbnV4ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBtYWNPUyAtIElzIHJ1bm5pbmcgb24gbWFjT1M/XHJcbiAgICAgICAgKiBAZGVmYXVsdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5tYWNPUyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gd2luZG93cyAtIElzIHJ1bm5pbmcgb24gd2luZG93cz9cclxuICAgICAgICAqIEBkZWZhdWx0XHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLndpbmRvd3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHdpbmRvd3NQaG9uZSAtIElzIHJ1bm5pbmcgb24gYSBXaW5kb3dzIFBob25lP1xyXG4gICAgICAgICogQGRlZmF1bHRcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMud2luZG93c1Bob25lID0gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQgKHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCkge1xyXG5cclxuICAgICAgICBpZiAoL1BsYXlzdGF0aW9uIFZpdGEvLnRlc3QodWEpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy52aXRhID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL0tpbmRsZS8udGVzdCh1YSkgfHwgL1xcYktGW0EtWl1bQS1aXSsvLnRlc3QodWEpIHx8IC9TaWxrLipNb2JpbGUgU2FmYXJpLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMua2luZGxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gVGhpcyB3aWxsIE5PVCBkZXRlY3QgZWFybHkgZ2VuZXJhdGlvbnMgb2YgS2luZGxlIEZpcmUsIEkgdGhpbmsgdGhlcmUgaXMgbm8gcmVsaWFibGUgd2F5Li4uXHJcbiAgICAgICAgICAgIC8vIEUuZy4gXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBVOyBJbnRlbCBNYWMgT1MgWCAxMF82XzM7IGVuLXVzOyBTaWxrLzEuMS4wLTgwKSBBcHBsZVdlYktpdC81MzMuMTYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzUuMCBTYWZhcmkvNTMzLjE2IFNpbGstQWNjZWxlcmF0ZWQ9dHJ1ZVwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9BbmRyb2lkLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5kcm9pZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9Dck9TLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hyb21lT1MgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvaVBbYW9dZHxpUGhvbmUvaS50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaU9TID0gdHJ1ZTtcclxuICAgICAgICAgICAgKG5hdmlnYXRvci5hcHBWZXJzaW9uKS5tYXRjaCgvT1MgKFxcZCspLyk7XHJcbiAgICAgICAgICAgIHRoaXMuaU9TVmVyc2lvbiA9IHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvTGludXgvLnRlc3QodWEpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5saW51eCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9NYWMgT1MvLnRlc3QodWEpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5tYWNPUyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKC9XaW5kb3dzLy50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud2luZG93cyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoL1dpbmRvd3MgUGhvbmUvaS50ZXN0KHVhKSB8fCAvSUVNb2JpbGUvaS50ZXN0KHVhKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5kcm9pZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmlPUyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm1hY09TID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMud2luZG93cyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMud2luZG93c1Bob25lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzaWxrID0gL1NpbGsvLnRlc3QodWEpOyAvLyBkZXRlY3RlZCBpbiBicm93c2Vyc1xyXG5cclxuICAgICAgICBpZiAodGhpcy53aW5kb3dzIHx8IHRoaXMubWFjT1MgfHwgKHRoaXMubGludXggJiYgIXNpbGspIHx8IHRoaXMuY2hyb21lT1MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2t0b3AgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gIFdpbmRvd3MgUGhvbmUgLyBUYWJsZSByZXNldFxyXG4gICAgICAgIGlmICh0aGlzLndpbmRvd3NQaG9uZSB8fCAoKC9XaW5kb3dzIE5UL2kudGVzdCh1YSkpICYmICgvVG91Y2gvaS50ZXN0KHVhKSkpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNrdG9wID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9kZXZpY2UvT1MuanNcbiAqKi8iLCIvKipcclxuICogQ2hlY2sgZm9yIExpdHRsZSBvciBCaWcgRW5kaWFuIHN5c3RlbXMuXHJcbiAqXHJcbiAqIEBtZXRob2QgXHJcbiAqIEBhdXRob3IgTWF0dCBEZXNMYXVyaWVycyAoQG1hdHRkZXNsKVxyXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGxpdHRsZSBlbmRpYW4sIGZhbHNlIGlmIGJpZyBlbmRpYW4sIG51bGwgaWYgY291bGQgbm90IGRldGVybWluZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVuZGlhbiAoKSB7XHJcblxyXG4gICAgY29uc3QgYSA9IG5ldyBBcnJheUJ1ZmZlcig0KTtcclxuICAgIGNvbnN0IGIgPSBuZXcgVWludDhBcnJheShhKTtcclxuICAgIGNvbnN0IGMgPSBuZXcgVWludDMyQXJyYXkoYSk7XHJcblxyXG4gICAgYlswXSA9IDB4YTE7XHJcbiAgICBiWzFdID0gMHhiMjtcclxuICAgIGJbMl0gPSAweGMzO1xyXG4gICAgYlszXSA9IDB4ZDQ7XHJcblxyXG4gICAgaWYgKGNbMF0gPT09IDB4ZDRjM2IyYTEpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNbMF0gPT09IDB4YTFiMmMzZDQpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIC8vICBDb3VsZCBub3QgZGV0ZXJtaW5lIGVuZGlhbm5lc3NcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZGV2aWNlL0VuZGlhbi5qc1xuICoqLyIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZWF0dXJlcyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGRldmljZSkge1xyXG5cclxuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndlYkdMID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZmlsZVN5c3RlbSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLndvcmtlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50ZXJMb2NrID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5xdWlya3NNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nZXRVc2VyTWVkaWEgPSBmYWxzZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHx8IHRoaXMuZGV2aWNlLm9zLmNvY29vbkpTO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZSA9ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZpbGUgPSAhIXdpbmRvdy5GaWxlICYmICEhd2luZG93LkZpbGVSZWFkZXIgJiYgISF3aW5kb3cuRmlsZUxpc3QgJiYgISF3aW5kb3cuQmxvYjtcclxuICAgICAgICB0aGlzLmZpbGVTeXN0ZW0gPSAhIXdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2tXZWJHTCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5zY3JlZW5jYW52YXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMud2ViR0wgPSAhIWNoZWNrV2ViR0woKTtcclxuXHJcbiAgICAgICAgdGhpcy53b3JrZXIgPSAhIXdpbmRvdy5Xb3JrZXI7XHJcblxyXG4gICAgICAgIHRoaXMucG9pbnRlckxvY2sgPSAncG9pbnRlckxvY2tFbGVtZW50JyBpbiBkb2N1bWVudCB8fCAnbW96UG9pbnRlckxvY2tFbGVtZW50JyBpbiBkb2N1bWVudCB8fCAnd2Via2l0UG9pbnRlckxvY2tFbGVtZW50JyBpbiBkb2N1bWVudDtcclxuXHJcbiAgICAgICAgdGhpcy5xdWlya3NNb2RlID0gKGRvY3VtZW50LmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JykgPyBmYWxzZSA6IHRydWU7XHJcblxyXG4gICAgICAgIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLm9HZXRVc2VyTWVkaWE7XHJcblxyXG4gICAgICAgIHdpbmRvdy5VUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkw7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VXNlck1lZGlhID0gISFuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhICYmICEhd2luZG93LlVSTDtcclxuXHJcbiAgICAgICAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgZmlyZWZveCAoPCAyMSkgYXBwYXJlbnRseSBjbGFpbSBzdXBwb3J0IGJ1dCB1c2VyIG1lZGlhIGRvZXMgbm90IGFjdHVhbGx5IHdvcmtcclxuICAgICAgICAvLyBpZiAoZGV2aWNlLmZpcmVmb3ggJiYgZGV2aWNlLmZpcmVmb3hWZXJzaW9uIDwgMjEpXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICBkZXZpY2UuZ2V0VXNlck1lZGlhID0gZmFsc2U7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIGNhbnZhc0JpdEJsdFNoaWZ0IGRldGVjdGlvbiB3aXRoIGFjdHVhbCBmZWF0dXJlIGNoZWNrXHJcblxyXG4gICAgICAgIC8vIEV4Y2x1ZGVzIGlPUyB2ZXJzaW9ucyBhcyB0aGV5IGdlbmVyYWxseSB3cmFwIFVJV2ViVmlldyAoZWcuIFNhZmFyaSBXZWJLaXQpIGFuZCBpdFxyXG4gICAgICAgIC8vIGlzIHNhZmVyIHRvIG5vdCB0cnkgYW5kIHVzZSB0aGUgZmFzdCBjb3B5LW92ZXIgbWV0aG9kLlxyXG4gICAgICAgIC8vIGlmICghZGV2aWNlLmlPUyAmJiAoZGV2aWNlLmllIHx8IGRldmljZS5maXJlZm94IHx8IGRldmljZS5jaHJvbWUpKVxyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgZGV2aWNlLmNhbnZhc0JpdEJsdFNoaWZ0ID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIC8vIEtub3duIG5vdCB0byB3b3JrXHJcbiAgICAgICAgLy8gaWYgKGRldmljZS5zYWZhcmkgfHwgZGV2aWNlLm1vYmlsZVNhZmFyaSlcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIGRldmljZS5jYW52YXNCaXRCbHRTaGlmdCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZGV2aWNlL0ZlYXR1cmVzLmpzXG4gKiovIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoZGV2aWNlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xyXG5cclxuICAgICAgICB0aGlzLnRvdWNoID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tc3BvaW50ZXIgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy53aGVlbEV2ZW50ID0gJyc7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQgKCkge1xyXG5cclxuICAgICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8ICh3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPj0gMSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgfHwgd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubXNwb2ludGVyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kZXZpY2Uub3MuY29jb29uSlMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3doZWVsXHJcbiAgICAgICAgICAgIGlmICgnb253aGVlbCcgaW4gd2luZG93IHx8ICh0aGlzLmRldmljZS5icm93c2VyLmllICYmICdXaGVlbEV2ZW50JyBpbiB3aW5kb3cpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBET00zIFdoZWVsIEV2ZW50OiBGRiAxNyssIElFIDkrLCBDaHJvbWUgMzErLCBTYWZhcmkgNytcclxuICAgICAgICAgICAgICAgIHRoaXMud2hlZWxFdmVudCA9ICd3aGVlbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoJ29ubW91c2V3aGVlbCcgaW4gd2luZG93KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBOb24tRkYgbGVnYWN5OiBJRSA2LTksIENocm9tZSAxLTMxLCBTYWZhcmkgNS03LlxyXG4gICAgICAgICAgICAgICAgdGhpcy53aGVlbEV2ZW50ID0gJ21vdXNld2hlZWwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRldmljZS5maXJlZm94ICYmICdNb3VzZVNjcm9sbEV2ZW50JyBpbiB3aW5kb3cpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIEZGIHByaW9yIHRvIDE3LiBUaGlzIHNob3VsZCBwcm9iYWJseSBiZSBzY3J1YmJlZC5cclxuICAgICAgICAgICAgICAgIHRoaXMud2hlZWxFdmVudCA9ICdET01Nb3VzZVNjcm9sbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2RldmljZS9JbnB1dC5qc1xuICoqLyIsImltcG9ydCBXZWJHTEdldENvbnRleHQgZnJvbSAnLi4vLi4vd2ViZ2wvR2V0Q29udGV4dC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXZWJHTCgpIHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuXHJcbiAgICAgICAgaWYgKFdlYkdMR2V0Q29udGV4dChjYW52YXMpID09PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2RldmljZS9mZWF0dXJlcy9XZWJHTC5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdldENvbnRleHQgKGNhbnZhcywgb3B0aW9ucykge1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgXHJcbiAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpIHx8IFxyXG4gICAgICAgIG51bGxcclxuICAgICk7XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvR2V0Q29udGV4dC5qc1xuICoqLyIsImltcG9ydCBXZWJHTCBmcm9tICcuL1dlYkdMLmpzJ1xyXG5cclxuZXhwb3J0IHtcclxuXHRXZWJHTFxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2RldmljZS9mZWF0dXJlcy9pbmRleC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=