!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("renderers",[],e):"object"==typeof exports?exports.renderers=e():(t.lazer=t.lazer||{},t.lazer.renderers=e())}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}({0:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.point=e.nano=e.minimal=e.batchTexture=e.batchPoint=void 0;var i=r(710),o=n(i),a=r(719),u=n(a),l=r(722),s=n(l),f=r(726),h=n(f),c=r(728),d=n(c);e.batchPoint=o,e.batchTexture=u,e.minimal=s,e.nano=h,e.point=d},12:function(t,e){"use strict";function r(t,e){return t.getContext("2d",e)||null}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},148:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){try{var t=document.createElement("canvas");if(null===(0,a["default"])(t))return!1}catch(e){return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(149),a=n(o)},149:function(t,e){"use strict";function r(t,e){return t.getContext("webgl",e)||t.getContext("experimental-webgl",e)||null}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},161:function(t,e){"use strict";function r(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=Math.floor(6*t),i=6*t-n,o=Math.floor(r*(1-e)*255),a=Math.floor(r*(1-i*e)*255),u=Math.floor(r*(1-(1-i)*e)*255);r=Math.floor(r*=255);var l=n%6;return 0===l?{r:r,g:u,b:o}:1===l?{r:a,g:r,b:o}:2===l?{r:o,g:r,b:u}:3===l?{r:o,g:a,b:r}:4===l?{r:u,g:o,b:r}:5===l?{r:r,g:o,b:a}:void 0}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},269:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(270),l=i(u),s=r(271),f=i(s),h=r(272),c=i(h),d=r(161),v=i(d),g=r(274),b=i(g),y=r(276),p=i(y),_=r(277),m=i(_),w=r(278),x=n(w),P=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?255:arguments[3];o(this,t),this.r=e,this.g=r,this.b=n,this.a=i,this.gl=new Float32Array([0,0,0,1]),this.color=0,this.color32=0,this.rgba="",this.dirty=!0,this.update()}return a(t,[{key:"setRGB",value:function(t,e,r){var n=arguments.length<=3||void 0===arguments[3]?255:arguments[3];return this.r=t,this.g=e,this.b=r,this.a=n,this.dirty=!0,this.update()}},{key:"fromRGB",value:function(t,e,r){var n=arguments.length<=3||void 0===arguments[3]?255:arguments[3];return this.red=t,this.green=e,this.blue=r,this.alpha=n,this.update()}},{key:"fromColor",value:function(t){var e=(0,m["default"])(t),r=e.r,n=e.g,i=e.b,o=e.a;return this.setRGB(r,n,i,o)}},{key:"fromRandom",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?255:arguments[1],r=(0,p["default"])(t,e),n=r.r,i=r.g,o=r.b;return this.setRGB(n,i,o)}},{key:"fromHSV",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=(0,v["default"])(t,e,r),i=n.r,o=n.g,a=n.b;return this.fromRGB(i,o,a)}},{key:"fromHSVColorWheel",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];t=Math.min(Math.abs(t),359)/359;var n=(0,v["default"])(t,e,r),i=n.r,o=n.g,a=n.b;return this.fromRGB(i,o,a)}},{key:"fromHSL",value:function(t,e,r){var n=(0,b["default"])(t,e,r),i=n.r,o=n.g,a=n.b;return this.fromRGB(i,o,a)}},{key:"fromHSLColorWheel",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?.5:arguments[2];t=Math.min(Math.abs(t),359)/359;var n=(0,b["default"])(t,e,r),i=n.r,o=n.g,a=n.b;return this.fromRGB(i,o,a)}},{key:"fromInterpolation",value:function(t,e,r,n){var i=x.colorWithColor(t,e,r,n),o=i.r,a=i.g,u=i.b;return this.fromRGB(o,a,u)}},{key:"interpolateWith",value:function(t,e,r){var n=x.colorWithColor(this,t,e,r),i=n.r,o=n.g,a=n.b;return this.fromRGB(i,o,a)}},{key:"clone",value:function(){return new t(this.r,this.g,this.b,this.a)}},{key:"copyFrom",value:function(t){return this.setRGB(t.r,t.g,t.b,t.a)}},{key:"copyTo",value:function(t){return t.setRGB(this.r,this.g,this.b,this.a)}},{key:"equals",value:function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}},{key:"update",value:function(){return this.dirty?(this.color=(0,l["default"])(this.r,this.g,this.b),this.color32=(0,f["default"])(this.r,this.g,this.b,this.a),this.rgba="rgba("+this.r+", "+this.g+", "+this.b+", "+255/this.a+")",this.gl[0]=this.r/255,this.gl[1]=this.g/255,this.gl[2]=this.b/255,this.gl[3]=this.a/255,this.dirty=!1,this):this}},{key:"toGL",value:function(){return this.gl}},{key:"toString",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"#":arguments[0];return(0,c["default"])(this.r,this.g,this.b,this.a,t)}},{key:"r1",get:function(){return this.gl[0]}},{key:"g1",get:function(){return this.gl[1]}},{key:"b1",get:function(){return this.gl[2]}},{key:"a1",get:function(){return this.gl[3]}},{key:"red",get:function(){return this.r},set:function(t){t!==this.r&&(t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=this.r/255,this.dirty=!0)}},{key:"green",get:function(){return this.g},set:function(t){t!==this.g&&(t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=this.g/255,this.dirty=!0)}},{key:"blue",get:function(){return this.b},set:function(t){t!==this.b&&(t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=this.b/255,this.dirty=!0)}},{key:"alpha",get:function(){return this.a},set:function(t){t!==this.a&&(t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=this.a/255,this.dirty=!0)}}],[{key:"create",value:function(e){return(new t).fromColor(e)}},{key:"createRandom",value:function(e,r){return(new t).fromRandom(e,r)}}]),t}();e["default"]=P},270:function(t,e){"use strict";function r(t,e,r){return t<<16|e<<8|r}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},271:function(t,e){"use strict";function r(t,e,r,n){return n<<24|t<<16|e<<8|r}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},272:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){var n=arguments.length<=3||void 0===arguments[3]?255:arguments[3],i=arguments.length<=4||void 0===arguments[4]?"#":arguments[4];return"#"===i?"#"+((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1):"0x"+(0,a["default"])(n)+(0,a["default"])(t)+(0,a["default"])(e)+(0,a["default"])(r)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(273),a=n(o)},273:function(t,e){"use strict";function r(t){var e=t.toString(16);return 1===e.length?"0"+e:e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},274:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){var n=r,i=r,o=r;if(0!==e){var u=.5>r?r*(1+e):r+e-r*e,l=2*r-u;n=(0,a["default"])(l,u,t+1/3),i=(0,a["default"])(l,u,t),o=(0,a["default"])(l,u,t-1/3)}return{r:255*n,g:255*i,b:255*o}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=r(275),a=n(o)},275:function(t,e){"use strict";function r(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+(e-t)*(2/3-r)*6:t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},276:function(t,e){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?255:arguments[1],r=t+Math.round(Math.random()*(e-t)),n=t+Math.round(Math.random()*(e-t)),i=t+Math.round(Math.random()*(e-t));return{r:r,g:n,b:i}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},277:function(t,e){"use strict";function r(t){if(t>16777215);else;var e=t>>16&255,r=t>>8&255,n=255&t;return{r:e,g:r,b:n,a:a}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},278:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var r=arguments.length<=2||void 0===arguments[2]?100:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return this.RGBwithRGB(t.r,t.g,t.b,e.r,e.g,e.b,r,n)}function o(t,e,r,n){var i=arguments.length<=4||void 0===arguments[4]?100:arguments[4],o=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return this.RGBwithRGB(t.r,t.g,t.b,e,r,n,i,o)}function a(t,e,r,n,i,o){var a=arguments.length<=6||void 0===arguments[6]?100:arguments[6],u=arguments.length<=7||void 0===arguments[7]?0:arguments[7],s=u/a,f=(0,l["default"])(t,n,s),h=(0,l["default"])(e,i,s),c=(0,l["default"])(r,o,s);return{r:f,g:h,b:c}}Object.defineProperty(e,"__esModule",{value:!0}),e.colorWithColor=i,e.colorWithRGB=o,e.RGBwithRGB=a;var u=r(279),l=n(u)},279:function(t,e){"use strict";function r(t,e,r){return(e-t)*r+t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},709:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3};e["default"]=r},710:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLBatchedPoint=void 0;var i=r(711),o=n(i);e.WebGLBatchedPoint=o["default"]},711:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(712),l=i(u),s=r(713),f=i(s),h=r(149),c=i(h),d=r(714),v=i(d),g=r(715),b=i(g),y=r(717),p=i(y),_=r(718),m=i(_),w=r(716),x=n(w),P=function(){function t(e){o(this,t),this.width=0,this.height=0,this.contextOptions=(0,f["default"])(),this.contextHandler=new l["default"],this.vertexBuffer=new p["default"],this.gl=null,this.program=null,e&&this.init(e)}return a(t,[{key:"init",value:function(t){if(this.width=t.width,this.height=t.height,this.contextHandler.add(t),this.gl=(0,c["default"])(t),!this.gl)throw new Error("Browser does not support WebGL");this.gl.disable(this.gl.DEPTH_TEST),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.DST_ALPHA);var e=["attribute vec4 pointPosition;","varying vec4 vColor;","void main() {","   gl_Position = pointPosition;","   gl_PointSize = 6.0;","   float uvx = 0.5 + pointPosition.x;","   float uvy = 0.5 + pointPosition.y;","   vColor = vec4(uvx, uvy, 1.0, 1.0);","}"],r=["precision mediump float;","varying vec4 vColor;","void main() {","   gl_FragColor = vColor;","}"],n=(0,v["default"])(this.gl,e,this.gl.VERTEX_SHADER),i=(0,v["default"])(this.gl,r,this.gl.FRAGMENT_SHADER);this.program=new b["default"](this.gl),this.program.attach(n,i).link().use(),this.vertexBuffer.create(this.gl,2,1e3),this.pos=x.createFloat(this.gl,this.program.program,"pointPosition")}},{key:"getLocalX",value:function(t){var e=this.width/2;return(t-e)/e}},{key:"getLocalY",value:function(t){var e=this.height/2;return(e-t)/e}},{key:"reset",value:function(){this.vertexBuffer.reset()}},{key:"addPoint",value:function(t,e){(0,m["default"])(this.vertexBuffer,this.getLocalX(t),this.getLocalY(e))}},{key:"addTri",value:function(t,e,r){var n=r/2;this.addPoint(t,e-n),this.addPoint(t-n,e+n),this.addPoint(t+n,e+n)}},{key:"bufferStatic",value:function(){this.vertexBuffer.bufferData(this.gl,this.gl.STATIC_DRAW)}},{key:"bufferDynamic",value:function(){this.vertexBuffer.bufferData(this.gl,this.gl.DYNAMIC_DRAW)}},{key:"render",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.gl.POINT:arguments[0];this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(t,0,this.vertexBuffer.total)}},{key:"renderLines",value:function(){this.render(this.gl.LINES)}},{key:"renderLineStrip",value:function(){this.render(this.gl.LINE_STRIP)}},{key:"renderLineLoop",value:function(){this.render(this.gl.LINE_LOOP)}},{key:"renderTriangles",value:function(){this.render(this.gl.TRIANGLES)}},{key:"renderTriangleStrip",value:function(){this.render(this.gl.TRIANGLE_STRIP)}},{key:"renderTriangleFan",value:function(){this.render(this.gl.TRIANGLE_FAN)}}]),t}();e["default"]=P},712:function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e){r(this,t),this.canvas=null,this.contextLost=!1,e&&this.add(e)}return n(t,[{key:"add",value:function(t){this.canvas&&this.remove(),this.canvas=t,this.canvas.addEventListener("webglcontextlost",this.lost,!1),this.canvas.addEventListener("webglcontextrestored",this.restored,!1)}},{key:"lost",value:function(t){console.log("WebGL Context Lost"),t.preventDefault(),this.contextLost=!0}},{key:"restored",value:function(){console.log("WebGL Context restored"),this.contextLost=!1}},{key:"remove",value:function(){this.canvas.removeEventListener("webglcontextlost",this.lost),this.canvas.removeEventListener("webglcontextrestored",this.restored),this.canvas=null}}]),t}();e["default"]=i},713:function(t,e){"use strict";function r(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.alpha,r=void 0===e?!1:e,n=t.antialias,i=void 0===n?!0:n,o=t.premultipliedAlpha,a=void 0===o?!1:o,u=t.stencil,l=void 0===u?!1:u,s=t.preserveDrawingBuffer,f=void 0===s?!1:s;return{alpha:r,antialias:i,premultipliedAlpha:a,stencil:l,preserveDrawingBuffer:f}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},714:function(t,e){"use strict";function r(t,e,r){Array.isArray(e)&&(e=e.join("\n"));var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.warn("Failed to compile shader: "+t.getShaderInfoLog(n)),t.deleteShader(n),null)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},715:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(716),u=n(a),l=function(){function t(e){return i(this,t),this.gl=e,this.program=e.createProgram(),this.program?void 0:(console.warn("WebGLProgram - unable to createProgram on gl context"),null)}return o(t,[{key:"getAttrib",value:function(t){return u.get(this.gl,this.program,t)}},{key:"attach",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;this.gl.attachShader(this.program,l)}}catch(s){i=!0,o=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw o}}return this}},{key:"attachAndDelete",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;this.gl.attachShader(this.program,l),this.gl.deleteShader(l)}}catch(s){i=!0,o=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw o}}return this}},{key:"link",value:function(){this.gl.linkProgram(this.program);var t=this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS);if(!t){var e=this.gl.getProgramInfoLog(this.program);console.warn("Failed to link WebGL program: "+e),this["delete"]()}return this}},{key:"use",value:function(){return this.gl.useProgram(this.program),this}},{key:"detatch",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;this.gl.detatchShader(l)}}catch(s){i=!0,o=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(i)throw o}}return this}},{key:"delete",value:function(){return this.gl.deleteProgram(this.program),this}},{key:"destroy",value:function(){this["delete"](),this.gl=null,this.program=null}}]),t}();e["default"]=l},716:function(t,e){"use strict";function r(t,e,r,n,o,a,u,l){var s=i(t,e,r);return null!==s&&(t.vertexAttribPointer(s,n,o,a,u,l),t.enableVertexAttribArray(s)),s}function n(t,e){t.disableVertexAttribArray(e)}function i(t,e,r){var n=t.getAttribLocation(e,r);return 0>n?(console.warn("WebGLProgram - failed to get attribute location: "+r),null):n}function o(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(t,e,n,2,t.UNSIGNED_BYTE,i,o,a)}function a(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(t,e,n,2,t.SHORT,i,o,a)}function u(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(t,e,n,2,t.UNSIGNED_SHORT,i,o,a)}function l(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(t,e,n,2,t.INT,i,o,a)}function s(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(t,e,n,2,t.UNSIGNED_INT,i,o,a)}function f(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4],a=arguments.length<=5||void 0===arguments[5]?0:arguments[5];return r(t,e,n,2,t.FLOAT,i,o,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.disable=n,e.getLocation=i,e.createByte=o,e.createShort=a,e.createUnsignedShort=u,e.createInt=l,e.createUnsignedInt=s,e.createFloat=f},717:function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(){r(this,t),this.vertSize=0,this.batchSize=0,this.vertices=null,this.buffer=null,this.index=0,this.total=0,this.size=0}return n(t,[{key:"create",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?2:arguments[1],r=arguments.length<=2||void 0===arguments[2]?2e3:arguments[2];return this.vertSize=e,this.batchSize=r,this.vertices=new Float32Array(this.batchSize*this.vertSize),this.index=0,this.total=0,this.size=0,this.buffer=t.createBuffer(),this.buffer?void this.bindBuffer(t):-1}},{key:"bindBuffer",value:function(t){t.bindBuffer(t.ARRAY_BUFFER,this.buffer)}},{key:"bufferData",value:function(t,e){t.bufferData(t.ARRAY_BUFFER,this.vertices,e)}},{key:"bufferDynamicData",value:function(t){t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)}},{key:"bufferStaticData",value:function(t){t.bufferData(t.ARRAY_BUFFER,this.vertices,t.STATIC_DRAW)}},{key:"bufferStreamData",value:function(t){t.bufferData(t.ARRAY_BUFFER,this.vertices,t.STREAM_DRAW)}},{key:"reset",value:function(){this.index=0,this.size=0,this.total=0}}]),t}();e["default"]=i},718:function(t,e){"use strict";function r(t,e,r){return t.vertices[t.index++]=e,t.vertices[t.index++]=r,t.total++,t.index-2}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},719:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLRenderer=void 0;var i=r(720),o=n(i);e.WebGLRenderer=o["default"]},720:function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(712),l=i(u),s=r(713),f=i(s),h=r(149),c=i(h),d=r(714),v=i(d),g=r(715),b=i(g),y=r(717),p=i(y),_=r(721),m=i(_),w=r(716),x=n(w),P=function(){function t(e){o(this,t),this.projection={x:0,y:0},this.contextOptions=(0,f["default"])(),this.contextHandler=new l["default"],this.vertexBuffer=new p["default"],this.indexBuffer=new m["default"],this.gl=null,this.program=null,e&&this.init(e)}return a(t,[{key:"init",value:function(t){this.contextHandler.add(t);var e=(0,c["default"])(t);if(!e)throw new Error("Browser does not support WebGL");this.gl=e,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight);var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4((aVertexPosition / projectionVector) + center, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vec3 color = mod(vec3(aColor.y / 65536.0, aColor.y / 256.0, aColor.y), 256.0) / 256.0;","   vColor = vec4(color * aColor.x, aColor.x);","}"],n=["precision mediump float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"],i=(0,v["default"])(e,r,e.VERTEX_SHADER),o=(0,v["default"])(e,n,e.FRAGMENT_SHADER);this.program=new b["default"](e),this.program.attach(i,o).link().use(),this._aVertexPosition=x.getLocation(e,this.program.program,"aVertexPosition"),this._aTextureCoord=x.getLocation(e,this.program.program,"aTextureCoord"),this._colorAttribute=x.getLocation(e,this.program.program,"aColor"),e.enableVertexAttribArray(0),e.enableVertexAttribArray(1),e.enableVertexAttribArray(2),this.projectionVector=e.getUniformLocation(this.program.program,"projectionVector"),this.vertexBuffer.create(e,6,2e3),this.vertexBuffer.bindBuffer(),this.vertexBuffer.bufferDynamicData(),this.indexBuffer.create(e,6,2e3),this.indexBuffer.bindBuffer(),this.indexBuffer.bufferData()}},{key:"resize",value:function(){var t=this.gl.canvas.clientWidth,e=this.gl.canvas.clientHeight;t!==this.gl.canvas.width&&(this.gl.canvas.width=t),e!==this.gl.canvas.height&&(this.gl.canvas.height=e),this.projection.x=t/2,this.projection.y=-e/2}},{key:"render",value:function(t){if(!this.contextHandler.contextLost){this.resize();var e=this.gl;e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),this.vertexBuffer.reset();var r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){o.value}}catch(u){n=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(n)throw i}}}}},{key:"flush",value:function(){}}]),t}();e["default"]=P},721:function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(){r(this,t),this.vertSize=0,this.batchSize=0,this.indices=null,this.buffer=null}return n(t,[{key:"create",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?6:arguments[1],r=arguments.length<=2||void 0===arguments[2]?2e3:arguments[2];return e*r>65535?(console.warn("VertexIndexBuffer: Cannot create buffer > 65535 bytes"),-1):(this.vertSize=e,this.batchSize=r,this.indices=new Uint16Array(r*e),this.buffer=t.createBuffer(),this.buffer?void this.reset():-1)}},{key:"reset",value:function(){for(var t=0,e=0;t<this.batchSize*this.vertSize;t+=this.vertSize,e+=4)this.indices[t+0]=e+0,this.indices[t+1]=e+1,this.indices[t+2]=e+2,this.indices[t+3]=e+0,this.indices[t+4]=e+2,this.indices[t+5]=e+3}},{key:"bindBuffer",value:function(t){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer)}},{key:"bufferData",value:function(t){t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)}}]),t}();e["default"]=i},722:function(t,e,r){"use strict";"create index";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLRenderer=e.MinimalRenderer=e.CanvasRenderer=void 0;var i=r(723),o=n(i),a=r(724),u=n(a),l=r(725),s=n(l);e.CanvasRenderer=o["default"],e.MinimalRenderer=u["default"],e.WebGLRenderer=s["default"]},723:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(12),u=n(a),l=function(){function t(e){i(this,t),this.canvas=null,this.context=null,e&&this.init(e)}return o(t,[{key:"init",value:function(t){this.canvas=t,this.context=(0,u["default"])(t)}},{key:"render",value:function(t){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=t.rgba,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}}]),t}();e["default"]=l},724:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(709),u=n(a),l=r(269),s=n(l),f=r(148),h=n(f),c=r(723),d=n(c),v=r(725),g=n(v),b=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?u["default"].AUTO:arguments[1];i(this,t),this.canvas=e,this.renderer=null,this.color=new s["default"],this.init(r)}return o(t,[{key:"init",value:function(t){t!==u["default"].AUTO&&t!==u["default"].WEBGL||!(0,h["default"])()?(this.renderer=new d["default"](this.canvas),this.type=u["default"].CANVAS):(this.renderer=new g["default"](this.canvas),this.type=u["default"].WEBGL)}},{key:"render",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?255:arguments[3];this.color.fromRGB(t,e,r,n),this.renderer.render(this.color)}}]),t}();e["default"]=b},725:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(713),u=n(a),l=r(712),s=n(l),f=r(149),h=n(f),c=function(){function t(e){i(this,t),this.contextOptions=(0,u["default"])(),this.contextHandler=new s["default"],this.gl=null,e&&this.init(e)}return o(t,[{key:"init",value:function(t){if(this.contextHandler.add(t),this.gl=(0,h["default"])(t),!this.gl)throw new Error("Browser does not support WebGL")}},{key:"render",value:function(t){this.gl.clearColor(t.r1,t.g1,t.b1,t.a1),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}}]),t}();e["default"]=c},726:function(t,e,r){"use strict";"create index";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLNano=void 0;var i=r(727),o=n(i);e.WebGLNano=o["default"]},727:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(712),u=n(a),l=r(713),s=n(l),f=r(149),h=n(f),c=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?800:arguments[0],r=arguments.length<=1||void 0===arguments[1]?600:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];i(this,t),this.width=e,this.height=r,this.projection={x:0,y:0},this.contextOptions=new s["default"],this.contextHandler=new u["default"],this.gl=null,n&&this.init(e,r,n)}return o(t,[{key:"init",value:function(t,e,r){if(this.contextHandler.add(r),this.gl=(0,h["default"])(r),!this.gl)throw new Error("Browser does not support WebGL");this.gl.id=0,this.gl.disable(gl.DEPTH_TEST),this.gl.disable(gl.CULL_FACE),this.gl.enable(gl.BLEND),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2,this.projection.y=-this.height/2}}]),t}();e["default"]=c},728:function(t,e,r){"use strict";"create index";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLRenderer=e.PointRenderer=e.CanvasRenderer=void 0;var i=r(729),o=n(i),a=r(730),u=n(a),l=r(731),s=n(l);
e.CanvasRenderer=o["default"],e.PointRenderer=u["default"],e.WebGLRenderer=s["default"]},729:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(12),u=n(a),l=function(){function t(e){i(this,t),this.canvas=null,this.context=null,this.x=0,this.y=0,this.size=32,e&&this.init(e)}return o(t,[{key:"init",value:function(t){this.canvas=t,this.context=(0,u["default"])(t)}},{key:"update",value:function(t,e){this.x=t,this.y=e}},{key:"render",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#000000",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="#ffff00",this.context.fillRect(this.x-this.size/2,this.y-this.size/2,this.size,this.size)}}]),t}();e["default"]=l},730:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(709),u=n(a),l=r(148),s=n(l),f=r(729),h=n(f),c=r(731),d=n(c),v=function(){function t(e){var r=arguments.length<=1||void 0===arguments[1]?u["default"].AUTO:arguments[1];i(this,t),this.canvas=e,this.renderer=null,this.init(r)}return o(t,[{key:"init",value:function(t){t!==u["default"].AUTO&&t!==u["default"].WEBGL||!(0,s["default"])()?(this.renderer=new h["default"](this.canvas),this.type=u["default"].CANVAS):(this.renderer=new d["default"](this.canvas),this.type=u["default"].WEBGL)}},{key:"update",value:function(t,e){this.renderer.update(t,e)}},{key:"render",value:function(){this.renderer.render()}}]),t}();e["default"]=v},731:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(713),u=n(a),l=r(712),s=n(l),f=r(149),h=n(f),c=r(714),d=n(c),v=r(715),g=n(v),b=function(){function t(e){i(this,t),this.width=0,this.height=0,this.contextOptions=(0,u["default"])(),this.contextHandler=new s["default"],this.gl=null,this.program=null,e&&this.init(e)}return o(t,[{key:"init",value:function(t){if(this.width=t.width,this.height=t.height,this.contextHandler.add(t),this.gl=(0,h["default"])(t),!this.gl)throw new Error("Browser does not support WebGL");var e=["attribute vec4 pointPosition;","attribute float pointSize;","void main() {","   gl_Position = pointPosition;","   gl_PointSize = pointSize;","}"],r=["void main() {","   gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);","}"],n=(0,d["default"])(this.gl,e,this.gl.VERTEX_SHADER),i=(0,d["default"])(this.gl,r,this.gl.FRAGMENT_SHADER);this.program=new g["default"](this.gl),this.program.attach(n,i).link().use(),this.pos=this.program.getAttrib("pointPosition"),this.size=this.program.getAttrib("pointSize"),this.gl.vertexAttrib3f(this.pos,0,0,0),this.gl.vertexAttrib1f(this.size,32)}},{key:"update",value:function(t,e){var r=this.width/2,n=this.height/2,i=(t-r)/r,o=(n-e)/n;this.gl.vertexAttrib3f(this.pos,i,o,0)}},{key:"render",value:function(){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.POINTS,0,1)}}]),t}();e["default"]=b}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uPzVjYTYqKioqKioqKioqKioqKiIsIndlYnBhY2s6Ly8vcmVuZGVyZXJzLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxYjZmNThhMTc3NDUwODBmMDAxYT83NzllKioqKioqKioqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2FudmFzL0dldENvbnRleHQuanM/Y2I3MSoqIiwid2VicGFjazovLy8uL3NyYy9kZXZpY2UvZmVhdHVyZXMvV2ViR0wuanM/ZDYxYSIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvR2V0Q29udGV4dC5qcz9kMjJkIiwid2VicGFjazovLy8uL3NyYy9ncmFwaGljcy9jb2xvci9IU1Z0b1JHQi5qcz9kMDRmKiIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhpY3MvY29sb3IvQmFzZUNvbG9yLmpzPzg3YjYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoaWNzL2NvbG9yL0dldENvbG9yLmpzPzNhNmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoaWNzL2NvbG9yL0dldENvbG9yMzIuanM/ZjllOSIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhpY3MvY29sb3IvUkdCdG9TdHJpbmcuanM/NWY5NSIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhpY3MvY29sb3IvQ29tcG9uZW50VG9IZXguanM/ZTI5MiIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhpY3MvY29sb3IvSFNMdG9SR0IuanM/MmUwZSIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhpY3MvY29sb3IvSHVlVG9Db2xvci5qcz9kOTViIiwid2VicGFjazovLy8uL3NyYy9ncmFwaGljcy9jb2xvci9SYW5kb21SR0IuanM/NzYzZCIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhpY3MvY29sb3IvQ29sb3JUb1JHQi5qcz9lZTZkIiwid2VicGFjazovLy8uL3NyYy9ncmFwaGljcy9jb2xvci9MaW5lYXJJbnRlcnBvbGF0aW9uLmpzP2ZlZmYiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGgvTGluZWFyLmpzPzQ2MWIqIiwid2VicGFjazovLy8uL3NyYy9MYXplci5qcz9hNmZmIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlcnMvYmF0Y2hfcG9pbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVycy9iYXRjaF9wb2ludC9XZWJHTEJhdGNoZWRQb2ludC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvQ29udGV4dEhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL0NvbnRleHRPcHRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC9Db21waWxlU2hhZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC9Qcm9ncmFtLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC9BdHRyaWJ1dGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYmdsL3Ziby9WZXJ0ZXhBcnJheUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViZ2wvdmJvL0FkZFZlcnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVycy9iYXRjaF90ZXh0dXJlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlcnMvYmF0Y2hfdGV4dHVyZS9XZWJHTFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJnbC92Ym8vVmVydGV4SW5kZXhCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVycy9taW5pbWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlcnMvbWluaW1hbC9DYW52YXNSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXJzL21pbmltYWwvTWluaW1hbFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlcnMvbWluaW1hbC9XZWJHTFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlcnMvbmFuby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXJzL25hbm8vV2ViR0wuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlbmRlcmVycy9wb2ludC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXJzL3BvaW50L0NhbnZhc1JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9yZW5kZXJlcnMvcG9pbnQvUG9pbnRSZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXJzL3BvaW50L1dlYkdMUmVuZGVyZXIuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiMCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwib2JqIiwiX19lc01vZHVsZSIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInBvaW50IiwibmFubyIsIm1pbmltYWwiLCJiYXRjaFRleHR1cmUiLCJiYXRjaFBvaW50IiwidW5kZWZpbmVkIiwiX2JhdGNoX3BvaW50IiwiX2JhdGNoX3RleHR1cmUiLCJfbWluaW1hbCIsIl9uYW5vIiwiX3BvaW50IiwiMTIiLCJHZXRDb250ZXh0IiwiY2FudmFzIiwib3B0aW9ucyIsImdldENvbnRleHQiLCIxNDgiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZGVmYXVsdCIsIldlYkdMIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiX0dldENvbnRleHQyIiwiZXJyb3IiLCJfR2V0Q29udGV4dCIsIjE0OSIsIjE2MSIsIkhTVnRvUkdCIiwiaCIsInMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ2IiwiaSIsIk1hdGgiLCJmbG9vciIsImYiLCJxIiwidCIsInIiLCJnIiwiYiIsIjI2OSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX0dldENvbG9yIiwiX0dldENvbG9yMiIsIl9HZXRDb2xvcjMiLCJfR2V0Q29sb3I0IiwiX1JHQnRvU3RyaW5nIiwiX1JHQnRvU3RyaW5nMiIsIl9IU1Z0b1JHQjMiLCJfSFNWdG9SR0I0IiwiX0hTTHRvUkdCMyIsIl9IU0x0b1JHQjQiLCJfUmFuZG9tUkdCMiIsIl9SYW5kb21SR0IzIiwiX0NvbG9yVG9SR0IyIiwiX0NvbG9yVG9SR0IzIiwiX0xpbmVhckludGVycG9sYXRpb24iLCJMaW5lYXJJbnRlcnBvbGF0aW9uIiwiQmFzZUNvbG9yIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwiYWxwaGEiLCJhIiwiZ2wiLCJGbG9hdDMyQXJyYXkiLCJjb2xvciIsImNvbG9yMzIiLCJyZ2JhIiwiZGlydHkiLCJ1cGRhdGUiLCJfQ29sb3JUb1JHQiIsInNldFJHQiIsIm1pbiIsIm1heCIsIl9SYW5kb21SR0IiLCJfSFNWdG9SR0IiLCJmcm9tUkdCIiwiYWJzIiwiX0hTVnRvUkdCMiIsImwiLCJfSFNMdG9SR0IiLCJfSFNMdG9SR0IyIiwiY29sb3IxIiwiY29sb3IyIiwiaW5kZXgiLCJfTGluZWFySW50ZXJwb2xhdGlvbiQiLCJjb2xvcldpdGhDb2xvciIsIl9MaW5lYXJJbnRlcnBvbGF0aW9uJDIiLCJwcmVmaXgiLCJnZXQiLCJzZXQiLCJmcm9tQ29sb3IiLCJmcm9tUmFuZG9tIiwiMjcwIiwiR2V0Q29sb3IiLCIyNzEiLCJHZXRDb2xvcjMyIiwiMjcyIiwiUkdCdG9TdHJpbmciLCJ0b1N0cmluZyIsInNsaWNlIiwiX0NvbXBvbmVudFRvSGV4MiIsIl9Db21wb25lbnRUb0hleCIsIjI3MyIsIkNvbXBvbmVudFRvSGV4IiwiaGV4IiwiMjc0IiwiSFNMdG9SR0IiLCJfSHVlVG9Db2xvcjIiLCJfSHVlVG9Db2xvciIsIjI3NSIsIkh1ZVRvQ29sb3IiLCIyNzYiLCJSYW5kb21SR0IiLCJyb3VuZCIsInJhbmRvbSIsIjI3NyIsIkNvbG9yVG9SR0IiLCIyNzgiLCJSR0J3aXRoUkdCIiwiY29sb3JXaXRoUkdCIiwicjEiLCJnMSIsImIxIiwicjIiLCJnMiIsImIyIiwiX0xpbmVhcjIiLCJfTGluZWFyIiwiMjc5IiwiTGluZWFyIiwicDAiLCJwMSIsIjcwOSIsIkxhemVyIiwiQVVUTyIsIkNBTlZBUyIsIldFQkdMIiwiSEVBRExFU1MiLCI3MTAiLCJXZWJHTEJhdGNoZWRQb2ludCIsIl9XZWJHTEJhdGNoZWRQb2ludCIsIl9XZWJHTEJhdGNoZWRQb2ludDIiLCI3MTEiLCJfQ29udGV4dEhhbmRsZXIiLCJfQ29udGV4dEhhbmRsZXIyIiwiX0NvbnRleHRPcHRpb25zIiwiX0NvbnRleHRPcHRpb25zMiIsIl9Db21waWxlU2hhZGVyIiwiX0NvbXBpbGVTaGFkZXIyIiwiX1Byb2dyYW0iLCJfUHJvZ3JhbTIiLCJfVmVydGV4QXJyYXlCdWZmZXIiLCJfVmVydGV4QXJyYXlCdWZmZXIyIiwiX0FkZFZlcnQiLCJfQWRkVmVydDIiLCJfQXR0cmlidXRlIiwiQXR0cmlidXRlIiwiV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlciIsIndpZHRoIiwiaGVpZ2h0IiwiY29udGV4dE9wdGlvbnMiLCJjb250ZXh0SGFuZGxlciIsInZlcnRleEJ1ZmZlciIsInByb2dyYW0iLCJpbml0IiwiYWRkIiwiRXJyb3IiLCJkaXNhYmxlIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiRFNUX0FMUEhBIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJhdHRhY2giLCJsaW5rIiwidXNlIiwiY3JlYXRlIiwicG9zIiwiY3JlYXRlRmxvYXQiLCJ4IiwiY3giLCJ5IiwiY3kiLCJyZXNldCIsImdldExvY2FsWCIsImdldExvY2FsWSIsImFkZFBvaW50IiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwibW9kZSIsIlBPSU5UIiwiY2xlYXJDb2xvciIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsImRyYXdBcnJheXMiLCJ0b3RhbCIsInJlbmRlciIsIkxJTkVTIiwiTElORV9TVFJJUCIsIkxJTkVfTE9PUCIsIlRSSUFOR0xFUyIsIlRSSUFOR0xFX1NUUklQIiwiVFJJQU5HTEVfRkFOIiwiNzEyIiwiV2ViR0xDb250ZXh0SGFuZGxlciIsImNvbnRleHRMb3N0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvc3QiLCJyZXN0b3JlZCIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIjcxMyIsIldlYkdMQ29udGV4dE9wdGlvbnMiLCJfcmVmIiwiX3JlZiRhbHBoYSIsIl9yZWYkYW50aWFsaWFzIiwiYW50aWFsaWFzIiwiX3JlZiRwcmVtdWx0aXBsaWVkQWxwIiwicHJlbXVsdGlwbGllZEFscGhhIiwiX3JlZiRzdGVuY2lsIiwic3RlbmNpbCIsIl9yZWYkcHJlc2VydmVEcmF3aW5nQiIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsIjcxNCIsIkNvbXBpbGVTaGFkZXIiLCJzcmMiLCJ0eXBlIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsIndhcm4iLCJnZXRTaGFkZXJJbmZvTG9nIiwiZGVsZXRlU2hhZGVyIiwiNzE1IiwiV2ViR0xQcm9ncmFtIiwiY3JlYXRlUHJvZ3JhbSIsIm5hbWUiLCJfbGVuIiwic2hhZGVycyIsIl9rZXkiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImF0dGFjaFNoYWRlciIsImVyciIsIl9sZW4yIiwiX2tleTIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJsaW5rUHJvZ3JhbSIsInJlc3VsdCIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsIl9sZW4zIiwiX2tleTMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJkZXRhdGNoU2hhZGVyIiwiZGVsZXRlUHJvZ3JhbSIsIjcxNiIsInNpemUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwib2Zmc2V0IiwibG9jIiwiZ2V0TG9jYXRpb24iLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJsb2NhdGlvbiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImdldEF0dHJpYkxvY2F0aW9uIiwiY3JlYXRlQnl0ZSIsIlVOU0lHTkVEX0JZVEUiLCJjcmVhdGVTaG9ydCIsIlNIT1JUIiwiY3JlYXRlVW5zaWduZWRTaG9ydCIsIlVOU0lHTkVEX1NIT1JUIiwiY3JlYXRlSW50IiwiSU5UIiwiY3JlYXRlVW5zaWduZWRJbnQiLCJVTlNJR05FRF9JTlQiLCJGTE9BVCIsIjcxNyIsIlZlcnRleEFycmF5QnVmZmVyIiwidmVydFNpemUiLCJiYXRjaFNpemUiLCJ2ZXJ0aWNlcyIsImJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJ1c2FnZSIsIlNUUkVBTV9EUkFXIiwiNzE4IiwiQWRkVmVydCIsIjcxOSIsIldlYkdMUmVuZGVyZXIiLCJfV2ViR0xSZW5kZXJlciIsIl9XZWJHTFJlbmRlcmVyMiIsIjcyMCIsIl9WZXJ0ZXhJbmRleEJ1ZmZlciIsIl9WZXJ0ZXhJbmRleEJ1ZmZlcjIiLCJwcm9qZWN0aW9uIiwiaW5kZXhCdWZmZXIiLCJ2aWV3cG9ydCIsImRyYXdpbmdCdWZmZXJXaWR0aCIsImRyYXdpbmdCdWZmZXJIZWlnaHQiLCJfYVZlcnRleFBvc2l0aW9uIiwiX2FUZXh0dXJlQ29vcmQiLCJfY29sb3JBdHRyaWJ1dGUiLCJwcm9qZWN0aW9uVmVjdG9yIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiYnVmZmVyRHluYW1pY0RhdGEiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlbmRlckxpc3QiLCJyZXNpemUiLCI3MjEiLCJWZXJ0ZXhJbmRleEJ1ZmZlciIsImluZGljZXMiLCJVaW50MTZBcnJheSIsImoiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIjcyMiIsIk1pbmltYWxSZW5kZXJlciIsIkNhbnZhc1JlbmRlcmVyIiwiX0NhbnZhc1JlbmRlcmVyIiwiX0NhbnZhc1JlbmRlcmVyMiIsIl9NaW5pbWFsUmVuZGVyZXIiLCJfTWluaW1hbFJlbmRlcmVyMiIsIjcyMyIsIkNhbnZhc01pbmltYWxSZW5kZXJlciIsImNvbnRleHQiLCJjbGVhclJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsIjcyNCIsIl9MYXplciIsIl9MYXplcjIiLCJfQmFzZUNvbG9yIiwiX0Jhc2VDb2xvcjIiLCJfV2ViR0wiLCJfV2ViR0wyIiwicmVuZGVyZXIiLCI3MjUiLCJXZWJHTE1pbmltYWxSZW5kZXJlciIsImExIiwiNzI2IiwiV2ViR0xOYW5vIiwiNzI3IiwiNzI4IiwiUG9pbnRSZW5kZXJlciIsIl9Qb2ludFJlbmRlcmVyIiwiX1BvaW50UmVuZGVyZXIyIiwiNzI5IiwiQ2FudmFzUG9pbnRSZW5kZXJlciIsIjczMCIsIjczMSIsIldlYkdMUG9pbnRSZW5kZXJlciIsImdldEF0dHJpYiIsInZlcnRleEF0dHJpYjNmIiwidmVydGV4QXR0cmliMWYiLCJ0eCIsInR5IiwiUE9JTlRTIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSxlQUFBSCxHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLFVBQUFELEtBRUFELEVBQUEsTUFBQUEsRUFBQSxVQUFxQ0EsRUFBQSxnQkFBQUMsTUFDcENLLEtBQUEsV0FDRCxNQ0FnQixVQUFVQyxHQ04xQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQVAsT0FHQSxJQUFBQyxHQUFBTyxFQUFBRCxJQUNBUCxXQUNBUyxHQUFBRixFQUNBRyxRQUFBLEVBVUEsT0FOQUwsR0FBQUUsR0FBQUksS0FBQVYsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU0sR0FHQUwsRUFBQVMsUUFBQSxFQUdBVCxFQUFBRCxRQXZCQSxHQUFBUSxLQXFDQSxPQVRBRixHQUFBTSxFQUFBUCxFQUdBQyxFQUFBTyxFQUFBTCxFQUdBRixFQUFBUSxFQUFBLEdBR0FSLEVBQUEsS0RnQk1TLEVBQ0EsU0FBU2QsRUFBUUQsRUFBU00sR0FFL0IsWUEyQkEsU0FBU1UsR0FBd0JDLEdBQU8sR0FBSUEsR0FBT0EsRUFBSUMsV0FBYyxNQUFPRCxFQUFjLElBQUlFLEtBQWEsSUFBVyxNQUFQRixFQUFlLElBQUssR0FBSUcsS0FBT0gsR0FBV0ksT0FBT0MsVUFBVUMsZUFBZVosS0FBS00sRUFBS0csS0FBTUQsRUFBT0MsR0FBT0gsRUFBSUcsR0FBZ0MsT0FBdEJELGNBQWlCRixFQUFZ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RSxHQUFnQkcsT0FBT0MsTUFFekQ5TixLQUFLZ08sSUFBTWhPLEtBQUswTSxRQUFRcU8sVUFBVSxpQkFDbEMvYSxLQUFLNFUsS0FBTzVVLEtBQUswTSxRQUFRcU8sVUFBVSxhQUVuQy9hLEtBQUtxRyxHQUFHMlUsZUFBZWhiLEtBQUtnTyxJQUFLLEVBQUssRUFBSyxHQUMzQ2hPLEtBQUtxRyxHQUFHNFUsZUFBZWpiLEtBQUs0VSxLQUFNLE94Q2tuRnpCNVQsSUFBSyxTQUNMSyxNQUFPLFN3Qy9tRlo2TSxFQUFHRSxHQUdQLEdBQU1ELEdBQUtuTyxLQUFLcU0sTUFBUSxFQUNsQmdDLEVBQUtyTyxLQUFLc00sT0FBUyxFQUVuQjRPLEdBQU1oTixFQUFJQyxHQUFNQSxFQUNoQmdOLEdBQU05TSxFQUFLRCxHQUFLQyxDQUV0QnJPLE1BQUtxRyxHQUFHMlUsZUFBZWhiLEtBQUtnTyxJQUFLa04sRUFBSUMsRUFBSSxNeENrbkZoQ25hLElBQUssU0FDTEssTUFBTyxXd0M3bUZoQnJCLEtBQUtxRyxHQUFHMEksV0FBVyxFQUFHLEVBQUcsRUFBRyxHQUU1Qi9PLEtBQUtxRyxHQUFHMkksTUFBTWhQLEtBQUtxRyxHQUFHNEksa0JBRXRCalAsS0FBS3FHLEdBQUc2SSxXQUFXbFAsS0FBS3FHLEdBQUcrVSxPQUFRLEVBQUcsT3hDbW5GOUJOLElBR2ZsYixjd0Mzc0ZvQmtiIiwiZmlsZSI6InJlbmRlcmVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwicmVuZGVyZXJzXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJlbmRlcmVyc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJsYXplclwiXSA9IHJvb3RbXCJsYXplclwiXSB8fCB7fSwgcm9vdFtcImxhemVyXCJdW1wicmVuZGVyZXJzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJyZW5kZXJlcnNcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicmVuZGVyZXJzXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImxhemVyXCJdID0gcm9vdFtcImxhemVyXCJdIHx8IHt9LCByb290W1wibGF6ZXJcIl1bXCJyZW5kZXJlcnNcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucG9pbnQgPSBleHBvcnRzLm5hbm8gPSBleHBvcnRzLm1pbmltYWwgPSBleHBvcnRzLmJhdGNoVGV4dHVyZSA9IGV4cG9ydHMuYmF0Y2hQb2ludCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfYmF0Y2hfcG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMCk7XG5cdFxuXHR2YXIgYmF0Y2hQb2ludCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9iYXRjaF9wb2ludCk7XG5cdFxuXHR2YXIgX2JhdGNoX3RleHR1cmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOSk7XG5cdFxuXHR2YXIgYmF0Y2hUZXh0dXJlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2JhdGNoX3RleHR1cmUpO1xuXHRcblx0dmFyIF9taW5pbWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjIpO1xuXHRcblx0dmFyIG1pbmltYWwgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWluaW1hbCk7XG5cdFxuXHR2YXIgX25hbm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNik7XG5cdFxuXHR2YXIgbmFubyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9uYW5vKTtcblx0XG5cdHZhciBfcG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOCk7XG5cdFxuXHR2YXIgcG9pbnQgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfcG9pbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdGV4cG9ydHMuYmF0Y2hQb2ludCA9IGJhdGNoUG9pbnQ7XG5cdGV4cG9ydHMuYmF0Y2hUZXh0dXJlID0gYmF0Y2hUZXh0dXJlO1xuXHRleHBvcnRzLm1pbmltYWwgPSBtaW5pbWFsO1xuXHRleHBvcnRzLm5hbm8gPSBuYW5vO1xuXHRleHBvcnRzLnBvaW50ID0gcG9pbnQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gR2V0Q29udGV4dDtcblx0ZnVuY3Rpb24gR2V0Q29udGV4dChjYW52YXMsIG9wdGlvbnMpIHtcblx0XG5cdCAgICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoJzJkJywgb3B0aW9ucykgfHwgbnVsbDtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBXZWJHTDtcblx0XG5cdHZhciBfR2V0Q29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfR2V0Q29udGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZXRDb250ZXh0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBXZWJHTCgpIHtcblx0XG5cdCAgICB0cnkge1xuXHQgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblx0XG5cdCAgICAgICAgaWYgKCgwLCBfR2V0Q29udGV4dDIuZGVmYXVsdCkoY2FudmFzKSA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyb3IpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRydWU7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gR2V0Q29udGV4dDtcblx0ZnVuY3Rpb24gR2V0Q29udGV4dChjYW52YXMsIG9wdGlvbnMpIHtcblx0XG5cdCAgICByZXR1cm4gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpIHx8IG51bGw7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTYxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBIU1Z0b1JHQjtcblx0LyoqXHJcblx0ICogQ29udmVydHMgYW4gSFNWIChodWUsIHNhdHVyYXRpb24gYW5kIHZhbHVlKSBjb2xvciB2YWx1ZSB0byBSR0IuXHJcblx0ICogQ29udmVyc2lvbiBmb3JtdWxhIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXHJcblx0ICogQXNzdW1lcyBIU1YgdmFsdWVzIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMV0gYW5kIHJldHVybnMgciwgZyBhbmQgYiB2YWx1ZXMgaW4gdGhlIHNldCBbMCwgMjU1XS5cclxuXHQgKiBCYXNlZCBvbiBjb2RlIGJ5IE1pY2hhZWwgSmFja3NvbiAoaHR0cHM6Ly9naXRodWIuY29tL21qaWphY2tzb24pXHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIGZyb21IU1ZcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaCAtIFRoZSBodWUsIGluIHRoZSByYW5nZSAwIC0gMS5cclxuXHQgKiBAcGFyYW0ge251bWJlcn0gcyAtIFRoZSBzYXR1cmF0aW9uLCBpbiB0aGUgcmFuZ2UgMCAtIDEuXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHYgLSBUaGUgdmFsdWUsIGluIHRoZSByYW5nZSAwIC0gMS5cclxuXHQgKiBAcmV0dXJuIHtCYXNlQ29sb3J9IFRoaXNcclxuXHQgKi9cblx0ZnVuY3Rpb24gSFNWdG9SR0IoaCkge1xuXHQgICAgdmFyIHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzFdO1xuXHQgICAgdmFyIHYgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzJdO1xuXHRcblx0XG5cdCAgICB2YXIgaSA9IE1hdGguZmxvb3IoaCAqIDYpO1xuXHQgICAgdmFyIGYgPSBoICogNiAtIGk7XG5cdFxuXHQgICAgdmFyIHAgPSBNYXRoLmZsb29yKHYgKiAoMSAtIHMpICogMjU1KTtcblx0ICAgIHZhciBxID0gTWF0aC5mbG9vcih2ICogKDEgLSBmICogcykgKiAyNTUpO1xuXHQgICAgdmFyIHQgPSBNYXRoLmZsb29yKHYgKiAoMSAtICgxIC0gZikgKiBzKSAqIDI1NSk7XG5cdFxuXHQgICAgdiA9IE1hdGguZmxvb3IodiAqPSAyNTUpO1xuXHRcblx0ICAgIHZhciByID0gaSAlIDY7XG5cdFxuXHQgICAgaWYgKHIgPT09IDApIHtcblx0ICAgICAgICByZXR1cm4geyByOiB2LCBnOiB0LCBiOiBwIH07XG5cdCAgICB9IGVsc2UgaWYgKHIgPT09IDEpIHtcblx0ICAgICAgICByZXR1cm4geyByOiBxLCBnOiB2LCBiOiBwIH07XG5cdCAgICB9IGVsc2UgaWYgKHIgPT09IDIpIHtcblx0ICAgICAgICByZXR1cm4geyByOiBwLCBnOiB2LCBiOiB0IH07XG5cdCAgICB9IGVsc2UgaWYgKHIgPT09IDMpIHtcblx0ICAgICAgICByZXR1cm4geyByOiBwLCBnOiBxLCBiOiB2IH07XG5cdCAgICB9IGVsc2UgaWYgKHIgPT09IDQpIHtcblx0ICAgICAgICByZXR1cm4geyByOiB0LCBnOiBwLCBiOiB2IH07XG5cdCAgICB9IGVsc2UgaWYgKHIgPT09IDUpIHtcblx0ICAgICAgICByZXR1cm4geyByOiB2LCBnOiBwLCBiOiBxIH07XG5cdCAgICB9XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjY5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX0dldENvbG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzApO1xuXHRcblx0dmFyIF9HZXRDb2xvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZXRDb2xvcik7XG5cdFxuXHR2YXIgX0dldENvbG9yMyA9IF9fd2VicGFja19yZXF1aXJlX18oMjcxKTtcblx0XG5cdHZhciBfR2V0Q29sb3I0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2V0Q29sb3IzKTtcblx0XG5cdHZhciBfUkdCdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Mik7XG5cdFxuXHR2YXIgX1JHQnRvU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JHQnRvU3RyaW5nKTtcblx0XG5cdHZhciBfSFNWdG9SR0IzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xuXHRcblx0dmFyIF9IU1Z0b1JHQjQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IU1Z0b1JHQjMpO1xuXHRcblx0dmFyIF9IU0x0b1JHQjMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3NCk7XG5cdFxuXHR2YXIgX0hTTHRvUkdCNCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hTTHRvUkdCMyk7XG5cdFxuXHR2YXIgX1JhbmRvbVJHQjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Nik7XG5cdFxuXHR2YXIgX1JhbmRvbVJHQjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYW5kb21SR0IyKTtcblx0XG5cdHZhciBfQ29sb3JUb1JHQjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Nyk7XG5cdFxuXHR2YXIgX0NvbG9yVG9SR0IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sb3JUb1JHQjIpO1xuXHRcblx0dmFyIF9MaW5lYXJJbnRlcnBvbGF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzgpO1xuXHRcblx0dmFyIExpbmVhckludGVycG9sYXRpb24gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfTGluZWFySW50ZXJwb2xhdGlvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgQmFzZUNvbG9yID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gQmFzZUNvbG9yKCkge1xuXHQgICAgICAgIHZhciByZWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgIHZhciBncmVlbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgdmFyIGJsdWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXHQgICAgICAgIHZhciBhbHBoYSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IDI1NSA6IGFyZ3VtZW50c1szXTtcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VDb2xvcik7XG5cdFxuXHQgICAgICAgIHRoaXMuciA9IHJlZDtcblx0ICAgICAgICB0aGlzLmcgPSBncmVlbjtcblx0ICAgICAgICB0aGlzLmIgPSBibHVlO1xuXHQgICAgICAgIHRoaXMuYSA9IGFscGhhO1xuXHRcblx0ICAgICAgICB0aGlzLmdsID0gbmV3IEZsb2F0MzJBcnJheShbMC4wLCAwLjAsIDAuMCwgMS4wXSk7XG5cdFxuXHQgICAgICAgIHRoaXMuY29sb3IgPSAwO1xuXHQgICAgICAgIHRoaXMuY29sb3IzMiA9IDA7XG5cdCAgICAgICAgdGhpcy5yZ2JhID0gJyc7XG5cdFxuXHQgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXHRcblx0ICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhCYXNlQ29sb3IsIFt7XG5cdCAgICAgICAga2V5OiAnc2V0UkdCJyxcblx0XG5cdFxuXHQgICAgICAgIC8vICBBc3N1bWVzIGFsbCB2YWx1ZXMgYXJlIHZhbGlkIGFuZCB3aXRoaW4gcmFuZ2UgKDAgLSAyNTUpXG5cdCAgICAgICAgLy8gIGFuZCBhcmUgYWx3YXlzIGRpcnR5XG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJHQihyLCBnLCBiKSB7XG5cdCAgICAgICAgICAgIHZhciBhID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gMjU1IDogYXJndW1lbnRzWzNdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHRoaXMuciA9IHI7XG5cdCAgICAgICAgICAgIHRoaXMuZyA9IGc7XG5cdCAgICAgICAgICAgIHRoaXMuYiA9IGI7XG5cdCAgICAgICAgICAgIHRoaXMuYSA9IGE7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gIFNhbWUgYXMgc2V0UkdCIGJ1dCBwZXJmb3JtcyBzYWZldHkgY2hlY2tzIG9uIGFsbCB0aGUgdmFsdWVzIGdpdmVuXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Zyb21SR0InLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tUkdCKHIsIGcsIGIpIHtcblx0ICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAyNTUgOiBhcmd1bWVudHNbM107XG5cdFxuXHRcblx0ICAgICAgICAgICAgdGhpcy5yZWQgPSByO1xuXHQgICAgICAgICAgICB0aGlzLmdyZWVuID0gZztcblx0ICAgICAgICAgICAgdGhpcy5ibHVlID0gYjtcblx0ICAgICAgICAgICAgdGhpcy5hbHBoYSA9IGE7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZnJvbUNvbG9yJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUNvbG9yKGNvbG9yKSB7XG5cdCAgICAgICAgICAgIHZhciBfQ29sb3JUb1JHQiA9ICgwLCBfQ29sb3JUb1JHQjMuZGVmYXVsdCkoY29sb3IpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHIgPSBfQ29sb3JUb1JHQi5yO1xuXHQgICAgICAgICAgICB2YXIgZyA9IF9Db2xvclRvUkdCLmc7XG5cdCAgICAgICAgICAgIHZhciBiID0gX0NvbG9yVG9SR0IuYjtcblx0ICAgICAgICAgICAgdmFyIGEgPSBfQ29sb3JUb1JHQi5hO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFJHQihyLCBnLCBiLCBhKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZnJvbVJhbmRvbScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21SYW5kb20oKSB7XG5cdCAgICAgICAgICAgIHZhciBtaW4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICB2YXIgbWF4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMjU1IDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9SYW5kb21SR0IgPSAoMCwgX1JhbmRvbVJHQjMuZGVmYXVsdCkobWluLCBtYXgpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHIgPSBfUmFuZG9tUkdCLnI7XG5cdCAgICAgICAgICAgIHZhciBnID0gX1JhbmRvbVJHQi5nO1xuXHQgICAgICAgICAgICB2YXIgYiA9IF9SYW5kb21SR0IuYjtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRSR0IociwgZywgYik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvKipcclxuXHQgICAgICAgICAqIENvbnZlcnRzIGFuIEhTViAoaHVlLCBzYXR1cmF0aW9uIGFuZCB2YWx1ZSkgY29sb3IgdmFsdWUgdG8gUkdCLlxyXG5cdCAgICAgICAgICogQ29udmVyc2lvbiBmb3J1bWxhIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXHJcblx0ICAgICAgICAgKiBBc3N1bWVzIEhTViB2YWx1ZXMgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAxXSBhbmQgcmV0dXJucyByLCBnIGFuZCBiIHZhbHVlcyBpbiB0aGUgc2V0IFswLCAyNTVdLlxyXG5cdCAgICAgICAgICogQmFzZWQgb24gY29kZSBieSBNaWNoYWVsIEphY2tzb24gKGh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uKVxyXG5cdCAgICAgICAgICpcclxuXHQgICAgICAgICAqIEBtZXRob2QgZnJvbUhTVlxyXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGggLSBUaGUgaHVlLCBpbiB0aGUgcmFuZ2UgMCAtIDEuXHJcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gcyAtIFRoZSBzYXR1cmF0aW9uLCBpbiB0aGUgcmFuZ2UgMCAtIDEuXHJcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdiAtIFRoZSB2YWx1ZSwgaW4gdGhlIHJhbmdlIDAgLSAxLlxyXG5cdCAgICAgICAgICogQHJldHVybiB7QmFzZUNvbG9yfSBUaGlzXHJcblx0ICAgICAgICAgKi9cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZnJvbUhTVicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21IU1YoaCkge1xuXHQgICAgICAgICAgICB2YXIgcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciB2ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgICAgICAgICAgIHZhciBfSFNWdG9SR0IgPSAoMCwgX0hTVnRvUkdCNC5kZWZhdWx0KShoLCBzLCB2KTtcblx0XG5cdCAgICAgICAgICAgIHZhciByID0gX0hTVnRvUkdCLnI7XG5cdCAgICAgICAgICAgIHZhciBnID0gX0hTVnRvUkdCLmc7XG5cdCAgICAgICAgICAgIHZhciBiID0gX0hTVnRvUkdCLmI7XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVJHQihyLCBnLCBiKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZnJvbUhTVkNvbG9yV2hlZWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tSFNWQ29sb3JXaGVlbCgpIHtcblx0ICAgICAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICB2YXIgcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciB2ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgICAgICAgICBjID0gTWF0aC5taW4oTWF0aC5hYnMoYyksIDM1OSkgLyAzNTk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX0hTVnRvUkdCMiA9ICgwLCBfSFNWdG9SR0I0LmRlZmF1bHQpKGMsIHMsIHYpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHIgPSBfSFNWdG9SR0IyLnI7XG5cdCAgICAgICAgICAgIHZhciBnID0gX0hTVnRvUkdCMi5nO1xuXHQgICAgICAgICAgICB2YXIgYiA9IF9IU1Z0b1JHQjIuYjtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHIsIGcsIGIpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdmcm9tSFNMJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUhTTChoLCBzLCBsKSB7XG5cdCAgICAgICAgICAgIHZhciBfSFNMdG9SR0IgPSAoMCwgX0hTTHRvUkdCNC5kZWZhdWx0KShoLCBzLCBsKTtcblx0XG5cdCAgICAgICAgICAgIHZhciByID0gX0hTTHRvUkdCLnI7XG5cdCAgICAgICAgICAgIHZhciBnID0gX0hTTHRvUkdCLmc7XG5cdCAgICAgICAgICAgIHZhciBiID0gX0hTTHRvUkdCLmI7XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVJHQihyLCBnLCBiKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZnJvbUhTTENvbG9yV2hlZWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tSFNMQ29sb3JXaGVlbCgpIHtcblx0ICAgICAgICAgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICB2YXIgcyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMC41IDogYXJndW1lbnRzWzJdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIGMgPSBNYXRoLm1pbihNYXRoLmFicyhjKSwgMzU5KSAvIDM1OTtcblx0XG5cdCAgICAgICAgICAgIHZhciBfSFNMdG9SR0IyID0gKDAsIF9IU0x0b1JHQjQuZGVmYXVsdCkoYywgcywgbCk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgciA9IF9IU0x0b1JHQjIucjtcblx0ICAgICAgICAgICAgdmFyIGcgPSBfSFNMdG9SR0IyLmc7XG5cdCAgICAgICAgICAgIHZhciBiID0gX0hTTHRvUkdCMi5iO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21SR0IociwgZywgYik7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2Zyb21JbnRlcnBvbGF0aW9uJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUludGVycG9sYXRpb24oY29sb3IxLCBjb2xvcjIsIGxlbmd0aCwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIF9MaW5lYXJJbnRlcnBvbGF0aW9uJCA9IExpbmVhckludGVycG9sYXRpb24uY29sb3JXaXRoQ29sb3IoY29sb3IxLCBjb2xvcjIsIGxlbmd0aCwgaW5kZXgpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHIgPSBfTGluZWFySW50ZXJwb2xhdGlvbiQucjtcblx0ICAgICAgICAgICAgdmFyIGcgPSBfTGluZWFySW50ZXJwb2xhdGlvbiQuZztcblx0ICAgICAgICAgICAgdmFyIGIgPSBfTGluZWFySW50ZXJwb2xhdGlvbiQuYjtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHIsIGcsIGIpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdpbnRlcnBvbGF0ZVdpdGgnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbnRlcnBvbGF0ZVdpdGgoY29sb3IsIGxlbmd0aCwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIF9MaW5lYXJJbnRlcnBvbGF0aW9uJDIgPSBMaW5lYXJJbnRlcnBvbGF0aW9uLmNvbG9yV2l0aENvbG9yKHRoaXMsIGNvbG9yLCBsZW5ndGgsIGluZGV4KTtcblx0XG5cdCAgICAgICAgICAgIHZhciByID0gX0xpbmVhckludGVycG9sYXRpb24kMi5yO1xuXHQgICAgICAgICAgICB2YXIgZyA9IF9MaW5lYXJJbnRlcnBvbGF0aW9uJDIuZztcblx0ICAgICAgICAgICAgdmFyIGIgPSBfTGluZWFySW50ZXJwb2xhdGlvbiQyLmI7XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVJHQihyLCBnLCBiKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY2xvbmUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgQmFzZUNvbG9yKHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvcHlGcm9tJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weUZyb20oY29sb3IpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFJHQihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iLCBjb2xvci5hKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnY29weVRvJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRvKGNvbG9yKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gY29sb3Iuc2V0UkdCKHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2VxdWFscycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVxdWFscyhjb2xvcikge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuciA9PT0gY29sb3IuciAmJiB0aGlzLmcgPT09IGNvbG9yLmcgJiYgdGhpcy5iID09PSBjb2xvci5iICYmIHRoaXMuYSA9PT0gY29sb3IuYTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndXBkYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmRpcnR5KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5jb2xvciA9ICgwLCBfR2V0Q29sb3IyLmRlZmF1bHQpKHRoaXMuciwgdGhpcy5nLCB0aGlzLmIpO1xuXHQgICAgICAgICAgICB0aGlzLmNvbG9yMzIgPSAoMCwgX0dldENvbG9yNC5kZWZhdWx0KSh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmEpO1xuXHQgICAgICAgICAgICB0aGlzLnJnYmEgPSAncmdiYSgnICsgdGhpcy5yICsgJywgJyArIHRoaXMuZyArICcsICcgKyB0aGlzLmIgKyAnLCAnICsgMjU1IC8gdGhpcy5hICsgJyknO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbFswXSA9IHRoaXMuciAvIDI1NTtcblx0ICAgICAgICAgICAgdGhpcy5nbFsxXSA9IHRoaXMuZyAvIDI1NTtcblx0ICAgICAgICAgICAgdGhpcy5nbFsyXSA9IHRoaXMuYiAvIDI1NTtcblx0ICAgICAgICAgICAgdGhpcy5nbFszXSA9IHRoaXMuYSAvIDI1NTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICd0b0dMJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdG9HTCgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmdsO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICd0b1N0cmluZycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJyMnIDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiAoMCwgX1JHQnRvU3RyaW5nMi5kZWZhdWx0KSh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmEsIHByZWZpeCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3IxJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xbMF07XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2cxJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xbMV07XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2IxJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xbMl07XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ExJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xbM107XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlZCcsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnI7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLnIpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKE1hdGguYWJzKHZhbHVlKSk7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnIgPSBNYXRoLm1pbih2YWx1ZSwgMjU1KTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZ2xbMF0gPSB0aGlzLnIgLyAyNTU7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ3JlZW4nLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5nO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5nKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhbHVlID0gTWF0aC5mbG9vcihNYXRoLmFicyh2YWx1ZSkpO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nID0gTWF0aC5taW4odmFsdWUsIDI1NSk7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsWzFdID0gdGhpcy5nIC8gMjU1O1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2JsdWUnLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5iO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5iKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhbHVlID0gTWF0aC5mbG9vcihNYXRoLmFicyh2YWx1ZSkpO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5iID0gTWF0aC5taW4odmFsdWUsIDI1NSk7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsWzJdID0gdGhpcy5iIC8gMjU1O1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FscGhhJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuYTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdFxuXHQgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5hYnModmFsdWUpKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuYSA9IE1hdGgubWluKHZhbHVlLCAyNTUpO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbFszXSA9IHRoaXMuYSAvIDI1NTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1dLCBbe1xuXHQgICAgICAgIGtleTogJ2NyZWF0ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShjb2xvcikge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBCYXNlQ29sb3IoKS5mcm9tQ29sb3IoY29sb3IpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdjcmVhdGVSYW5kb20nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSYW5kb20obWluLCBtYXgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgQmFzZUNvbG9yKCkuZnJvbVJhbmRvbShtaW4sIG1heCk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBCYXNlQ29sb3I7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEJhc2VDb2xvcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjcwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gR2V0Q29sb3I7XG5cdC8qKlxyXG5cdCAqIEdpdmVuIDMgY29sb3IgdmFsdWVzIHRoaXMgd2lsbCByZXR1cm4gYW4gaW50ZWdlciByZXByZXNlbnRhdGlvbiBvZiBpdC5cclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgZ2V0Q29sb3JcclxuXHQgKiBAcGFyYW0ge2ludGVnZXJ9IHIgLSBUaGUgcmVkIGNvbG9yIGNvbXBvbmVudCBpbiB0aGUgcmFuZ2UgMCAtIDI1NS5cclxuXHQgKiBAcGFyYW0ge2ludGVnZXJ9IGcgLSBUaGUgZ3JlZW4gY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gYiAtIFRoZSBibHVlIGNvbG9yIGNvbXBvbmVudCBpbiB0aGUgcmFuZ2UgMCAtIDI1NS5cclxuXHQgKiBAcmV0dXJuIHtpbnRlZ2VyfSBBIG5hdGl2ZSBjb2xvciB2YWx1ZSBpbnRlZ2VyIChmb3JtYXQ6IDB4UlJHR0JCKS5cclxuXHQgKi9cblx0ZnVuY3Rpb24gR2V0Q29sb3IociwgZywgYikge1xuXHRcblx0ICByZXR1cm4gciA8PCAxNiB8IGcgPDwgOCB8IGI7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjcxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gR2V0Q29sb3IzMjtcblx0LyoqXHJcblx0ICogR2l2ZW4gYW4gYWxwaGEgYW5kIDMgY29sb3IgdmFsdWVzIHRoaXMgd2lsbCByZXR1cm4gYW4gaW50ZWdlciByZXByZXNlbnRhdGlvbiBvZiBpdC5cclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgZ2V0Q29sb3IzMlxyXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gciAtIFRoZSByZWQgY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gZyAtIFRoZSBncmVlbiBjb2xvciBjb21wb25lbnQgaW4gdGhlIHJhbmdlIDAgLSAyNTUuXHJcblx0ICogQHBhcmFtIHtpbnRlZ2VyfSBiIC0gVGhlIGJsdWUgY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gYSAtIFRoZSBhbHBoYSBjb2xvciBjb21wb25lbnQgaW4gdGhlIHJhbmdlIDAgLSAyNTUuXHJcblx0ICogQHJldHVybiB7aW50ZWdlcn0gQSBuYXRpdmUgY29sb3IgdmFsdWUgaW50ZWdlciAoZm9ybWF0OiAweEFBUlJHR0JCKS5cclxuXHQgKi9cblx0ZnVuY3Rpb24gR2V0Q29sb3IzMihyLCBnLCBiLCBhKSB7XG5cdFxuXHQgIHJldHVybiBhIDw8IDI0IHwgciA8PCAxNiB8IGcgPDwgOCB8IGI7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjcyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUkdCdG9TdHJpbmc7XG5cdFxuXHR2YXIgX0NvbXBvbmVudFRvSGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzMpO1xuXHRcblx0dmFyIF9Db21wb25lbnRUb0hleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21wb25lbnRUb0hleCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gUkdCdG9TdHJpbmcociwgZywgYikge1xuXHQgICAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAyNTUgOiBhcmd1bWVudHNbM107XG5cdCAgICB2YXIgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gJyMnIDogYXJndW1lbnRzWzRdO1xuXHRcblx0XG5cdCAgICBpZiAocHJlZml4ID09PSAnIycpIHtcblx0ICAgICAgICByZXR1cm4gJyMnICsgKCgxIDw8IDI0KSArIChyIDw8IDE2KSArIChnIDw8IDgpICsgYikudG9TdHJpbmcoMTYpLnNsaWNlKDEpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJzB4JyArICgwLCBfQ29tcG9uZW50VG9IZXgyLmRlZmF1bHQpKGEpICsgKDAsIF9Db21wb25lbnRUb0hleDIuZGVmYXVsdCkocikgKyAoMCwgX0NvbXBvbmVudFRvSGV4Mi5kZWZhdWx0KShnKSArICgwLCBfQ29tcG9uZW50VG9IZXgyLmRlZmF1bHQpKGIpO1xuXHQgICAgfVxuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDI3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbXBvbmVudFRvSGV4O1xuXHQvKipcclxuXHQqIFJldHVybiBhIHN0cmluZyBjb250YWluaW5nIGEgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBjb2xvciBjb21wb25lbnQuXHJcblx0KlxyXG5cdCogQHBhcmFtIHtpbnRlZ2VyfSBjb2xvciAtIFRoZSBjb2xvciBjaGFubmVsIHRvIGdldCB0aGUgaGV4IHZhbHVlIGZvciwgbXVzdCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1LlxyXG5cdCogQHJldHVybiB7c3RyaW5nfSBBIHN0cmluZyBvZiBsZW5ndGggMiBjaGFyYWN0ZXJzLCBpLmUuIDI1NSA9IGZmLCAxMDAgPSA2NC5cclxuXHQqL1xuXHRmdW5jdGlvbiBDb21wb25lbnRUb0hleChjb2xvcikge1xuXHRcblx0ICAgIHZhciBoZXggPSBjb2xvci50b1N0cmluZygxNik7XG5cdFxuXHQgICAgcmV0dXJuIGhleC5sZW5ndGggPT09IDEgPyAnMCcgKyBoZXggOiBoZXg7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSFNMdG9SR0I7XG5cdFxuXHR2YXIgX0h1ZVRvQ29sb3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3NSk7XG5cdFxuXHR2YXIgX0h1ZVRvQ29sb3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHVlVG9Db2xvcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gSFNMdG9SR0IoaCwgcywgbCkge1xuXHRcblx0ICAgIC8vIGFjaHJvbWF0aWMgYnkgZGVmYXVsdFxuXHQgICAgdmFyIHIgPSBsO1xuXHQgICAgdmFyIGcgPSBsO1xuXHQgICAgdmFyIGIgPSBsO1xuXHRcblx0ICAgIGlmIChzICE9PSAwKSB7XG5cdCAgICAgICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuXHQgICAgICAgIHZhciBwID0gMiAqIGwgLSBxO1xuXHRcblx0ICAgICAgICByID0gKDAsIF9IdWVUb0NvbG9yMi5kZWZhdWx0KShwLCBxLCBoICsgMSAvIDMpO1xuXHQgICAgICAgIGcgPSAoMCwgX0h1ZVRvQ29sb3IyLmRlZmF1bHQpKHAsIHEsIGgpO1xuXHQgICAgICAgIGIgPSAoMCwgX0h1ZVRvQ29sb3IyLmRlZmF1bHQpKHAsIHEsIGggLSAxIC8gMyk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHsgcjogciAqIDI1NSwgZzogZyAqIDI1NSwgYjogYiAqIDI1NSB9O1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDI3NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSHVlVG9Db2xvcjtcblx0LyoqXHJcblx0KiBDb252ZXJ0cyBhIGh1ZSB0byBhbiBSR0IgY29sb3IuXHJcblx0KiBCYXNlZCBvbiBjb2RlIGJ5IE1pY2hhZWwgSmFja3NvbiAoaHR0cHM6Ly9naXRodWIuY29tL21qaWphY2tzb24pXHJcblx0KlxyXG5cdCogQG1ldGhvZCBMYXplci5Db2xvci5odWVUb0NvbG9yXHJcblx0KiBAcGFyYW0ge251bWJlcn0gcFxyXG5cdCogQHBhcmFtIHtudW1iZXJ9IHFcclxuXHQqIEBwYXJhbSB7bnVtYmVyfSB0XHJcblx0KiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjb2xvciBjb21wb25lbnQgdmFsdWUuXHJcblx0Ki9cblx0ZnVuY3Rpb24gSHVlVG9Db2xvcihwLCBxLCB0KSB7XG5cdFxuXHQgICAgaWYgKHQgPCAwKSB7XG5cdCAgICAgICAgdCArPSAxO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0ID4gMSkge1xuXHQgICAgICAgIHQgLT0gMTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodCA8IDEgLyA2KSB7XG5cdCAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHQgPCAxIC8gMikge1xuXHQgICAgICAgIHJldHVybiBxO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0IDwgMiAvIDMpIHtcblx0ICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHA7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjc2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBSYW5kb21SR0I7XG5cdGZ1bmN0aW9uIFJhbmRvbVJHQigpIHtcblx0ICAgIHZhciBtaW4gPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgdmFyIG1heCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDI1NSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgdmFyIHIgPSBtaW4gKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSk7XG5cdCAgICB2YXIgZyA9IG1pbiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKTtcblx0ICAgIHZhciBiID0gbWluICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpO1xuXHRcblx0ICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyNzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbG9yVG9SR0I7XG5cdGZ1bmN0aW9uIENvbG9yVG9SR0IoY29sb3IpIHtcblx0XG5cdCAgICBpZiAoY29sb3IgPiAxNjc3NzIxNSkge1xuXHQgICAgICAgIHZhciBfYSA9IGNvbG9yID4+PiAyNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIF9hMiA9IDI1NTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgciA9IGNvbG9yID4+IDE2ICYgMHhGRjtcblx0ICAgIHZhciBnID0gY29sb3IgPj4gOCAmIDB4RkY7XG5cdCAgICB2YXIgYiA9IGNvbG9yICYgMHhGRjtcblx0XG5cdCAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiLCBhOiBhIH07XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5jb2xvcldpdGhDb2xvciA9IGNvbG9yV2l0aENvbG9yO1xuXHRleHBvcnRzLmNvbG9yV2l0aFJHQiA9IGNvbG9yV2l0aFJHQjtcblx0ZXhwb3J0cy5SR0J3aXRoUkdCID0gUkdCd2l0aFJHQjtcblx0XG5cdHZhciBfTGluZWFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzkpO1xuXHRcblx0dmFyIF9MaW5lYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGluZWFyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjb2xvcldpdGhDb2xvcihjb2xvcjEsIGNvbG9yMikge1xuXHQgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDEwMCA6IGFyZ3VtZW50c1syXTtcblx0ICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbM107XG5cdFxuXHRcblx0ICAgIHJldHVybiB0aGlzLlJHQndpdGhSR0IoY29sb3IxLnIsIGNvbG9yMS5nLCBjb2xvcjEuYiwgY29sb3IyLnIsIGNvbG9yMi5nLCBjb2xvcjIuYiwgbGVuZ3RoLCBpbmRleCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbG9yV2l0aFJHQihjb2xvciwgciwgZywgYikge1xuXHQgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDEwMCA6IGFyZ3VtZW50c1s0XTtcblx0ICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cdFxuXHRcblx0ICAgIHJldHVybiB0aGlzLlJHQndpdGhSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgciwgZywgYiwgbGVuZ3RoLCBpbmRleCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFJHQndpdGhSR0IocjEsIGcxLCBiMSwgcjIsIGcyLCBiMikge1xuXHQgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNiB8fCBhcmd1bWVudHNbNl0gPT09IHVuZGVmaW5lZCA/IDEwMCA6IGFyZ3VtZW50c1s2XTtcblx0ICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNyB8fCBhcmd1bWVudHNbN10gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbN107XG5cdFxuXHRcblx0ICAgIHZhciB0ID0gaW5kZXggLyBsZW5ndGg7XG5cdFxuXHQgICAgdmFyIHIgPSAoMCwgX0xpbmVhcjIuZGVmYXVsdCkocjEsIHIyLCB0KTtcblx0ICAgIHZhciBnID0gKDAsIF9MaW5lYXIyLmRlZmF1bHQpKGcxLCBnMiwgdCk7XG5cdCAgICB2YXIgYiA9ICgwLCBfTGluZWFyMi5kZWZhdWx0KShiMSwgYjIsIHQpO1xuXHRcblx0ICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyNzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpbmVhcjtcblx0ZnVuY3Rpb24gTGluZWFyKHAwLCBwMSwgdCkge1xuXHRcblx0ICAgIHJldHVybiAocDEgLSBwMCkgKiB0ICsgcDA7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gNzA5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgTGF6ZXIgPSB7XG5cdFxuXHQgICAgLyoqXHJcblx0ICAgICogQVVUTyByZW5kZXJlciAtIHBpY2tzIGJldHdlZW4gV2ViR0wgb3IgQ2FudmFzIGJhc2VkIG9uIGRldmljZS5cclxuXHQgICAgKiBAY29uc3RhbnRcclxuXHQgICAgKiBAdHlwZSB7aW50ZWdlcn1cclxuXHQgICAgKi9cblx0ICAgIEFVVE86IDAsXG5cdFxuXHQgICAgLyoqXHJcblx0ICAgICogQ2FudmFzIFJlbmRlcmVyLlxyXG5cdCAgICAqIEBjb25zdGFudFxyXG5cdCAgICAqIEB0eXBlIHtpbnRlZ2VyfVxyXG5cdCAgICAqL1xuXHQgICAgQ0FOVkFTOiAxLFxuXHRcblx0ICAgIC8qKlxyXG5cdCAgICAqIFdlYkdMIFJlbmRlcmVyLlxyXG5cdCAgICAqIEBjb25zdGFudFxyXG5cdCAgICAqIEB0eXBlIHtpbnRlZ2VyfVxyXG5cdCAgICAqL1xuXHQgICAgV0VCR0w6IDIsXG5cdFxuXHQgICAgLyoqXHJcblx0ICAgICogSGVhZGxlc3MgcmVuZGVyZXIgKG5vdCB2aXN1YWwgb3V0cHV0KVxyXG5cdCAgICAqIEBjb25zdGFudFxyXG5cdCAgICAqIEB0eXBlIHtpbnRlZ2VyfVxyXG5cdCAgICAqL1xuXHQgICAgSEVBRExFU1M6IDNcblx0XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMYXplcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzEwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5XZWJHTEJhdGNoZWRQb2ludCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfV2ViR0xCYXRjaGVkUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMSk7XG5cdFxuXHR2YXIgX1dlYkdMQmF0Y2hlZFBvaW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMQmF0Y2hlZFBvaW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLldlYkdMQmF0Y2hlZFBvaW50ID0gX1dlYkdMQmF0Y2hlZFBvaW50Mi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX0NvbnRleHRIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTIpO1xuXHRcblx0dmFyIF9Db250ZXh0SGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0SGFuZGxlcik7XG5cdFxuXHR2YXIgX0NvbnRleHRPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9Db250ZXh0T3B0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0T3B0aW9ucyk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2V0Q29udGV4dCk7XG5cdFxuXHR2YXIgX0NvbXBpbGVTaGFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNCk7XG5cdFxuXHR2YXIgX0NvbXBpbGVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tcGlsZVNoYWRlcik7XG5cdFxuXHR2YXIgX1Byb2dyYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNSk7XG5cdFxuXHR2YXIgX1Byb2dyYW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvZ3JhbSk7XG5cdFxuXHR2YXIgX1ZlcnRleEFycmF5QnVmZmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTcpO1xuXHRcblx0dmFyIF9WZXJ0ZXhBcnJheUJ1ZmZlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WZXJ0ZXhBcnJheUJ1ZmZlcik7XG5cdFxuXHR2YXIgX0FkZFZlcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOCk7XG5cdFxuXHR2YXIgX0FkZFZlcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRkVmVydCk7XG5cdFxuXHR2YXIgX0F0dHJpYnV0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzE2KTtcblx0XG5cdHZhciBBdHRyaWJ1dGUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfQXR0cmlidXRlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBXZWJHTEJhdGNoZWRQb2ludFJlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGZ1bmN0aW9uIFdlYkdMQmF0Y2hlZFBvaW50UmVuZGVyZXIoY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IDA7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0T3B0aW9ucyA9ICgwLCBfQ29udGV4dE9wdGlvbnMyLmRlZmF1bHQpKCk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyID0gbmV3IF9Db250ZXh0SGFuZGxlcjIuZGVmYXVsdCgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgX1ZlcnRleEFycmF5QnVmZmVyMi5kZWZhdWx0KCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChjYW52YXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0KGNhbnZhcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfY3JlYXRlQ2xhc3MoV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoY2FudmFzKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gY2FudmFzLndpZHRoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyLmFkZChjYW52YXMpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbCA9ICgwLCBfR2V0Q29udGV4dDIuZGVmYXVsdCkoY2FudmFzKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5nbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuZGlzYWJsZSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5DVUxMX0ZBQ0UpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHRlc3RpbmcgYmxlbmQgbW9kZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLmVuYWJsZSh0aGlzLmdsLkJMRU5EKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmModGhpcy5nbC5TUkNfQUxQSEEsIHRoaXMuZ2wuRFNUX0FMUEhBKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXhTcmMgPSBbJ2F0dHJpYnV0ZSB2ZWM0IHBvaW50UG9zaXRpb247JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbigpIHsnLCAnICAgZ2xfUG9zaXRpb24gPSBwb2ludFBvc2l0aW9uOycsICcgICBnbF9Qb2ludFNpemUgPSA2LjA7JywgJyAgIGZsb2F0IHV2eCA9IDAuNSArIHBvaW50UG9zaXRpb24ueDsnLCAnICAgZmxvYXQgdXZ5ID0gMC41ICsgcG9pbnRQb3NpdGlvbi55OycsICcgICB2Q29sb3IgPSB2ZWM0KHV2eCwgdXZ5LCAxLjAsIDEuMCk7JywgJ30nXTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudFNyYyA9IFsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JywgJ3ZvaWQgbWFpbigpIHsnLCAnICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yOycsICd9J107XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gKDAsIF9Db21waWxlU2hhZGVyMi5kZWZhdWx0KSh0aGlzLmdsLCB2ZXJ0ZXhTcmMsIHRoaXMuZ2wuVkVSVEVYX1NIQURFUik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9ICgwLCBfQ29tcGlsZVNoYWRlcjIuZGVmYXVsdCkodGhpcy5nbCwgZnJhZ21lbnRTcmMsIHRoaXMuZ2wuRlJBR01FTlRfU0hBREVSKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBfUHJvZ3JhbTIuZGVmYXVsdCh0aGlzLmdsKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3JhbS5hdHRhY2godmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcikubGluaygpLnVzZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFBvcHVsYXRlIHRoZSB2ZXJ0ZXggYnVmZmVyXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgMiB2ZXJ0cyBwZXIgZWxlbWVudCwgMTAwMCBlbGVtZW50cyBpbiB0b3RhbFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5jcmVhdGUodGhpcy5nbCwgMiwgMTAwMCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IEF0dHJpYnV0ZS5jcmVhdGVGbG9hdCh0aGlzLmdsLCB0aGlzLnByb2dyYW0ucHJvZ3JhbSwgJ3BvaW50UG9zaXRpb24nKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdnZXRMb2NhbFgnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvY2FsWCh4KSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3ggPSB0aGlzLndpZHRoIC8gMjtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoeCAtIGN4KSAvIGN4O1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ2dldExvY2FsWScsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9jYWxZKHkpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjeSA9IHRoaXMuaGVpZ2h0IC8gMjtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY3kgLSB5KSAvIGN5O1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3Jlc2V0Jyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyLnJlc2V0KCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAnYWRkUG9pbnQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBvaW50KHgsIHkpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBNYXAgdG8gV2ViR0wgY29vcmRpbmF0ZSBzcGFjZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAoMCwgX0FkZFZlcnQyLmRlZmF1bHQpKHRoaXMudmVydGV4QnVmZmVyLCB0aGlzLmdldExvY2FsWCh4KSwgdGhpcy5nZXRMb2NhbFkoeSkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ2FkZFRyaScsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVHJpKHgsIHksIHdpZHRoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IHdpZHRoIC8gMjtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9pbnQoeCwgeSAtIGgpOyAvLyB0b3Bcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRQb2ludCh4IC0gaCwgeSArIGgpOyAvLyBsZWZ0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUG9pbnQoeCArIGgsIHkgKyBoKTsgLy8gcmlnaHRcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdidWZmZXJTdGF0aWMnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1ZmZlclN0YXRpYygpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBBcyBzb29uIGFzIHlvdSBiaW5kIGl0LCB0aGUgZGF0YSBpcyB3cml0dGVuIGFuZCBuZWVkcyByZS1iaW5kaW5nIGlmIHVwZGF0ZWRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuYnVmZmVyRGF0YSh0aGlzLmdsLCB0aGlzLmdsLlNUQVRJQ19EUkFXKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdidWZmZXJEeW5hbWljJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJEeW5hbWljKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIEFzIHNvb24gYXMgeW91IGJpbmQgaXQsIHRoZSBkYXRhIGlzIHdyaXR0ZW4gYW5kIG5lZWRzIHJlLWJpbmRpbmcgaWYgdXBkYXRlZFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5idWZmZXJEYXRhKHRoaXMuZ2wsIHRoaXMuZ2wuRFlOQU1JQ19EUkFXKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0aGlzLmdsLlBPSU5UIDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAxKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuY2xlYXIodGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuZHJhd0FycmF5cyhtb2RlLCAwLCB0aGlzLnZlcnRleEJ1ZmZlci50b3RhbCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAncmVuZGVyTGluZXMnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxpbmVzKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5nbC5MSU5FUyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAncmVuZGVyTGluZVN0cmlwJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJMaW5lU3RyaXAoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmdsLkxJTkVfU1RSSVApO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3JlbmRlckxpbmVMb29wJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJMaW5lTG9vcCgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKHRoaXMuZ2wuTElORV9MT09QKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZW5kZXJUcmlhbmdsZXMnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRyaWFuZ2xlcygpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKHRoaXMuZ2wuVFJJQU5HTEVTKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZW5kZXJUcmlhbmdsZVN0cmlwJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJUcmlhbmdsZVN0cmlwKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5nbC5UUklBTkdMRV9TVFJJUCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAncmVuZGVyVHJpYW5nbGVGYW4nLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclRyaWFuZ2xlRmFuKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5nbC5UUklBTkdMRV9GQU4pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1dKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIFdlYkdMQmF0Y2hlZFBvaW50UmVuZGVyZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMQmF0Y2hlZFBvaW50UmVuZGVyZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgV2ViR0xDb250ZXh0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBXZWJHTENvbnRleHRIYW5kbGVyKGNhbnZhcykge1xuXHQgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMQ29udGV4dEhhbmRsZXIpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dExvc3QgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKGNhbnZhcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfY3JlYXRlQ2xhc3MoV2ViR0xDb250ZXh0SGFuZGxlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2FkZCcsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGNhbnZhcykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5sb3N0LCBmYWxzZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5yZXN0b3JlZCwgZmFsc2UpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ2xvc3QnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvc3QoZXZlbnQpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJHTCBDb250ZXh0IExvc3QnKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRMb3N0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZXN0b3JlZCcsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzdG9yZWQoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViR0wgQ29udGV4dCByZXN0b3JlZCcpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TG9zdCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHkgYWxsIHRoZSBvbGQgZ2wgdGV4dHVyZXMgYXMgdGhleSBhcmUgdXNlbGVzcyBub3dcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZW1vdmUnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmxvc3QpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMucmVzdG9yZWQpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1dKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIFdlYkdMQ29udGV4dEhhbmRsZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMQ29udGV4dEhhbmRsZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xDb250ZXh0T3B0aW9ucztcblx0ZnVuY3Rpb24gV2ViR0xDb250ZXh0T3B0aW9ucygpIHtcblx0ICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cdFxuXHQgICAgdmFyIF9yZWYkYWxwaGEgPSBfcmVmLmFscGhhO1xuXHQgICAgdmFyIGFscGhhID0gX3JlZiRhbHBoYSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGFscGhhO1xuXHQgICAgdmFyIF9yZWYkYW50aWFsaWFzID0gX3JlZi5hbnRpYWxpYXM7XG5cdCAgICB2YXIgYW50aWFsaWFzID0gX3JlZiRhbnRpYWxpYXMgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJGFudGlhbGlhcztcblx0ICAgIHZhciBfcmVmJHByZW11bHRpcGxpZWRBbHAgPSBfcmVmLnByZW11bHRpcGxpZWRBbHBoYTtcblx0ICAgIHZhciBwcmVtdWx0aXBsaWVkQWxwaGEgPSBfcmVmJHByZW11bHRpcGxpZWRBbHAgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRwcmVtdWx0aXBsaWVkQWxwO1xuXHQgICAgdmFyIF9yZWYkc3RlbmNpbCA9IF9yZWYuc3RlbmNpbDtcblx0ICAgIHZhciBzdGVuY2lsID0gX3JlZiRzdGVuY2lsID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkc3RlbmNpbDtcblx0ICAgIHZhciBfcmVmJHByZXNlcnZlRHJhd2luZ0IgPSBfcmVmLnByZXNlcnZlRHJhd2luZ0J1ZmZlcjtcblx0ICAgIHZhciBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBfcmVmJHByZXNlcnZlRHJhd2luZ0IgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3JlZiRwcmVzZXJ2ZURyYXdpbmdCO1xuXHRcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGFscGhhOiBhbHBoYSxcblx0ICAgICAgICBhbnRpYWxpYXM6IGFudGlhbGlhcyxcblx0ICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IHByZW11bHRpcGxpZWRBbHBoYSxcblx0ICAgICAgICBzdGVuY2lsOiBzdGVuY2lsLFxuXHQgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogcHJlc2VydmVEcmF3aW5nQnVmZmVyXG5cdCAgICB9O1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbXBpbGVTaGFkZXI7XG5cdC8qKlxyXG5cdCAqIENvbXBpbGVTaGFkZXJcclxuXHQgKiBcclxuXHQgKiBAcGFyYW0gIHtvYmplY3R9IGdsIC0gV2ViR0wgQ29udGV4dFxyXG5cdCAqIEBwYXJhbSAge3N0cmluZ3xhcnJheX0gc3JjIC0gU2hhZGVyIHNvdXJjZSBjb2RlXHJcblx0ICogQHBhcmFtICB7aW50ZWdlcn0gdHlwZSAtIFR5cGUgb2Ygc2hhZGVyLiBFaXRoZXIgZ2wuVkVSVEVYX1NIQURFUiBvciBnbC5GUkFHTUVOVF9TSEFERVJcclxuXHQgKiBAcmV0dXJuIHtXZWJHTFNoYWRlcn0gVGhlIGNvbXBpbGVkIHNoYWRlciwgb3IgbnVsbCBpZiBzaGFkZXIgY291bGQgbm90IGNvbXBpbGUuXHJcblx0ICovXG5cdGZ1bmN0aW9uIENvbXBpbGVTaGFkZXIoZ2wsIHNyYywgdHlwZSkge1xuXHRcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHNyYykpIHtcblx0ICAgICAgICBzcmMgPSBzcmMuam9pbignXFxuJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcblx0XG5cdCAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuXHRcblx0ICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblx0XG5cdCAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuXHQgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNvbXBpbGUgc2hhZGVyOiAnICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcblx0XG5cdCAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XG5cdFxuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gc2hhZGVyO1xuXHQgICAgfVxuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9BdHRyaWJ1dGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNik7XG5cdFxuXHR2YXIgQXR0cmlidXRlID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0F0dHJpYnV0ZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBXZWJHTFByb2dyYW0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBXZWJHTFByb2dyYW0oZ2wpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xQcm9ncmFtKTtcblx0XG5cdCAgICAgICAgdGhpcy5nbCA9IGdsO1xuXHRcblx0ICAgICAgICB0aGlzLnByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cdFxuXHQgICAgICAgIGlmICghdGhpcy5wcm9ncmFtKSB7XG5cdCAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViR0xQcm9ncmFtIC0gdW5hYmxlIHRvIGNyZWF0ZVByb2dyYW0gb24gZ2wgY29udGV4dCcpO1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFdlYkdMUHJvZ3JhbSwgW3tcblx0ICAgICAgICBrZXk6ICdnZXRBdHRyaWInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBdHRyaWIobmFtZSkge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIEF0dHJpYnV0ZS5nZXQodGhpcy5nbCwgdGhpcy5wcm9ncmFtLCBuYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYXR0YWNoJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoKCkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc2hhZGVycyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICAgICAgc2hhZGVyc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICAgICAgdHJ5IHtcblx0XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBzaGFkZXJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBzaGFkZXIgPSBfc3RlcC52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBzaGFkZXIpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYXR0YWNoQW5kRGVsZXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoQW5kRGVsZXRlKCkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHNoYWRlcnMgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHQgICAgICAgICAgICAgICAgc2hhZGVyc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgICAgICB0cnkge1xuXHRcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBzaGFkZXJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHNoYWRlciA9IF9zdGVwMi52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5wcm9ncmFtLCBzaGFkZXIpO1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcblx0ICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnbGluaycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxpbmsoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmdsLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMucHJvZ3JhbSwgdGhpcy5nbC5MSU5LX1NUQVRVUyk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gdGhpcy5nbC5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLnByb2dyYW0pO1xuXHRcblx0ICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxpbmsgV2ViR0wgcHJvZ3JhbTogJyArIGVycm9yKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZSgpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndXNlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXNlKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZGV0YXRjaCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRldGF0Y2goKSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgc2hhZGVycyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdCAgICAgICAgICAgICAgICBzaGFkZXJzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHNoYWRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgc2hhZGVyID0gX3N0ZXAzLnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLmRldGF0Y2hTaGFkZXIoc2hhZGVyKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuXHQgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdkZWxldGUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZGVzdHJveScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmRlbGV0ZSgpO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cdCAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBXZWJHTFByb2dyYW07XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUHJvZ3JhbTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcblx0ZXhwb3J0cy5nZXRMb2NhdGlvbiA9IGdldExvY2F0aW9uO1xuXHRleHBvcnRzLmNyZWF0ZUJ5dGUgPSBjcmVhdGVCeXRlO1xuXHRleHBvcnRzLmNyZWF0ZVNob3J0ID0gY3JlYXRlU2hvcnQ7XG5cdGV4cG9ydHMuY3JlYXRlVW5zaWduZWRTaG9ydCA9IGNyZWF0ZVVuc2lnbmVkU2hvcnQ7XG5cdGV4cG9ydHMuY3JlYXRlSW50ID0gY3JlYXRlSW50O1xuXHRleHBvcnRzLmNyZWF0ZVVuc2lnbmVkSW50ID0gY3JlYXRlVW5zaWduZWRJbnQ7XG5cdGV4cG9ydHMuY3JlYXRlRmxvYXQgPSBjcmVhdGVGbG9hdDtcblx0ZnVuY3Rpb24gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCBzaXplLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCkge1xuXHRcblx0ICAgIHZhciBsb2MgPSBnZXRMb2NhdGlvbihnbCwgcHJvZ3JhbSwgbmFtZSk7XG5cdFxuXHQgICAgaWYgKGxvYyAhPT0gbnVsbCkge1xuXHQgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jLCBzaXplLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XG5cdFxuXHQgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvYyk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGxvYztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlzYWJsZShnbCwgbG9jYXRpb24pIHtcblx0XG5cdCAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRMb2NhdGlvbihnbCwgcHJvZ3JhbSwgbmFtZSkge1xuXHRcblx0ICAgIHZhciBsb2MgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBuYW1lKTtcblx0XG5cdCAgICBpZiAobG9jIDwgMCkge1xuXHQgICAgICAgIGNvbnNvbGUud2FybignV2ViR0xQcm9ncmFtIC0gZmFpbGVkIHRvIGdldCBhdHRyaWJ1dGUgbG9jYXRpb246ICcgKyBuYW1lKTtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGxvYztcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlQnl0ZShnbCwgcHJvZ3JhbSwgbmFtZSkge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1szXTtcblx0ICAgIHZhciBzdHJpZGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzRdO1xuXHQgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNV07XG5cdFxuXHRcblx0ICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLlVOU0lHTkVEX0JZVEUsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlU2hvcnQoZ2wsIHByb2dyYW0sIG5hbWUpIHtcblx0ICAgIHZhciBub3JtYWxpemVkID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbM107XG5cdCAgICB2YXIgc3RyaWRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s0XTtcblx0ICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDUgfHwgYXJndW1lbnRzWzVdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzVdO1xuXHRcblx0XG5cdCAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5TSE9SVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVVbnNpZ25lZFNob3J0KGdsLCBwcm9ncmFtLCBuYW1lKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXHQgICAgdmFyIHN0cmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuVU5TSUdORURfU0hPUlQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSW50KGdsLCBwcm9ncmFtLCBuYW1lKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXHQgICAgdmFyIHN0cmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuSU5ULCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVVuc2lnbmVkSW50KGdsLCBwcm9ncmFtLCBuYW1lKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXHQgICAgdmFyIHN0cmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuVU5TSUdORURfSU5ULCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUZsb2F0KGdsLCBwcm9ncmFtLCBuYW1lKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzNdO1xuXHQgICAgdmFyIHN0cmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdFxuXHQgICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuRkxPQVQsIG5vcm1hbGl6ZWQsIHN0cmlkZSwgb2Zmc2V0KTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBWZXJ0ZXhBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFZlcnRleEFycmF5QnVmZmVyKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZXJ0ZXhBcnJheUJ1ZmZlcik7XG5cdFxuXHQgICAgICAgIHRoaXMudmVydFNpemUgPSAwO1xuXHQgICAgICAgIHRoaXMuYmF0Y2hTaXplID0gMDtcblx0XG5cdCAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG51bGw7XG5cdCAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuXHRcblx0ICAgICAgICB0aGlzLmluZGV4ID0gMDtcblx0ICAgICAgICB0aGlzLnRvdGFsID0gMDtcblx0ICAgICAgICB0aGlzLnNpemUgPSAwO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhWZXJ0ZXhBcnJheUJ1ZmZlciwgW3tcblx0ICAgICAgICBrZXk6IFwiY3JlYXRlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShnbCkge1xuXHQgICAgICAgICAgICB2YXIgdmVydFNpemUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAyIDogYXJndW1lbnRzWzFdO1xuXHQgICAgICAgICAgICB2YXIgYmF0Y2hTaXplID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMjAwMCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnZlcnRTaXplID0gdmVydFNpemU7XG5cdCAgICAgICAgICAgIHRoaXMuYmF0Y2hTaXplID0gYmF0Y2hTaXplO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5iYXRjaFNpemUgKiB0aGlzLnZlcnRTaXplKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwO1xuXHQgICAgICAgICAgICB0aGlzLnRvdGFsID0gMDtcblx0ICAgICAgICAgICAgdGhpcy5zaXplID0gMDtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHRoaXMuYmluZEJ1ZmZlcihnbCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJiaW5kQnVmZmVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmRCdWZmZXIoZ2wpIHtcblx0XG5cdCAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyAgdXNhZ2UgPSBnbC5EWU5BTUlDX0RSQVcsIGdsLlNUQVRJQ19EUkFXIG9yIGdsLlNUUkVBTV9EUkFXXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJidWZmZXJEYXRhXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1ZmZlckRhdGEoZ2wsIHVzYWdlKSB7XG5cdFxuXHQgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgdXNhZ2UpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYnVmZmVyRHluYW1pY0RhdGFcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyRHluYW1pY0RhdGEoZ2wpIHtcblx0XG5cdCAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRpY2VzLCBnbC5EWU5BTUlDX0RSQVcpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYnVmZmVyU3RhdGljRGF0YVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJTdGF0aWNEYXRhKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYnVmZmVyU3RyZWFtRGF0YVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWZmZXJTdHJlYW1EYXRhKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgZ2wuU1RSRUFNX0RSQVcpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVzZXRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcblx0ICAgICAgICAgICAgdGhpcy5zaXplID0gMDtcblx0ICAgICAgICAgICAgdGhpcy50b3RhbCA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBWZXJ0ZXhBcnJheUJ1ZmZlcjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVmVydGV4QXJyYXlCdWZmZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQWRkVmVydDtcblx0Ly8gIEFkZCBhIHNpbmdsZSB2ZXJ0IHNldCBpbnRvIHRoZSBWZXJ0ZXggQnVmZmVyXG5cdFxuXHRmdW5jdGlvbiBBZGRWZXJ0KGJ1ZmZlciwgeCwgeSkge1xuXHRcblx0ICAgIGJ1ZmZlci52ZXJ0aWNlc1tidWZmZXIuaW5kZXgrK10gPSB4O1xuXHQgICAgYnVmZmVyLnZlcnRpY2VzW2J1ZmZlci5pbmRleCsrXSA9IHk7XG5cdFxuXHQgICAgYnVmZmVyLnRvdGFsKys7XG5cdFxuXHQgICAgLy8gIHJldHVybiB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIHBvaW50XG5cdCAgICByZXR1cm4gYnVmZmVyLmluZGV4IC0gMjtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA3MTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLldlYkdMUmVuZGVyZXIgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX1dlYkdMUmVuZGVyZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMCk7XG5cdFxuXHR2YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfQ29udGV4dEhhbmRsZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMik7XG5cdFxuXHR2YXIgX0NvbnRleHRIYW5kbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRleHRIYW5kbGVyKTtcblx0XG5cdHZhciBfQ29udGV4dE9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMyk7XG5cdFxuXHR2YXIgX0NvbnRleHRPcHRpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbnRleHRPcHRpb25zKTtcblx0XG5cdHZhciBfR2V0Q29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfR2V0Q29udGV4dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZXRDb250ZXh0KTtcblx0XG5cdHZhciBfQ29tcGlsZVNoYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzE0KTtcblx0XG5cdHZhciBfQ29tcGlsZVNoYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21waWxlU2hhZGVyKTtcblx0XG5cdHZhciBfUHJvZ3JhbSA9IF9fd2VicGFja19yZXF1aXJlX18oNzE1KTtcblx0XG5cdHZhciBfUHJvZ3JhbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qcm9ncmFtKTtcblx0XG5cdHZhciBfVmVydGV4QXJyYXlCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNyk7XG5cdFxuXHR2YXIgX1ZlcnRleEFycmF5QnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlcnRleEFycmF5QnVmZmVyKTtcblx0XG5cdHZhciBfVmVydGV4SW5kZXhCdWZmZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMSk7XG5cdFxuXHR2YXIgX1ZlcnRleEluZGV4QnVmZmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlcnRleEluZGV4QnVmZmVyKTtcblx0XG5cdHZhciBfQXR0cmlidXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTYpO1xuXHRcblx0dmFyIEF0dHJpYnV0ZSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9BdHRyaWJ1dGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIFdlYkdMQmF0Y2hlZFBvaW50UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlcihjYW52YXMpIHtcblx0ICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTEJhdGNoZWRQb2ludFJlbmRlcmVyKTtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyB0aGlzLndpZHRoID0gMDtcblx0ICAgICAgICAgICAgICAgIC8vIHRoaXMuaGVpZ2h0ID0gMDtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dE9wdGlvbnMgPSAoMCwgX0NvbnRleHRPcHRpb25zMi5kZWZhdWx0KSgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0SGFuZGxlciA9IG5ldyBfQ29udGV4dEhhbmRsZXIyLmRlZmF1bHQoKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBfVmVydGV4QXJyYXlCdWZmZXIyLmRlZmF1bHQoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgX1ZlcnRleEluZGV4QnVmZmVyMi5kZWZhdWx0KCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChjYW52YXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0KGNhbnZhcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBfY3JlYXRlQ2xhc3MoV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoY2FudmFzKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgY2xpZW50V2lkdGggaXMgb25seSBhdmFpbGFibGUgaWYgdGhlIGNhbnZhcyBpcyBvbiB0aGUgZG9tXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIuYWRkKGNhbnZhcyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2wgPSAoMCwgX0dldENvbnRleHQyLmRlZmF1bHQpKGNhbnZhcyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWdsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsID0gZ2w7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuQ1VMTF9GQUNFKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGdsLmRyYXdpbmdCdWZmZXJXaWR0aCwgZ2wuZHJhd2luZ0J1ZmZlckhlaWdodCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVydGV4U3JjID0gWydhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JywgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JywgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLCAndW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7JywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICdjb25zdCB2ZWMyIGNlbnRlciA9IHZlYzIoLTEuMCwgMS4wKTsnLCAndm9pZCBtYWluKHZvaWQpIHsnLCAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChhVmVydGV4UG9zaXRpb24gLyBwcm9qZWN0aW9uVmVjdG9yKSArIGNlbnRlciwgMC4wLCAxLjApOycsICcgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDsnLCAnICAgdmVjMyBjb2xvciA9IG1vZCh2ZWMzKGFDb2xvci55IC8gNjU1MzYuMCwgYUNvbG9yLnkgLyAyNTYuMCwgYUNvbG9yLnkpLCAyNTYuMCkgLyAyNTYuMDsnLCAnICAgdkNvbG9yID0gdmVjNChjb2xvciAqIGFDb2xvci54LCBhQ29sb3IueCk7JywgJ30nXTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudFNyYyA9IFsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLCAndm9pZCBtYWluKHZvaWQpIHsnLCAnICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjsnLCAnfSddO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlciA9ICgwLCBfQ29tcGlsZVNoYWRlcjIuZGVmYXVsdCkoZ2wsIHZlcnRleFNyYywgZ2wuVkVSVEVYX1NIQURFUik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9ICgwLCBfQ29tcGlsZVNoYWRlcjIuZGVmYXVsdCkoZ2wsIGZyYWdtZW50U3JjLCBnbC5GUkFHTUVOVF9TSEFERVIpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gbmV3IF9Qcm9ncmFtMi5kZWZhdWx0KGdsKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3JhbS5hdHRhY2godmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcikubGluaygpLnVzZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIEdldCBhbmQgc3RvcmUgdGhlIGF0dHJpYnV0ZXNcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYVZlcnRleFBvc2l0aW9uID0gQXR0cmlidXRlLmdldExvY2F0aW9uKGdsLCB0aGlzLnByb2dyYW0ucHJvZ3JhbSwgJ2FWZXJ0ZXhQb3NpdGlvbicpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hVGV4dHVyZUNvb3JkID0gQXR0cmlidXRlLmdldExvY2F0aW9uKGdsLCB0aGlzLnByb2dyYW0ucHJvZ3JhbSwgJ2FUZXh0dXJlQ29vcmQnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sb3JBdHRyaWJ1dGUgPSBBdHRyaWJ1dGUuZ2V0TG9jYXRpb24oZ2wsIHRoaXMucHJvZ3JhbS5wcm9ncmFtLCAnYUNvbG9yJyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgdmVydGV4IHBvc2l0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KDApO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHRleHR1cmUgY29vcmRpbmF0ZVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgxKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb2xvciBhdHRyaWJ1dGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMik7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgVGhlIHByb2plY3Rpb24gdmVjdG9yIChtaWRkbGUgb2YgdGhlIGdhbWUgd29ybGQpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvblZlY3RvciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0ucHJvZ3JhbSwgJ3Byb2plY3Rpb25WZWN0b3InKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBQb3B1bGF0ZSB0aGUgdmVydGV4IGJ1ZmZlclxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5jcmVhdGUoZ2wsIDYsIDIwMDApO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5iaW5kQnVmZmVyKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGV4QnVmZmVyLmJ1ZmZlckR5bmFtaWNEYXRhKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgUG9wdWxhdGUgdGhlIGluZGV4IGJ1ZmZlclxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmNyZWF0ZShnbCwgNiwgMjAwMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuYmluZEJ1ZmZlcigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJ1ZmZlckRhdGEoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZXNpemUnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2wuY2FudmFzLmNsaWVudFdpZHRoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nbC5jYW52YXMuY2xpZW50SGVpZ2h0O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLmdsLmNhbnZhcy53aWR0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuY2FudmFzLndpZHRoID0gd2lkdGg7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IHRoaXMuZ2wuY2FudmFzLmhlaWdodCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnggPSB3aWR0aCAvIDI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbi55ID0gLWhlaWdodCAvIDI7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIocmVuZGVyTGlzdCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dEhhbmRsZXIuY29udGV4dExvc3QpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFJlc2V0cyB0aGUgZnJhbWUgYnVmZmVyIChpZiBpdCdzIGJlZW4gcmUtYXNzaWduZWQgZWxzZXdoZXJlIHZpYSBzdGVuY2lsLCBldGMpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgVHJhbnNwYXJlbnRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAwKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBCbGFja1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5yZXNldCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFdhbGsgdGhlIHJlbmRlciBsaXN0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gcmVuZGVyTGlzdFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX3N0ZXAudmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ2ZsdXNoJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmbHVzaCgpIHt9XG5cdCAgICAgICAgfV0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlcjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBWZXJ0ZXhJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBWZXJ0ZXhJbmRleEJ1ZmZlcigpIHtcblx0ICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZXJ0ZXhJbmRleEJ1ZmZlcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy52ZXJ0U2l6ZSA9IDA7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9jcmVhdGVDbGFzcyhWZXJ0ZXhJbmRleEJ1ZmZlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2NyZWF0ZScsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGdsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZXJ0U2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDYgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXRjaFNpemUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAyMDAwIDogYXJndW1lbnRzWzJdO1xuXHRcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIDY1NTM1IGlzIHRoZSBtYXhpbXVtIGJ1ZmZlciBzaXplICg2NEtCKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVydFNpemUgKiBiYXRjaFNpemUgPiA2NTUzNSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVmVydGV4SW5kZXhCdWZmZXI6IENhbm5vdCBjcmVhdGUgYnVmZmVyID4gNjU1MzUgYnl0ZXMnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmVydFNpemUgPSB2ZXJ0U2l6ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoYmF0Y2hTaXplICogdmVydFNpemUpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5idWZmZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZXNldCcsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXQoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgU2FtcGxlIGluZGljZXMgYXJyYXkgZm9yIDIgZWxlbWVudHMgKGJhdGNoU2l6ZSAyLCB2ZXJ0U2l6ZSA2KVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBbIDAsIDEsIDIsIDAsIDIsIDMgXVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBbIDQsIDUsIDYsIDQsIDYsIDcgXVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIDAsIDEsIDIgPSB0aGUgdmVydGljZXMgb2YgdGhlIGZpcnN0IHRyaWFuZ2xlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICAwLCAyLCAzID0gdGhlIHZlcnRpY2VzIG9mIHRoZSBzZWNvbmQgdHJpYW5nbGUgKG5vdGUgdGhlIHR3byBvdmVybGFwcGluZyBwb2ludHMpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb21iaW5lZCB0aGlzIGdpdmVzIHVzIG91ciBxdWFkIChvciB0aGUgZnJvbnQgZmFjZSBvZiBhIGN1YmUgaWYgd2Ugd2FudGVkKVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIDQsIDUsIDYgPSB0aGUgdmVydGljZXMgb2YgdGhlIGZpcnN0IHRyaWFuZ2xlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICA0LCA2LCA3ID0gdGhlIHZlcnRpY2VzIG9mIHRoZSBzZWNvbmQgdHJpYW5nbGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNvbWJpbmVkIHRoaXMgZ2l2ZXMgdXMgb3VyIHNlY29uZCBxdWFkIChvciB0aGUgYmFjayBmYWNlIG9mIGEgY3ViZSBpZiB3ZSB3YW50ZWQpXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgQW5kIHNvIG9uIC4uLlxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2l0aCA2IGluZGljZXMgcGVyIHF1YWQgdGhhdCdzIDEwOTIyIG1heFxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFRoaXMgc2V0LXVwIGlzIHF1YWQgc3BlY2lmaWMgYW5kIG5lZWRzIHJlbW92aW5nIGZyb20gJ3Jlc2V0JyBhbmQgbW92aW5nIHRvXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBpdHMgb3duIGNsYXNzIChRdWFkSW5kZXhCdWZmZXIgcHJvYmFibHkpXG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCB0aGlzLmJhdGNoU2l6ZSAqIHRoaXMudmVydFNpemU7IGkgKz0gdGhpcy52ZXJ0U2l6ZSwgaiArPSA0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAwXSA9IGogKyAwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDJdID0gaiArIDI7IC8vIGZpcnN0IHRyaVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgM10gPSBqICsgMDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDRdID0gaiArIDI7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyA1XSA9IGogKyAzOyAvLyBzZWNvbmQgdHJpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdiaW5kQnVmZmVyJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kQnVmZmVyKGdsKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAnYnVmZmVyRGF0YScsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVmZmVyRGF0YShnbCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfV0pO1xuXHRcblx0ICAgICAgICByZXR1cm4gVmVydGV4SW5kZXhCdWZmZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZlcnRleEluZGV4QnVmZmVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdCdjcmVhdGUgaW5kZXgnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gZXhwb3J0cy5NaW5pbWFsUmVuZGVyZXIgPSBleHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9DYW52YXNSZW5kZXJlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzIzKTtcblx0XG5cdHZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXHRcblx0dmFyIF9NaW5pbWFsUmVuZGVyZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNCk7XG5cdFxuXHR2YXIgX01pbmltYWxSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NaW5pbWFsUmVuZGVyZXIpO1xuXHRcblx0dmFyIF9XZWJHTFJlbmRlcmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjUpO1xuXHRcblx0dmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuQ2FudmFzUmVuZGVyZXIgPSBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuTWluaW1hbFJlbmRlcmVyID0gX01pbmltYWxSZW5kZXJlcjIuZGVmYXVsdDtcblx0ZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9HZXRDb250ZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX0dldENvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2V0Q29udGV4dCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBDYW52YXNNaW5pbWFsUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBDYW52YXNNaW5pbWFsUmVuZGVyZXIoY2FudmFzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc01pbmltYWxSZW5kZXJlcik7XG5cdFxuXHQgICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblx0ICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXHRcblx0ICAgICAgICBpZiAoY2FudmFzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQ2FudmFzTWluaW1hbFJlbmRlcmVyLCBbe1xuXHQgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGNhbnZhcykge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSAoMCwgX0dldENvbnRleHQyLmRlZmF1bHQpKGNhbnZhcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcihjb2xvcikge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBjb2xvci5yZ2JhO1xuXHQgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBDYW52YXNNaW5pbWFsUmVuZGVyZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc01pbmltYWxSZW5kZXJlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX0xhemVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MDkpO1xuXHRcblx0dmFyIF9MYXplcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MYXplcik7XG5cdFxuXHR2YXIgX0Jhc2VDb2xvciA9IF9fd2VicGFja19yZXF1aXJlX18oMjY5KTtcblx0XG5cdHZhciBfQmFzZUNvbG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VDb2xvcik7XG5cdFxuXHR2YXIgX1dlYkdMID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0dmFyIF9XZWJHTDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTCk7XG5cdFxuXHR2YXIgX0NhbnZhc1JlbmRlcmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjMpO1xuXHRcblx0dmFyIF9DYW52YXNSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYW52YXNSZW5kZXJlcik7XG5cdFxuXHR2YXIgX1dlYkdMUmVuZGVyZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNSk7XG5cdFxuXHR2YXIgX1dlYkdMUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0xSZW5kZXJlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBNaW5pbWFsUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBNaW5pbWFsUmVuZGVyZXIoY2FudmFzKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBfTGF6ZXIyLmRlZmF1bHQuQVVUTyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmltYWxSZW5kZXJlcik7XG5cdFxuXHQgICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuXHQgICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXHRcblx0ICAgICAgICB0aGlzLmNvbG9yID0gbmV3IF9CYXNlQ29sb3IyLmRlZmF1bHQoKTtcblx0XG5cdCAgICAgICAgdGhpcy5pbml0KHR5cGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhNaW5pbWFsUmVuZGVyZXIsIFt7XG5cdCAgICAgICAga2V5OiAnaW5pdCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQodHlwZSkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKCh0eXBlID09PSBfTGF6ZXIyLmRlZmF1bHQuQVVUTyB8fCB0eXBlID09PSBfTGF6ZXIyLmRlZmF1bHQuV0VCR0wpICYmICgwLCBfV2ViR0wyLmRlZmF1bHQpKCkpIHtcblx0ICAgICAgICAgICAgICAgIC8vICBDcmVhdGUgYSBXZWJHTCByZW5kZXJlclxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBfV2ViR0xSZW5kZXJlcjIuZGVmYXVsdCh0aGlzLmNhbnZhcyk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBfTGF6ZXIyLmRlZmF1bHQuV0VCR0w7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvLyAgQ3JlYXRlIGEgQ2FudmFzIHJlbmRlcmVyXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IF9DYW52YXNSZW5kZXJlcjIuZGVmYXVsdCh0aGlzLmNhbnZhcyk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBfTGF6ZXIyLmRlZmF1bHQuQ0FOVkFTO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIHIgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICB2YXIgZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1syXTtcblx0ICAgICAgICAgICAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAyNTUgOiBhcmd1bWVudHNbM107XG5cdFxuXHRcblx0ICAgICAgICAgICAgdGhpcy5jb2xvci5mcm9tUkdCKHIsIGcsIGIsIGEpO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5jb2xvcik7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBNaW5pbWFsUmVuZGVyZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IE1pbmltYWxSZW5kZXJlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICAgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9Db250ZXh0T3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzEzKTtcblx0XG5cdHZhciBfQ29udGV4dE9wdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGV4dE9wdGlvbnMpO1xuXHRcblx0dmFyIF9Db250ZXh0SGFuZGxlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzEyKTtcblx0XG5cdHZhciBfQ29udGV4dEhhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGV4dEhhbmRsZXIpO1xuXHRcblx0dmFyIF9HZXRDb250ZXh0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO1xuXHRcblx0dmFyIF9HZXRDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dldENvbnRleHQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgV2ViR0xNaW5pbWFsUmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gV2ViR0xNaW5pbWFsUmVuZGVyZXIoY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViR0xNaW5pbWFsUmVuZGVyZXIpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dE9wdGlvbnMgPSAoMCwgX0NvbnRleHRPcHRpb25zMi5kZWZhdWx0KSgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0SGFuZGxlciA9IG5ldyBfQ29udGV4dEhhbmRsZXIyLmRlZmF1bHQoKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmdsID0gbnVsbDtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX2NyZWF0ZUNsYXNzKFdlYkdMTWluaW1hbFJlbmRlcmVyLCBbe1xuXHQgICAgICAgICAgICAgICAga2V5OiAnaW5pdCcsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChjYW52YXMpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIuYWRkKGNhbnZhcyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsID0gKDAsIF9HZXRDb250ZXh0Mi5kZWZhdWx0KShjYW52YXMpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKGNvbG9yKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLmNsZWFyQ29sb3IoY29sb3IucjEsIGNvbG9yLmcxLCBjb2xvci5iMSwgY29sb3IuYTEpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5jbGVhcih0aGlzLmdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1dKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIFdlYkdMTWluaW1hbFJlbmRlcmVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBXZWJHTE1pbmltYWxSZW5kZXJlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQnY3JlYXRlIGluZGV4Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuV2ViR0xOYW5vID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9XZWJHTCA9IF9fd2VicGFja19yZXF1aXJlX18oNzI3KTtcblx0XG5cdHZhciBfV2ViR0wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0wpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuV2ViR0xOYW5vID0gX1dlYkdMMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX0NvbnRleHRIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTIpO1xuXHRcblx0dmFyIF9Db250ZXh0SGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0SGFuZGxlcik7XG5cdFxuXHR2YXIgX0NvbnRleHRPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9Db250ZXh0T3B0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0T3B0aW9ucyk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2V0Q29udGV4dCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBXZWJHTE5hbm8gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gV2ViR0xOYW5vKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gODAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDYwMCA6IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzJdO1xuXHRcblx0ICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJHTE5hbm8pO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uID0geyB4OiAwLCB5OiAwIH07XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0T3B0aW9ucyA9IG5ldyBfQ29udGV4dE9wdGlvbnMyLmRlZmF1bHQoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIgPSBuZXcgX0NvbnRleHRIYW5kbGVyMi5kZWZhdWx0KCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGNhbnZhcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXQod2lkdGgsIGhlaWdodCwgY2FudmFzKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIF9jcmVhdGVDbGFzcyhXZWJHTE5hbm8sIFt7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdpbml0Jyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KHdpZHRoLCBoZWlnaHQsIGNhbnZhcykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0SGFuZGxlci5hZGQoY2FudmFzKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wgPSAoMCwgX0dldENvbnRleHQyLmRlZmF1bHQpKGNhbnZhcyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2wpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTCcpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLmlkID0gMDtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuZGlzYWJsZShnbC5ERVBUSF9URVNUKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5kaXNhYmxlKGdsLkNVTExfRkFDRSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wuZW5hYmxlKGdsLkJMRU5EKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wudmlld3BvcnQoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnggPSB0aGlzLndpZHRoIC8gMjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnkgPSAtdGhpcy5oZWlnaHQgLyAyO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1dKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIFdlYkdMTmFubztcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gV2ViR0xOYW5vO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Mjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdCdjcmVhdGUgaW5kZXgnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gZXhwb3J0cy5Qb2ludFJlbmRlcmVyID0gZXhwb3J0cy5DYW52YXNSZW5kZXJlciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfQ2FudmFzUmVuZGVyZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcyOSk7XG5cdFxuXHR2YXIgX0NhbnZhc1JlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbnZhc1JlbmRlcmVyKTtcblx0XG5cdHZhciBfUG9pbnRSZW5kZXJlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzMwKTtcblx0XG5cdHZhciBfUG9pbnRSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Qb2ludFJlbmRlcmVyKTtcblx0XG5cdHZhciBfV2ViR0xSZW5kZXJlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzMxKTtcblx0XG5cdHZhciBfV2ViR0xSZW5kZXJlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJHTFJlbmRlcmVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLkNhbnZhc1JlbmRlcmVyID0gX0NhbnZhc1JlbmRlcmVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLlBvaW50UmVuZGVyZXIgPSBfUG9pbnRSZW5kZXJlcjIuZGVmYXVsdDtcblx0ZXhwb3J0cy5XZWJHTFJlbmRlcmVyID0gX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfR2V0Q29udGV4dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9HZXRDb250ZXh0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dldENvbnRleHQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgQ2FudmFzUG9pbnRSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBDYW52YXNQb2ludFJlbmRlcmVyKGNhbnZhcykge1xuXHQgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhc1BvaW50UmVuZGVyZXIpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy54ID0gMDtcblx0ICAgICAgICAgICAgICAgIHRoaXMueSA9IDA7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSAzMjtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX2NyZWF0ZUNsYXNzKENhbnZhc1BvaW50UmVuZGVyZXIsIFt7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdpbml0Jyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGNhbnZhcykge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSAoMCwgX0dldENvbnRleHQyLmRlZmF1bHQpKGNhbnZhcyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAndXBkYXRlJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoeCwgeSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54ID0geDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0geTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmMDAnO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QodGhpcy54IC0gdGhpcy5zaXplIC8gMiwgdGhpcy55IC0gdGhpcy5zaXplIC8gMiwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1dKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIENhbnZhc1BvaW50UmVuZGVyZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENhbnZhc1BvaW50UmVuZGVyZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDczMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9MYXplciA9IF9fd2VicGFja19yZXF1aXJlX18oNzA5KTtcblx0XG5cdHZhciBfTGF6ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGF6ZXIpO1xuXHRcblx0dmFyIF9XZWJHTCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ4KTtcblx0XG5cdHZhciBfV2ViR0wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViR0wpO1xuXHRcblx0dmFyIF9DYW52YXNSZW5kZXJlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzI5KTtcblx0XG5cdHZhciBfQ2FudmFzUmVuZGVyZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FudmFzUmVuZGVyZXIpO1xuXHRcblx0dmFyIF9XZWJHTFJlbmRlcmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MzEpO1xuXHRcblx0dmFyIF9XZWJHTFJlbmRlcmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYkdMUmVuZGVyZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgUG9pbnRSZW5kZXJlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFBvaW50UmVuZGVyZXIoY2FudmFzKSB7XG5cdCAgICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBfTGF6ZXIyLmRlZmF1bHQuQVVUTyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50UmVuZGVyZXIpO1xuXHRcblx0ICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcblx0ICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblx0XG5cdCAgICAgICAgdGhpcy5pbml0KHR5cGUpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhQb2ludFJlbmRlcmVyLCBbe1xuXHQgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KHR5cGUpIHtcblx0XG5cdCAgICAgICAgICAgIGlmICgodHlwZSA9PT0gX0xhemVyMi5kZWZhdWx0LkFVVE8gfHwgdHlwZSA9PT0gX0xhemVyMi5kZWZhdWx0LldFQkdMKSAmJiAoMCwgX1dlYkdMMi5kZWZhdWx0KSgpKSB7XG5cdCAgICAgICAgICAgICAgICAvLyAgQ3JlYXRlIGEgV2ViR0wgcmVuZGVyZXJcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgX1dlYkdMUmVuZGVyZXIyLmRlZmF1bHQodGhpcy5jYW52YXMpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gX0xhemVyMi5kZWZhdWx0LldFQkdMO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gIENyZWF0ZSBhIENhbnZhcyByZW5kZXJlclxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBfQ2FudmFzUmVuZGVyZXIyLmRlZmF1bHQodGhpcy5jYW52YXMpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gX0xhemVyMi5kZWZhdWx0LkNBTlZBUztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICd1cGRhdGUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoeCwgeSkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGUoeCwgeSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBQb2ludFJlbmRlcmVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQb2ludFJlbmRlcmVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MzE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX0NvbnRleHRPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTMpO1xuXHRcblx0dmFyIF9Db250ZXh0T3B0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0T3B0aW9ucyk7XG5cdFxuXHR2YXIgX0NvbnRleHRIYW5kbGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MTIpO1xuXHRcblx0dmFyIF9Db250ZXh0SGFuZGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250ZXh0SGFuZGxlcik7XG5cdFxuXHR2YXIgX0dldENvbnRleHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdFxuXHR2YXIgX0dldENvbnRleHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2V0Q29udGV4dCk7XG5cdFxuXHR2YXIgX0NvbXBpbGVTaGFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNCk7XG5cdFxuXHR2YXIgX0NvbXBpbGVTaGFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tcGlsZVNoYWRlcik7XG5cdFxuXHR2YXIgX1Byb2dyYW0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNSk7XG5cdFxuXHR2YXIgX1Byb2dyYW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJvZ3JhbSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBXZWJHTFBvaW50UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gV2ViR0xQb2ludFJlbmRlcmVyKGNhbnZhcykge1xuXHQgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYkdMUG9pbnRSZW5kZXJlcik7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IDA7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0T3B0aW9ucyA9ICgwLCBfQ29udGV4dE9wdGlvbnMyLmRlZmF1bHQpKCk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyID0gbmV3IF9Db250ZXh0SGFuZGxlcjIuZGVmYXVsdCgpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoY2FudmFzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgX2NyZWF0ZUNsYXNzKFdlYkdMUG9pbnRSZW5kZXJlciwgW3tcblx0ICAgICAgICAgICAgICAgIGtleTogJ2luaXQnLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoY2FudmFzKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gY2FudmFzLndpZHRoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyLmFkZChjYW52YXMpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbCA9ICgwLCBfR2V0Q29udGV4dDIuZGVmYXVsdCkoY2FudmFzKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5nbCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBPdXIgc3VwZXIgYmFzaWMgc2hhZGVyc1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlcnRleFNyYyA9IFsnYXR0cmlidXRlIHZlYzQgcG9pbnRQb3NpdGlvbjsnLCAnYXR0cmlidXRlIGZsb2F0IHBvaW50U2l6ZTsnLCAndm9pZCBtYWluKCkgeycsICcgICBnbF9Qb3NpdGlvbiA9IHBvaW50UG9zaXRpb247JywgJyAgIGdsX1BvaW50U2l6ZSA9IHBvaW50U2l6ZTsnLCAnfSddO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdtZW50U3JjID0gWyd2b2lkIG1haW4oKSB7JywgJyAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLCAxLjAsIDAuMCwgMS4wKTsnLCAnfSddO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlciA9ICgwLCBfQ29tcGlsZVNoYWRlcjIuZGVmYXVsdCkodGhpcy5nbCwgdmVydGV4U3JjLCB0aGlzLmdsLlZFUlRFWF9TSEFERVIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSAoMCwgX0NvbXBpbGVTaGFkZXIyLmRlZmF1bHQpKHRoaXMuZ2wsIGZyYWdtZW50U3JjLCB0aGlzLmdsLkZSQUdNRU5UX1NIQURFUik7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgX1Byb2dyYW0yLmRlZmF1bHQodGhpcy5nbCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW0uYXR0YWNoKHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpLmxpbmsoKS51c2UoKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9zID0gdGhpcy5wcm9ncmFtLmdldEF0dHJpYigncG9pbnRQb3NpdGlvbicpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnByb2dyYW0uZ2V0QXR0cmliKCdwb2ludFNpemUnKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliM2YodGhpcy5wb3MsIDAuMCwgMC4wLCAwLjApO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYjFmKHRoaXMuc2l6ZSwgMzIuMCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwge1xuXHQgICAgICAgICAgICAgICAga2V5OiAndXBkYXRlJyxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoeCwgeSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIE1hcCB0byBXZWJHTCBjb29yZGluYXRlIHNwYWNlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjeCA9IHRoaXMud2lkdGggLyAyO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3kgPSB0aGlzLmhlaWdodCAvIDI7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHggPSAoeCAtIGN4KSAvIGN4O1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHkgPSAoY3kgLSB5KSAvIGN5O1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWIzZih0aGlzLnBvcywgdHgsIHR5LCAwLjApO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5jbGVhcih0aGlzLmdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbC5kcmF3QXJyYXlzKHRoaXMuZ2wuUE9JTlRTLCAwLCAxKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICB9XSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBXZWJHTFBvaW50UmVuZGVyZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFdlYkdMUG9pbnRSZW5kZXJlcjtcblxuLyoqKi8gfVxuXG4vKioqKioqLyB9KVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogcmVuZGVyZXJzLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAxYjZmNThhMTc3NDUwODBmMDAxYVxuICoqLyIsImltcG9ydCAqIGFzIGJhdGNoUG9pbnQgZnJvbSAnLi9iYXRjaF9wb2ludCc7XHJcbmltcG9ydCAqIGFzIGJhdGNoVGV4dHVyZSBmcm9tICAnLi9iYXRjaF90ZXh0dXJlJztcclxuaW1wb3J0ICogYXMgbWluaW1hbCBmcm9tICcuL21pbmltYWwnO1xyXG5pbXBvcnQgKiBhcyBuYW5vIGZyb20gJy4vbmFubyc7XHJcbmltcG9ydCAqIGFzIHBvaW50IGZyb20gJy4vcG9pbnQnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIGJhdGNoUG9pbnQsXHJcbiAgICBiYXRjaFRleHR1cmUsXHJcbiAgICBtaW5pbWFsLFxyXG4gICAgbmFubyxcclxuICAgIHBvaW50XHJcbn07XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yZW5kZXJlcnMvaW5kZXguanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHZXRDb250ZXh0IChjYW52YXMsIG9wdGlvbnMpIHtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIG9wdGlvbnMpIHx8IFxyXG4gICAgICAgIG51bGxcclxuICAgICk7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NhbnZhcy9HZXRDb250ZXh0LmpzXG4gKiovIiwiaW1wb3J0IFdlYkdMR2V0Q29udGV4dCBmcm9tICcuLi8uLi93ZWJnbC9HZXRDb250ZXh0LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdlYkdMKCkge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cclxuICAgICAgICBpZiAoV2ViR0xHZXRDb250ZXh0KGNhbnZhcykgPT09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZGV2aWNlL2ZlYXR1cmVzL1dlYkdMLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2V0Q29udGV4dCAoY2FudmFzLCBvcHRpb25zKSB7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKSB8fCBcclxuICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucykgfHwgXHJcbiAgICAgICAgbnVsbFxyXG4gICAgKTtcclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9HZXRDb250ZXh0LmpzXG4gKiovIiwiLyoqXHJcbiAqIENvbnZlcnRzIGFuIEhTViAoaHVlLCBzYXR1cmF0aW9uIGFuZCB2YWx1ZSkgY29sb3IgdmFsdWUgdG8gUkdCLlxyXG4gKiBDb252ZXJzaW9uIGZvcm11bGEgZnJvbSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9jb2xvcl9zcGFjZS5cclxuICogQXNzdW1lcyBIU1YgdmFsdWVzIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMV0gYW5kIHJldHVybnMgciwgZyBhbmQgYiB2YWx1ZXMgaW4gdGhlIHNldCBbMCwgMjU1XS5cclxuICogQmFzZWQgb24gY29kZSBieSBNaWNoYWVsIEphY2tzb24gKGh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uKVxyXG4gKlxyXG4gKiBAbWV0aG9kIGZyb21IU1ZcclxuICogQHBhcmFtIHtudW1iZXJ9IGggLSBUaGUgaHVlLCBpbiB0aGUgcmFuZ2UgMCAtIDEuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzIC0gVGhlIHNhdHVyYXRpb24sIGluIHRoZSByYW5nZSAwIC0gMS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHYgLSBUaGUgdmFsdWUsIGluIHRoZSByYW5nZSAwIC0gMS5cclxuICogQHJldHVybiB7QmFzZUNvbG9yfSBUaGlzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIU1Z0b1JHQiAoaCwgcyA9IDEsIHYgPSAxKSB7XHJcblxyXG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoaCAqIDYpO1xyXG4gICAgY29uc3QgZiA9IGggKiA2IC0gaTtcclxuXHJcbiAgICBjb25zdCBwID0gTWF0aC5mbG9vcigodiAqICgxIC0gcykpICogMjU1KTtcclxuICAgIGNvbnN0IHEgPSBNYXRoLmZsb29yKCh2ICogKDEgLSBmICogcykpICogMjU1KTtcclxuICAgIGNvbnN0IHQgPSBNYXRoLmZsb29yKCh2ICogKDEgLSAoMSAtIGYpICogcykpICogMjU1KTtcclxuXHJcbiAgICB2ID0gTWF0aC5mbG9vcih2ICo9IDI1NSk7XHJcblxyXG4gICAgY29uc3QgciA9IGkgJSA2O1xyXG5cclxuICAgIGlmIChyID09PSAwKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB7IHI6IHYsIGc6IHQsIGI6IHAgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHIgPT09IDEpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHsgcjogcSwgZzogdiwgYjogcCB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAociA9PT0gMilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4geyByOiBwLCBnOiB2LCBiOiB0IH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChyID09PSAzKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB7IHI6IHAsIGc6IHEsIGI6IHYgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHIgPT09IDQpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHsgcjogdCwgZzogcCwgYjogdiB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAociA9PT0gNSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4geyByOiB2LCBnOiBwLCBiOiBxIH07XHJcbiAgICB9XHJcbiAgICBcclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2dyYXBoaWNzL2NvbG9yL0hTVnRvUkdCLmpzXG4gKiovIiwiaW1wb3J0IEdldENvbG9yIGZyb20gJy4vR2V0Q29sb3IuanMnO1xyXG5pbXBvcnQgR2V0Q29sb3IzMiBmcm9tICcuL0dldENvbG9yMzIuanMnO1xyXG5pbXBvcnQgUkdCdG9TdHJpbmcgZnJvbSAnLi9SR0J0b1N0cmluZy5qcyc7XHJcbmltcG9ydCBIU1Z0b1JHQiBmcm9tICcuL0hTVnRvUkdCLmpzJztcclxuaW1wb3J0IEhTTHRvUkdCIGZyb20gJy4vSFNMdG9SR0IuanMnO1xyXG5pbXBvcnQgUmFuZG9tUkdCIGZyb20gJy4vUmFuZG9tUkdCLmpzJztcclxuaW1wb3J0IENvbG9yVG9SR0IgZnJvbSAnLi9Db2xvclRvUkdCLmpzJztcclxuaW1wb3J0ICogYXMgTGluZWFySW50ZXJwb2xhdGlvbiBmcm9tICcuL0xpbmVhckludGVycG9sYXRpb24uanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZUNvbG9yIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAocmVkID0gMCwgZ3JlZW4gPSAwLCBibHVlID0gMCwgYWxwaGEgPSAyNTUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yID0gcmVkO1xyXG4gICAgICAgIHRoaXMuZyA9IGdyZWVuO1xyXG4gICAgICAgIHRoaXMuYiA9IGJsdWU7XHJcbiAgICAgICAgdGhpcy5hID0gYWxwaGE7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBuZXcgRmxvYXQzMkFycmF5KFsgMC4wLCAwLjAsIDAuMCwgMS4wIF0pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbG9yID0gMDtcclxuICAgICAgICB0aGlzLmNvbG9yMzIgPSAwO1xyXG4gICAgICAgIHRoaXMucmdiYSA9ICcnO1xyXG5cclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHIxICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nbFswXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZzEgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdsWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBiMSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xbMl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGExICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nbFszXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVkICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBncmVlbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYmx1ZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWxwaGEgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmE7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHJlZCAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLnIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5hYnModmFsdWUpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yID0gTWF0aC5taW4odmFsdWUsIDI1NSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2xbMF0gPSB0aGlzLnIgLyAyNTU7XHJcblxyXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXQgZ3JlZW4gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKE1hdGguYWJzKHZhbHVlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZyA9IE1hdGgubWluKHZhbHVlLCAyNTUpO1xyXG5cclxuICAgICAgICB0aGlzLmdsWzFdID0gdGhpcy5nIC8gMjU1O1xyXG5cclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGJsdWUgKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5iKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKE1hdGguYWJzKHZhbHVlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuYiA9IE1hdGgubWluKHZhbHVlLCAyNTUpO1xyXG5cclxuICAgICAgICB0aGlzLmdsWzJdID0gdGhpcy5iIC8gMjU1O1xyXG5cclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGFscGhhICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhbHVlID0gTWF0aC5mbG9vcihNYXRoLmFicyh2YWx1ZSkpO1xyXG5cclxuICAgICAgICB0aGlzLmEgPSBNYXRoLm1pbih2YWx1ZSwgMjU1KTtcclxuXHJcbiAgICAgICAgdGhpcy5nbFszXSA9IHRoaXMuYSAvIDI1NTtcclxuXHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBBc3N1bWVzIGFsbCB2YWx1ZXMgYXJlIHZhbGlkIGFuZCB3aXRoaW4gcmFuZ2UgKDAgLSAyNTUpXHJcbiAgICAvLyAgYW5kIGFyZSBhbHdheXMgZGlydHlcclxuICAgIHNldFJHQiAociwgZywgYiwgYSA9IDI1NSkge1xyXG5cclxuICAgICAgICB0aGlzLnIgPSByO1xyXG4gICAgICAgIHRoaXMuZyA9IGc7XHJcbiAgICAgICAgdGhpcy5iID0gYjtcclxuICAgICAgICB0aGlzLmEgPSBhO1xyXG5cclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBTYW1lIGFzIHNldFJHQiBidXQgcGVyZm9ybXMgc2FmZXR5IGNoZWNrcyBvbiBhbGwgdGhlIHZhbHVlcyBnaXZlblxyXG4gICAgZnJvbVJHQiAociwgZywgYiwgYSA9IDI1NSkge1xyXG5cclxuICAgICAgICB0aGlzLnJlZCA9IHI7XHJcbiAgICAgICAgdGhpcy5ncmVlbiA9IGc7XHJcbiAgICAgICAgdGhpcy5ibHVlID0gYjtcclxuICAgICAgICB0aGlzLmFscGhhID0gYTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZyb21Db2xvciAoY29sb3IpIHtcclxuXHJcbiAgICAgICAgbGV0IHsgciwgZywgYiwgYSB9ID0gQ29sb3JUb1JHQihjb2xvcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnNldFJHQihyLCBnLCBiLCBhKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnJvbVJhbmRvbSAobWluID0gMCwgbWF4ID0gMjU1KSB7XHJcblxyXG4gICAgICAgIGxldCB7IHIsIGcsIGIgfSA9IFJhbmRvbVJHQihtaW4sIG1heCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnNldFJHQihyLCBnLCBiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBhbiBIU1YgKGh1ZSwgc2F0dXJhdGlvbiBhbmQgdmFsdWUpIGNvbG9yIHZhbHVlIHRvIFJHQi5cclxuICAgICAqIENvbnZlcnNpb24gZm9ydW1sYSBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxyXG4gICAgICogQXNzdW1lcyBIU1YgdmFsdWVzIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMV0gYW5kIHJldHVybnMgciwgZyBhbmQgYiB2YWx1ZXMgaW4gdGhlIHNldCBbMCwgMjU1XS5cclxuICAgICAqIEJhc2VkIG9uIGNvZGUgYnkgTWljaGFlbCBKYWNrc29uIChodHRwczovL2dpdGh1Yi5jb20vbWppamFja3NvbilcclxuICAgICAqXHJcbiAgICAgKiBAbWV0aG9kIGZyb21IU1ZcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoIC0gVGhlIGh1ZSwgaW4gdGhlIHJhbmdlIDAgLSAxLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHMgLSBUaGUgc2F0dXJhdGlvbiwgaW4gdGhlIHJhbmdlIDAgLSAxLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHYgLSBUaGUgdmFsdWUsIGluIHRoZSByYW5nZSAwIC0gMS5cclxuICAgICAqIEByZXR1cm4ge0Jhc2VDb2xvcn0gVGhpc1xyXG4gICAgICovXHJcbiAgICBmcm9tSFNWIChoLCBzID0gMSwgdiA9IDEpIHtcclxuXHJcbiAgICAgICAgbGV0IHsgciwgZywgYiB9ID0gSFNWdG9SR0IoaCwgcywgdik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmZyb21SR0IociwgZywgYik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZyb21IU1ZDb2xvcldoZWVsIChjID0gMCwgcyA9IDEsIHYgPSAxKSB7XHJcblxyXG4gICAgICAgIGMgPSBNYXRoLm1pbihNYXRoLmFicyhjKSwgMzU5KSAvIDM1OTtcclxuXHJcbiAgICAgICAgbGV0IHsgciwgZywgYiB9ID0gSFNWdG9SR0IoYywgcywgdik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmZyb21SR0IociwgZywgYik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZyb21IU0wgKGgsIHMsIGwpIHtcclxuXHJcbiAgICAgICAgbGV0IHsgciwgZywgYiB9ID0gSFNMdG9SR0IoaCwgcywgbCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmZyb21SR0IociwgZywgYik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZyb21IU0xDb2xvcldoZWVsIChjID0gMCwgcyA9IDEsIGwgPSAwLjUpIHtcclxuXHJcbiAgICAgICAgYyA9IE1hdGgubWluKE1hdGguYWJzKGMpLCAzNTkpIC8gMzU5O1xyXG5cclxuICAgICAgICBsZXQgeyByLCBnLCBiIH0gPSBIU0x0b1JHQihjLCBzLCBsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVJHQihyLCBnLCBiKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnJvbUludGVycG9sYXRpb24gKGNvbG9yMSwgY29sb3IyLCBsZW5ndGgsIGluZGV4KSB7XHJcblxyXG4gICAgICAgIGxldCB7IHIsIGcsIGIgfSA9IExpbmVhckludGVycG9sYXRpb24uY29sb3JXaXRoQ29sb3IoY29sb3IxLCBjb2xvcjIsIGxlbmd0aCwgaW5kZXgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHIsIGcsIGIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbnRlcnBvbGF0ZVdpdGggKGNvbG9yLCBsZW5ndGgsIGluZGV4KSB7XHJcblxyXG4gICAgICAgIGxldCB7IHIsIGcsIGIgfSA9IExpbmVhckludGVycG9sYXRpb24uY29sb3JXaXRoQ29sb3IodGhpcywgY29sb3IsIGxlbmd0aCwgaW5kZXgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tUkdCKHIsIGcsIGIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjbG9uZSAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgQmFzZUNvbG9yKHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvcHlGcm9tIChjb2xvcikge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgY29sb3IuYSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNvcHlUbyAoY29sb3IpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbG9yLnNldFJHQih0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmEpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBlcXVhbHMgKGNvbG9yKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICh0aGlzLnIgPT09IGNvbG9yLnIpICYmXHJcbiAgICAgICAgICAgICh0aGlzLmcgPT09IGNvbG9yLmcpICYmXHJcbiAgICAgICAgICAgICh0aGlzLmIgPT09IGNvbG9yLmIpICYmXHJcbiAgICAgICAgICAgICh0aGlzLmEgPT09IGNvbG9yLmEpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlICgpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmRpcnR5KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbG9yID0gR2V0Q29sb3IodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XHJcbiAgICAgICAgdGhpcy5jb2xvcjMyID0gR2V0Q29sb3IzMih0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmEpO1xyXG4gICAgICAgIHRoaXMucmdiYSA9IGByZ2JhKCR7dGhpcy5yfSwgJHt0aGlzLmd9LCAke3RoaXMuYn0sICR7MjU1IC8gdGhpcy5hfSlgO1xyXG5cclxuICAgICAgICB0aGlzLmdsWzBdID0gdGhpcy5yIC8gMjU1O1xyXG4gICAgICAgIHRoaXMuZ2xbMV0gPSB0aGlzLmcgLyAyNTU7XHJcbiAgICAgICAgdGhpcy5nbFsyXSA9IHRoaXMuYiAvIDI1NTtcclxuICAgICAgICB0aGlzLmdsWzNdID0gdGhpcy5hIC8gMjU1O1xyXG5cclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b0dMICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2w7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRvU3RyaW5nIChwcmVmaXggPSAnIycpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIFJHQnRvU3RyaW5nKHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSwgcHJlZml4KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNyZWF0ZSAoY29sb3IpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlQ29sb3IoKS5mcm9tQ29sb3IoY29sb3IpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlUmFuZG9tIChtaW4sIG1heCkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJhc2VDb2xvcigpLmZyb21SYW5kb20obWluLCBtYXgpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9ncmFwaGljcy9jb2xvci9CYXNlQ29sb3IuanNcbiAqKi8iLCIvKipcclxuICogR2l2ZW4gMyBjb2xvciB2YWx1ZXMgdGhpcyB3aWxsIHJldHVybiBhbiBpbnRlZ2VyIHJlcHJlc2VudGF0aW9uIG9mIGl0LlxyXG4gKlxyXG4gKiBAbWV0aG9kIGdldENvbG9yXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gciAtIFRoZSByZWQgY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IGcgLSBUaGUgZ3JlZW4gY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IGIgLSBUaGUgYmx1ZSBjb2xvciBjb21wb25lbnQgaW4gdGhlIHJhbmdlIDAgLSAyNTUuXHJcbiAqIEByZXR1cm4ge2ludGVnZXJ9IEEgbmF0aXZlIGNvbG9yIHZhbHVlIGludGVnZXIgKGZvcm1hdDogMHhSUkdHQkIpLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2V0Q29sb3IociwgZywgYikge1xyXG5cclxuICAgIHJldHVybiByIDw8IDE2IHwgZyA8PCA4IHwgYjtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZ3JhcGhpY3MvY29sb3IvR2V0Q29sb3IuanNcbiAqKi8iLCIvKipcclxuICogR2l2ZW4gYW4gYWxwaGEgYW5kIDMgY29sb3IgdmFsdWVzIHRoaXMgd2lsbCByZXR1cm4gYW4gaW50ZWdlciByZXByZXNlbnRhdGlvbiBvZiBpdC5cclxuICpcclxuICogQG1ldGhvZCBnZXRDb2xvcjMyXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gciAtIFRoZSByZWQgY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IGcgLSBUaGUgZ3JlZW4gY29sb3IgY29tcG9uZW50IGluIHRoZSByYW5nZSAwIC0gMjU1LlxyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IGIgLSBUaGUgYmx1ZSBjb2xvciBjb21wb25lbnQgaW4gdGhlIHJhbmdlIDAgLSAyNTUuXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gYSAtIFRoZSBhbHBoYSBjb2xvciBjb21wb25lbnQgaW4gdGhlIHJhbmdlIDAgLSAyNTUuXHJcbiAqIEByZXR1cm4ge2ludGVnZXJ9IEEgbmF0aXZlIGNvbG9yIHZhbHVlIGludGVnZXIgKGZvcm1hdDogMHhBQVJSR0dCQikuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHZXRDb2xvcjMyKHIsIGcsIGIsIGEpIHtcclxuXHJcbiAgICByZXR1cm4gYSA8PCAyNCB8IHIgPDwgMTYgfCBnIDw8IDggfCBiO1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9ncmFwaGljcy9jb2xvci9HZXRDb2xvcjMyLmpzXG4gKiovIiwiaW1wb3J0IENvbXBvbmVudFRvSGV4IGZyb20gJy4vQ29tcG9uZW50VG9IZXguanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUkdCdG9TdHJpbmcociwgZywgYiwgYSA9IDI1NSwgcHJlZml4ID0gJyMnKSB7XHJcblxyXG4gICAgaWYgKHByZWZpeCA9PT0gJyMnKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAnIycgKyAoKDEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiKS50b1N0cmluZygxNikuc2xpY2UoMSk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuICcweCcgKyBDb21wb25lbnRUb0hleChhKSArIENvbXBvbmVudFRvSGV4KHIpICsgQ29tcG9uZW50VG9IZXgoZykgKyBDb21wb25lbnRUb0hleChiKTtcclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZ3JhcGhpY3MvY29sb3IvUkdCdG9TdHJpbmcuanNcbiAqKi8iLCIvKipcclxuKiBSZXR1cm4gYSBzdHJpbmcgY29udGFpbmluZyBhIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gY29sb3IgY29tcG9uZW50LlxyXG4qXHJcbiogQHBhcmFtIHtpbnRlZ2VyfSBjb2xvciAtIFRoZSBjb2xvciBjaGFubmVsIHRvIGdldCB0aGUgaGV4IHZhbHVlIGZvciwgbXVzdCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1LlxyXG4qIEByZXR1cm4ge3N0cmluZ30gQSBzdHJpbmcgb2YgbGVuZ3RoIDIgY2hhcmFjdGVycywgaS5lLiAyNTUgPSBmZiwgMTAwID0gNjQuXHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudFRvSGV4KGNvbG9yKSB7XHJcblxyXG4gICAgY29uc3QgaGV4ID0gY29sb3IudG9TdHJpbmcoMTYpO1xyXG5cclxuICAgIHJldHVybiAoaGV4Lmxlbmd0aCA9PT0gMSkgPyAnMCcgKyBoZXggOiBoZXg7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2dyYXBoaWNzL2NvbG9yL0NvbXBvbmVudFRvSGV4LmpzXG4gKiovIiwiaW1wb3J0IEh1ZVRvQ29sb3IgZnJvbSAnLi9IdWVUb0NvbG9yLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhTTHRvUkdCKGgsIHMsIGwpIHtcclxuXHJcbiAgICAvLyBhY2hyb21hdGljIGJ5IGRlZmF1bHRcclxuICAgIGxldCByID0gbDtcclxuICAgIGxldCBnID0gbDtcclxuICAgIGxldCBiID0gbDtcclxuXHJcbiAgICBpZiAocyAhPT0gMClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBxID0gKGwgPCAwLjUpID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xyXG4gICAgICAgIGNvbnN0IHAgPSAyICogbCAtIHE7XHJcblxyXG4gICAgICAgIHIgPSBIdWVUb0NvbG9yKHAsIHEsIGggKyAxIC8gMyk7XHJcbiAgICAgICAgZyA9IEh1ZVRvQ29sb3IocCwgcSwgaCk7XHJcbiAgICAgICAgYiA9IEh1ZVRvQ29sb3IocCwgcSwgaCAtIDEgLyAzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2dyYXBoaWNzL2NvbG9yL0hTTHRvUkdCLmpzXG4gKiovIiwiLyoqXHJcbiogQ29udmVydHMgYSBodWUgdG8gYW4gUkdCIGNvbG9yLlxyXG4qIEJhc2VkIG9uIGNvZGUgYnkgTWljaGFlbCBKYWNrc29uIChodHRwczovL2dpdGh1Yi5jb20vbWppamFja3NvbilcclxuKlxyXG4qIEBtZXRob2QgTGF6ZXIuQ29sb3IuaHVlVG9Db2xvclxyXG4qIEBwYXJhbSB7bnVtYmVyfSBwXHJcbiogQHBhcmFtIHtudW1iZXJ9IHFcclxuKiBAcGFyYW0ge251bWJlcn0gdFxyXG4qIEByZXR1cm4ge251bWJlcn0gVGhlIGNvbG9yIGNvbXBvbmVudCB2YWx1ZS5cclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSHVlVG9Db2xvcihwLCBxLCB0KSB7XHJcblxyXG4gICAgaWYgKHQgPCAwKVxyXG4gICAge1xyXG4gICAgICAgIHQgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodCA+IDEpXHJcbiAgICB7XHJcbiAgICAgICAgdCAtPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0IDwgMSAvIDYpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHQgPCAxIC8gMilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gcTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodCA8IDIgLyAzKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcDtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZ3JhcGhpY3MvY29sb3IvSHVlVG9Db2xvci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJhbmRvbVJHQihtaW4gPSAwLCBtYXggPSAyNTUpIHtcclxuXHJcbiAgICBjb25zdCByID0gbWluICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpO1xyXG4gICAgY29uc3QgZyA9IG1pbiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKTtcclxuICAgIGNvbnN0IGIgPSBtaW4gKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSk7XHJcblxyXG4gICAgcmV0dXJuIHsgciwgZywgYiB9O1xyXG4gICAgXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9ncmFwaGljcy9jb2xvci9SYW5kb21SR0IuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xvclRvUkdCKGNvbG9yKSB7XHJcblxyXG4gICAgaWYgKGNvbG9yID4gMTY3NzcyMTUpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgYSA9IGNvbG9yID4+PiAyNDtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICBjb25zdCBhID0gMjU1O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHIgPSBjb2xvciA+PiAxNiAmIDB4RkY7XHJcbiAgICBjb25zdCBnID0gY29sb3IgPj4gOCAmIDB4RkY7XHJcbiAgICBjb25zdCBiID0gY29sb3IgJiAweEZGO1xyXG5cclxuICAgIHJldHVybiB7IHIsIGcsIGIsIGEgfTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZ3JhcGhpY3MvY29sb3IvQ29sb3JUb1JHQi5qc1xuICoqLyIsImltcG9ydCBMaW5lYXIgZnJvbSAnLi4vLi4vbWF0aC9MaW5lYXIuanMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbG9yV2l0aENvbG9yIChjb2xvcjEsIGNvbG9yMiwgbGVuZ3RoID0gMTAwLCBpbmRleCA9IDApIHtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5SR0J3aXRoUkdCKGNvbG9yMS5yLCBjb2xvcjEuZywgY29sb3IxLmIsIGNvbG9yMi5yLCBjb2xvcjIuZywgY29sb3IyLmIsIGxlbmd0aCwgaW5kZXgpO1xyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb2xvcldpdGhSR0IgKGNvbG9yLCByLCBnLCBiLCBsZW5ndGggPSAxMDAsIGluZGV4ID0gMCkge1xyXG5cclxuICAgIHJldHVybiB0aGlzLlJHQndpdGhSR0IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYiwgciwgZywgYiwgbGVuZ3RoLCBpbmRleCk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUkdCd2l0aFJHQiAocjEsIGcxLCBiMSwgcjIsIGcyLCBiMiwgbGVuZ3RoID0gMTAwLCBpbmRleCA9IDApIHtcclxuXHJcbiAgICBjb25zdCB0ID0gaW5kZXggLyBsZW5ndGg7XHJcblxyXG4gICAgY29uc3QgciA9IExpbmVhcihyMSwgcjIsIHQpO1xyXG4gICAgY29uc3QgZyA9IExpbmVhcihnMSwgZzIsIHQpO1xyXG4gICAgY29uc3QgYiA9IExpbmVhcihiMSwgYjIsIHQpO1xyXG5cclxuICAgIHJldHVybiB7IHIsIGcsIGIgfTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZ3JhcGhpY3MvY29sb3IvTGluZWFySW50ZXJwb2xhdGlvbi5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExpbmVhcihwMCwgcDEsIHQpIHtcclxuXHJcbiAgICByZXR1cm4gKHAxIC0gcDApICogdCArIHAwO1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tYXRoL0xpbmVhci5qc1xuICoqLyIsImNvbnN0IExhemVyID0ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBVVRPIHJlbmRlcmVyIC0gcGlja3MgYmV0d2VlbiBXZWJHTCBvciBDYW52YXMgYmFzZWQgb24gZGV2aWNlLlxyXG4gICAgKiBAY29uc3RhbnRcclxuICAgICogQHR5cGUge2ludGVnZXJ9XHJcbiAgICAqL1xyXG4gICAgQVVUTzogMCxcclxuXHJcbiAgICAvKipcclxuICAgICogQ2FudmFzIFJlbmRlcmVyLlxyXG4gICAgKiBAY29uc3RhbnRcclxuICAgICogQHR5cGUge2ludGVnZXJ9XHJcbiAgICAqL1xyXG4gICAgQ0FOVkFTOiAxLFxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBXZWJHTCBSZW5kZXJlci5cclxuICAgICogQGNvbnN0YW50XHJcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxyXG4gICAgKi9cclxuICAgIFdFQkdMOiAyLFxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBIZWFkbGVzcyByZW5kZXJlciAobm90IHZpc3VhbCBvdXRwdXQpXHJcbiAgICAqIEBjb25zdGFudFxyXG4gICAgKiBAdHlwZSB7aW50ZWdlcn1cclxuICAgICovXHJcbiAgICBIRUFETEVTUzogM1xyXG5cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IExhemVyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL0xhemVyLmpzXG4gKiovIiwiaW1wb3J0IFdlYkdMQmF0Y2hlZFBvaW50IGZyb20gJy4vV2ViR0xCYXRjaGVkUG9pbnQuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIFdlYkdMQmF0Y2hlZFBvaW50XHJcbn07XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yZW5kZXJlcnMvYmF0Y2hfcG9pbnQvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgV2ViR0xDb250ZXh0SGFuZGxlciBmcm9tICcuLi8uLi93ZWJnbC9Db250ZXh0SGFuZGxlci5qcyc7XHJcbmltcG9ydCBXZWJHTENvbnRleHRPcHRpb25zIGZyb20gJy4uLy4uL3dlYmdsL0NvbnRleHRPcHRpb25zLmpzJztcclxuaW1wb3J0IFdlYkdMR2V0Q29udGV4dCBmcm9tICcuLi8uLi93ZWJnbC9HZXRDb250ZXh0LmpzJztcclxuaW1wb3J0IENvbXBpbGVTaGFkZXIgZnJvbSAnLi4vLi4vd2ViZ2wvQ29tcGlsZVNoYWRlci5qcyc7XHJcbmltcG9ydCBXZWJHTFByb2dyYW0gZnJvbSAnLi4vLi4vd2ViZ2wvUHJvZ3JhbS5qcyc7XHJcbmltcG9ydCBWZXJ0ZXhBcnJheUJ1ZmZlciBmcm9tICcuLi8uLi93ZWJnbC92Ym8vVmVydGV4QXJyYXlCdWZmZXIuanMnO1xyXG5pbXBvcnQgQWRkVmVydCBmcm9tICcuLi8uLi93ZWJnbC92Ym8vQWRkVmVydC5qcyc7XHJcbmltcG9ydCAqIGFzIEF0dHJpYnV0ZSBmcm9tICcuLi8uLi93ZWJnbC9BdHRyaWJ1dGUuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViR0xCYXRjaGVkUG9pbnRSZW5kZXJlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGNhbnZhcykge1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gMDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dE9wdGlvbnMgPSBXZWJHTENvbnRleHRPcHRpb25zKCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0SGFuZGxlciA9IG5ldyBXZWJHTENvbnRleHRIYW5kbGVyKCk7XHJcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgVmVydGV4QXJyYXlCdWZmZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGNhbnZhcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoY2FudmFzKSB7XHJcblxyXG4gICAgICAgIHRoaXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyLmFkZChjYW52YXMpO1xyXG5cclxuICAgICAgICB0aGlzLmdsID0gV2ViR0xHZXRDb250ZXh0KGNhbnZhcyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5nbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5ERVBUSF9URVNUKTtcclxuICAgICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5DVUxMX0ZBQ0UpO1xyXG5cclxuICAgICAgICAvLyAgdGVzdGluZyBibGVuZCBtb2RlXHJcbiAgICAgICAgdGhpcy5nbC5lbmFibGUodGhpcy5nbC5CTEVORCk7XHJcbiAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmModGhpcy5nbC5TUkNfQUxQSEEsIHRoaXMuZ2wuRFNUX0FMUEhBKTtcclxuXHJcblxyXG4gICAgICAgIGxldCB2ZXJ0ZXhTcmMgPSBbXHJcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjNCBwb2ludFBvc2l0aW9uOycsXHJcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsXHJcblxyXG4gICAgICAgICAgICAndm9pZCBtYWluKCkgeycsXHJcbiAgICAgICAgICAgICcgICBnbF9Qb3NpdGlvbiA9IHBvaW50UG9zaXRpb247JyxcclxuICAgICAgICAgICAgJyAgIGdsX1BvaW50U2l6ZSA9IDYuMDsnLFxyXG4gICAgICAgICAgICAnICAgZmxvYXQgdXZ4ID0gMC41ICsgcG9pbnRQb3NpdGlvbi54OycsXHJcbiAgICAgICAgICAgICcgICBmbG9hdCB1dnkgPSAwLjUgKyBwb2ludFBvc2l0aW9uLnk7JyxcclxuICAgICAgICAgICAgJyAgIHZDb2xvciA9IHZlYzQodXZ4LCB1dnksIDEuMCwgMS4wKTsnLFxyXG4gICAgICAgICAgICAnfSdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBsZXQgZnJhZ21lbnRTcmMgPSBbXHJcbiAgICAgICAgICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxyXG4gICAgICAgICAgICAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLFxyXG5cclxuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHsnLFxyXG4gICAgICAgICAgICAnICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yOycsXHJcbiAgICAgICAgICAgICd9J1xyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIHZlYzQoMS4wLCAwLjAsIDEuMCwgMS4wKTtcclxuXHJcbiAgICAgICAgbGV0IHZlcnRleFNoYWRlciA9IENvbXBpbGVTaGFkZXIodGhpcy5nbCwgdmVydGV4U3JjLCB0aGlzLmdsLlZFUlRFWF9TSEFERVIpO1xyXG4gICAgICAgIGxldCBmcmFnbWVudFNoYWRlciA9IENvbXBpbGVTaGFkZXIodGhpcy5nbCwgZnJhZ21lbnRTcmMsIHRoaXMuZ2wuRlJBR01FTlRfU0hBREVSKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbmV3IFdlYkdMUHJvZ3JhbSh0aGlzLmdsKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmFtLmF0dGFjaCh2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKS5saW5rKCkudXNlKCk7XHJcblxyXG4gICAgICAgIC8vICBQb3B1bGF0ZSB0aGUgdmVydGV4IGJ1ZmZlclxyXG5cclxuICAgICAgICAvLyAgMiB2ZXJ0cyBwZXIgZWxlbWVudCwgMTAwMCBlbGVtZW50cyBpbiB0b3RhbFxyXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLmNyZWF0ZSh0aGlzLmdsLCAyLCAxMDAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3MgPSBBdHRyaWJ1dGUuY3JlYXRlRmxvYXQodGhpcy5nbCwgdGhpcy5wcm9ncmFtLnByb2dyYW0sICdwb2ludFBvc2l0aW9uJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExvY2FsWCAoeCkge1xyXG5cclxuICAgICAgICBjb25zdCBjeCA9IHRoaXMud2lkdGggLyAyO1xyXG5cclxuICAgICAgICByZXR1cm4gKHggLSBjeCkgLyBjeDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9jYWxZICh5KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGN5ID0gdGhpcy5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICByZXR1cm4gKGN5IC0geSkgLyBjeTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5yZXNldCgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRQb2ludCAoeCwgeSkge1xyXG5cclxuICAgICAgICAvLyAgTWFwIHRvIFdlYkdMIGNvb3JkaW5hdGUgc3BhY2VcclxuICAgICAgICBBZGRWZXJ0KHRoaXMudmVydGV4QnVmZmVyLCB0aGlzLmdldExvY2FsWCh4KSwgdGhpcy5nZXRMb2NhbFkoeSkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRUcmkgKHgsIHksIHdpZHRoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkUG9pbnQoeCwgeSAtIGgpOyAgICAgICAgLy8gdG9wXHJcbiAgICAgICAgdGhpcy5hZGRQb2ludCh4IC0gaCwgeSArIGgpOyAgICAvLyBsZWZ0XHJcbiAgICAgICAgdGhpcy5hZGRQb2ludCh4ICsgaCwgeSArIGgpOyAgICAvLyByaWdodFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBidWZmZXJTdGF0aWMgKCkge1xyXG5cclxuICAgICAgICAvLyAgQXMgc29vbiBhcyB5b3UgYmluZCBpdCwgdGhlIGRhdGEgaXMgd3JpdHRlbiBhbmQgbmVlZHMgcmUtYmluZGluZyBpZiB1cGRhdGVkXHJcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuYnVmZmVyRGF0YSh0aGlzLmdsLCB0aGlzLmdsLlNUQVRJQ19EUkFXKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYnVmZmVyRHluYW1pYyAoKSB7XHJcblxyXG4gICAgICAgIC8vICBBcyBzb29uIGFzIHlvdSBiaW5kIGl0LCB0aGUgZGF0YSBpcyB3cml0dGVuIGFuZCBuZWVkcyByZS1iaW5kaW5nIGlmIHVwZGF0ZWRcclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5idWZmZXJEYXRhKHRoaXMuZ2wsIHRoaXMuZ2wuRFlOQU1JQ19EUkFXKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyIChtb2RlID0gdGhpcy5nbC5QT0lOVCkge1xyXG5cclxuICAgICAgICB0aGlzLmdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wuY2xlYXIodGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5kcmF3QXJyYXlzKG1vZGUsIDAsIHRoaXMudmVydGV4QnVmZmVyLnRvdGFsKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTGluZXMgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmdsLkxJTkVTKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTGluZVN0cmlwICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5nbC5MSU5FX1NUUklQKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTGluZUxvb3AgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmdsLkxJTkVfTE9PUCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRyaWFuZ2xlcyAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKHRoaXMuZ2wuVFJJQU5HTEVTKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyVHJpYW5nbGVTdHJpcCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKHRoaXMuZ2wuVFJJQU5HTEVfU1RSSVApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJUcmlhbmdsZUZhbiAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyKHRoaXMuZ2wuVFJJQU5HTEVfRkFOKTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVuZGVyZXJzL2JhdGNoX3BvaW50L1dlYkdMQmF0Y2hlZFBvaW50LmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViR0xDb250ZXh0SGFuZGxlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGNhbnZhcykge1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0TG9zdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoY2FudmFzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5hZGQoY2FudmFzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZCAoY2FudmFzKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMubG9zdCwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5yZXN0b3JlZCwgZmFsc2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsb3N0IChldmVudCkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViR0wgQ29udGV4dCBMb3N0Jyk7XHJcblxyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dExvc3QgPSB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXN0b3JlZCAoKSB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJHTCBDb250ZXh0IHJlc3RvcmVkJyk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dExvc3QgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gZW1wdHkgYWxsIHRoZSBvbGQgZ2wgdGV4dHVyZXMgYXMgdGhleSBhcmUgdXNlbGVzcyBub3dcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMubG9zdCk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLnJlc3RvcmVkKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvQ29udGV4dEhhbmRsZXIuanNcbiAqKi8iLCJcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2ViR0xDb250ZXh0T3B0aW9ucyAoeyBhbHBoYSA9IGZhbHNlLCBhbnRpYWxpYXMgPSB0cnVlLCBwcmVtdWx0aXBsaWVkQWxwaGEgPSBmYWxzZSwgc3RlbmNpbCA9IGZhbHNlLCBwcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZSB9ID0ge30pIHtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFscGhhOiBhbHBoYSxcclxuICAgICAgICBhbnRpYWxpYXM6IGFudGlhbGlhcyxcclxuICAgICAgICBwcmVtdWx0aXBsaWVkQWxwaGE6IHByZW11bHRpcGxpZWRBbHBoYSxcclxuICAgICAgICBzdGVuY2lsOiBzdGVuY2lsLFxyXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogcHJlc2VydmVEcmF3aW5nQnVmZmVyXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL0NvbnRleHRPcHRpb25zLmpzXG4gKiovIiwiLyoqXHJcbiAqIENvbXBpbGVTaGFkZXJcclxuICogXHJcbiAqIEBwYXJhbSAge29iamVjdH0gZ2wgLSBXZWJHTCBDb250ZXh0XHJcbiAqIEBwYXJhbSAge3N0cmluZ3xhcnJheX0gc3JjIC0gU2hhZGVyIHNvdXJjZSBjb2RlXHJcbiAqIEBwYXJhbSAge2ludGVnZXJ9IHR5cGUgLSBUeXBlIG9mIHNoYWRlci4gRWl0aGVyIGdsLlZFUlRFWF9TSEFERVIgb3IgZ2wuRlJBR01FTlRfU0hBREVSXHJcbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSBUaGUgY29tcGlsZWQgc2hhZGVyLCBvciBudWxsIGlmIHNoYWRlciBjb3VsZCBub3QgY29tcGlsZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBpbGVTaGFkZXIoZ2wsIHNyYywgdHlwZSkge1xyXG5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KHNyYykpXHJcbiAgICB7XHJcbiAgICAgICAgc3JjID0gc3JjLmpvaW4oJ1xcbicpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcblxyXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcclxuXHJcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY29tcGlsZSBzaGFkZXI6ICcgKyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG5cclxuICAgICAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL0NvbXBpbGVTaGFkZXIuanNcbiAqKi8iLCJpbXBvcnQgKiBhcyBBdHRyaWJ1dGUgZnJvbSAnLi9BdHRyaWJ1dGUuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViR0xQcm9ncmFtIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoZ2wpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xyXG5cclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wcm9ncmFtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJHTFByb2dyYW0gLSB1bmFibGUgdG8gY3JlYXRlUHJvZ3JhbSBvbiBnbCBjb250ZXh0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXR0cmliIChuYW1lKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBBdHRyaWJ1dGUuZ2V0KHRoaXMuZ2wsIHRoaXMucHJvZ3JhbSwgbmFtZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaCAoLi4uc2hhZGVycykge1xyXG5cclxuICAgICAgICBmb3IgKGxldCBzaGFkZXIgb2Ygc2hhZGVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSwgc2hhZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2hBbmREZWxldGUgKC4uLnNoYWRlcnMpIHtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgc2hhZGVyIG9mIHNoYWRlcnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmdsLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sIHNoYWRlcik7XHJcbiAgICAgICAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbGluayAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0aGlzLnByb2dyYW0sIHRoaXMuZ2wuTElOS19TVEFUVVMpO1xyXG5cclxuICAgICAgICBpZiAoIXJlc3VsdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBlcnJvciA9IHRoaXMuZ2wuZ2V0UHJvZ3JhbUluZm9Mb2codGhpcy5wcm9ncmFtKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxpbmsgV2ViR0wgcHJvZ3JhbTogJyArIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXNlICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkZXRhdGNoICguLi5zaGFkZXJzKSB7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHNoYWRlciBvZiBzaGFkZXJzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nbC5kZXRhdGNoU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95ICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxldGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL1Byb2dyYW0uanNcbiAqKi8iLCJmdW5jdGlvbiBjcmVhdGUgKGdsLCBwcm9ncmFtLCBuYW1lLCBzaXplLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCkge1xyXG5cclxuICAgIGNvbnN0IGxvYyA9IGdldExvY2F0aW9uKGdsLCBwcm9ncmFtLCBuYW1lKTtcclxuXHJcbiAgICBpZiAobG9jICE9PSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jLCBzaXplLCB0eXBlLCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XHJcblxyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxvYztcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlIChnbCwgbG9jYXRpb24pIHtcclxuXHJcbiAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2F0aW9uIChnbCwgcHJvZ3JhbSwgbmFtZSkge1xyXG5cclxuICAgIGNvbnN0IGxvYyA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIG5hbWUpO1xyXG5cclxuICAgIGlmIChsb2MgPCAwKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignV2ViR0xQcm9ncmFtIC0gZmFpbGVkIHRvIGdldCBhdHRyaWJ1dGUgbG9jYXRpb246ICcgKyBuYW1lKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbG9jO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJ5dGUgKGdsLCBwcm9ncmFtLCBuYW1lLCBub3JtYWxpemVkID0gZmFsc2UsIHN0cmlkZSA9IDAsIG9mZnNldCA9IDApIHtcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5VTlNJR05FRF9CWVRFLCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2hvcnQgKGdsLCBwcm9ncmFtLCBuYW1lLCBub3JtYWxpemVkID0gZmFsc2UsIHN0cmlkZSA9IDAsIG9mZnNldCA9IDApIHtcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5TSE9SVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuc2lnbmVkU2hvcnQgKGdsLCBwcm9ncmFtLCBuYW1lLCBub3JtYWxpemVkID0gZmFsc2UsIHN0cmlkZSA9IDAsIG9mZnNldCA9IDApIHtcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5VTlNJR05FRF9TSE9SVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludCAoZ2wsIHByb2dyYW0sIG5hbWUsIG5vcm1hbGl6ZWQgPSBmYWxzZSwgc3RyaWRlID0gMCwgb2Zmc2V0ID0gMCkge1xyXG5cclxuICAgIHJldHVybiBjcmVhdGUoZ2wsIHByb2dyYW0sIG5hbWUsIDIsIGdsLklOVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuc2lnbmVkSW50IChnbCwgcHJvZ3JhbSwgbmFtZSwgbm9ybWFsaXplZCA9IGZhbHNlLCBzdHJpZGUgPSAwLCBvZmZzZXQgPSAwKSB7XHJcblxyXG4gICAgcmV0dXJuIGNyZWF0ZShnbCwgcHJvZ3JhbSwgbmFtZSwgMiwgZ2wuVU5TSUdORURfSU5ULCBub3JtYWxpemVkLCBzdHJpZGUsIG9mZnNldCk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmxvYXQgKGdsLCBwcm9ncmFtLCBuYW1lLCBub3JtYWxpemVkID0gZmFsc2UsIHN0cmlkZSA9IDAsIG9mZnNldCA9IDApIHtcclxuXHJcbiAgICByZXR1cm4gY3JlYXRlKGdsLCBwcm9ncmFtLCBuYW1lLCAyLCBnbC5GTE9BVCwgbm9ybWFsaXplZCwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWJnbC9BdHRyaWJ1dGUuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJ0ZXhBcnJheUJ1ZmZlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRTaXplID0gMDtcclxuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlIChnbCwgdmVydFNpemUgPSAyLCBiYXRjaFNpemUgPSAyMDAwKSB7XHJcblxyXG4gICAgICAgIHRoaXMudmVydFNpemUgPSB2ZXJ0U2l6ZTtcclxuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcclxuXHJcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5iYXRjaFNpemUgKiB0aGlzLnZlcnRTaXplKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYmluZEJ1ZmZlcihnbCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGJpbmRCdWZmZXIgKGdsKSB7XHJcblxyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICB1c2FnZSA9IGdsLkRZTkFNSUNfRFJBVywgZ2wuU1RBVElDX0RSQVcgb3IgZ2wuU1RSRUFNX0RSQVdcclxuICAgIGJ1ZmZlckRhdGEgKGdsLCB1c2FnZSkge1xyXG5cclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0aWNlcywgdXNhZ2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBidWZmZXJEeW5hbWljRGF0YSAoZ2wpIHtcclxuXHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIGdsLkRZTkFNSUNfRFJBVyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGJ1ZmZlclN0YXRpY0RhdGEgKGdsKSB7XHJcblxyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRpY2VzLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGJ1ZmZlclN0cmVhbURhdGEgKGdsKSB7XHJcblxyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRpY2VzLCBnbC5TVFJFQU1fRFJBVyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0ICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsID0gMDtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL3Ziby9WZXJ0ZXhBcnJheUJ1ZmZlci5qc1xuICoqLyIsIi8vICBBZGQgYSBzaW5nbGUgdmVydCBzZXQgaW50byB0aGUgVmVydGV4IEJ1ZmZlclxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRkVmVydCAoYnVmZmVyLCB4LCB5KSB7XHJcblxyXG4gICAgYnVmZmVyLnZlcnRpY2VzW2J1ZmZlci5pbmRleCsrXSA9IHg7XHJcbiAgICBidWZmZXIudmVydGljZXNbYnVmZmVyLmluZGV4KytdID0geTtcclxuXHJcbiAgICBidWZmZXIudG90YWwrKztcclxuXHJcbiAgICAvLyAgcmV0dXJuIHRoZSBzdGFydGluZyBpbmRleCBvZiB0aGUgcG9pbnRcclxuICAgIHJldHVybiAoYnVmZmVyLmluZGV4IC0gMik7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYmdsL3Ziby9BZGRWZXJ0LmpzXG4gKiovIiwiaW1wb3J0IFdlYkdMUmVuZGVyZXIgZnJvbSAnLi9XZWJHTFJlbmRlcmVyLmpzJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBXZWJHTFJlbmRlcmVyXHJcbn07XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yZW5kZXJlcnMvYmF0Y2hfdGV4dHVyZS9pbmRleC5qc1xuICoqLyIsImltcG9ydCBDb250ZXh0SGFuZGxlciBmcm9tICcuLi8uLi93ZWJnbC9Db250ZXh0SGFuZGxlci5qcyc7XHJcbmltcG9ydCBDb250ZXh0T3B0aW9ucyBmcm9tICcuLi8uLi93ZWJnbC9Db250ZXh0T3B0aW9ucy5qcyc7XHJcbmltcG9ydCBHZXRDb250ZXh0IGZyb20gJy4uLy4uL3dlYmdsL0dldENvbnRleHQuanMnO1xyXG5pbXBvcnQgQ29tcGlsZVNoYWRlciBmcm9tICcuLi8uLi93ZWJnbC9Db21waWxlU2hhZGVyLmpzJztcclxuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi4vLi4vd2ViZ2wvUHJvZ3JhbS5qcyc7XHJcbmltcG9ydCBWZXJ0ZXhBcnJheUJ1ZmZlciBmcm9tICcuLi8uLi93ZWJnbC92Ym8vVmVydGV4QXJyYXlCdWZmZXIuanMnO1xyXG5pbXBvcnQgVmVydGV4SW5kZXhCdWZmZXIgZnJvbSAnLi4vLi4vd2ViZ2wvdmJvL1ZlcnRleEluZGV4QnVmZmVyLmpzJztcclxuaW1wb3J0ICogYXMgQXR0cmlidXRlIGZyb20gJy4uLy4uL3dlYmdsL0F0dHJpYnV0ZS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHTEJhdGNoZWRQb2ludFJlbmRlcmVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoY2FudmFzKSB7XHJcblxyXG4gICAgICAgIC8vIHRoaXMud2lkdGggPSAwO1xyXG4gICAgICAgIC8vIHRoaXMuaGVpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSB7IHg6IDAsIHk6IDAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0T3B0aW9ucyA9IENvbnRleHRPcHRpb25zKCk7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0SGFuZGxlciA9IG5ldyBDb250ZXh0SGFuZGxlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBWZXJ0ZXhBcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBuZXcgVmVydGV4SW5kZXhCdWZmZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGNhbnZhcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoY2FudmFzKSB7XHJcblxyXG4gICAgICAgIC8vICBjbGllbnRXaWR0aCBpcyBvbmx5IGF2YWlsYWJsZSBpZiB0aGUgY2FudmFzIGlzIG9uIHRoZSBkb21cclxuICAgICAgICAvLyB0aGlzLndpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIC8vIHRoaXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0SGFuZGxlci5hZGQoY2FudmFzKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2wgPSBHZXRDb250ZXh0KGNhbnZhcyk7XHJcblxyXG4gICAgICAgIGlmICghZ2wpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmdsID0gZ2w7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuQ1VMTF9GQUNFKTtcclxuICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG5cclxuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCB2ZXJ0ZXhTcmMgPSBbXHJcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247JyxcclxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7JyxcclxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWM0IGFDb2xvcjsnLFxyXG5cclxuICAgICAgICAgICAgJ3VuaWZvcm0gdmVjMiBwcm9qZWN0aW9uVmVjdG9yOycsXHJcblxyXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JyxcclxuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjNCB2Q29sb3I7JyxcclxuXHJcbiAgICAgICAgICAgICdjb25zdCB2ZWMyIGNlbnRlciA9IHZlYzIoLTEuMCwgMS4wKTsnLFxyXG5cclxuICAgICAgICAgICAgJ3ZvaWQgbWFpbih2b2lkKSB7JyxcclxuICAgICAgICAgICAgJyAgIGdsX1Bvc2l0aW9uID0gdmVjNCgoYVZlcnRleFBvc2l0aW9uIC8gcHJvamVjdGlvblZlY3RvcikgKyBjZW50ZXIsIDAuMCwgMS4wKTsnLFxyXG4gICAgICAgICAgICAnICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7JyxcclxuICAgICAgICAgICAgJyAgIHZlYzMgY29sb3IgPSBtb2QodmVjMyhhQ29sb3IueSAvIDY1NTM2LjAsIGFDb2xvci55IC8gMjU2LjAsIGFDb2xvci55KSwgMjU2LjApIC8gMjU2LjA7JyxcclxuICAgICAgICAgICAgJyAgIHZDb2xvciA9IHZlYzQoY29sb3IgKiBhQ29sb3IueCwgYUNvbG9yLngpOycsXHJcbiAgICAgICAgICAgICd9J1xyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U3JjID0gW1xyXG4gICAgICAgICAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyxcclxuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOycsXHJcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsXHJcbiAgICAgICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLFxyXG4gICAgICAgICAgICAndm9pZCBtYWluKHZvaWQpIHsnLFxyXG4gICAgICAgICAgICAnICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjsnLFxyXG4gICAgICAgICAgICAnfSdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBDb21waWxlU2hhZGVyKGdsLCB2ZXJ0ZXhTcmMsIGdsLlZFUlRFWF9TSEFERVIpO1xyXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gQ29tcGlsZVNoYWRlcihnbCwgZnJhZ21lbnRTcmMsIGdsLkZSQUdNRU5UX1NIQURFUik7XHJcblxyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG5ldyBQcm9ncmFtKGdsKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmFtLmF0dGFjaCh2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKS5saW5rKCkudXNlKCk7XHJcblxyXG4gICAgICAgIC8vICBHZXQgYW5kIHN0b3JlIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgdGhpcy5fYVZlcnRleFBvc2l0aW9uID0gQXR0cmlidXRlLmdldExvY2F0aW9uKGdsLCB0aGlzLnByb2dyYW0ucHJvZ3JhbSwgJ2FWZXJ0ZXhQb3NpdGlvbicpO1xyXG4gICAgICAgIHRoaXMuX2FUZXh0dXJlQ29vcmQgPSBBdHRyaWJ1dGUuZ2V0TG9jYXRpb24oZ2wsIHRoaXMucHJvZ3JhbS5wcm9ncmFtLCAnYVRleHR1cmVDb29yZCcpO1xyXG4gICAgICAgIHRoaXMuX2NvbG9yQXR0cmlidXRlID0gQXR0cmlidXRlLmdldExvY2F0aW9uKGdsLCB0aGlzLnByb2dyYW0ucHJvZ3JhbSwgJ2FDb2xvcicpO1xyXG5cclxuICAgICAgICAvLyAgdmVydGV4IHBvc2l0aW9uXHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoMCk7XHJcblxyXG4gICAgICAgIC8vICB0ZXh0dXJlIGNvb3JkaW5hdGVcclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSgxKTtcclxuXHJcbiAgICAgICAgLy8gIGNvbG9yIGF0dHJpYnV0ZVxyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KDIpO1xyXG5cclxuICAgICAgICAvLyAgVGhlIHByb2plY3Rpb24gdmVjdG9yIChtaWRkbGUgb2YgdGhlIGdhbWUgd29ybGQpXHJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uVmVjdG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbS5wcm9ncmFtLCAncHJvamVjdGlvblZlY3RvcicpO1xyXG5cclxuICAgICAgICAvLyAgUG9wdWxhdGUgdGhlIHZlcnRleCBidWZmZXJcclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5jcmVhdGUoZ2wsIDYsIDIwMDApO1xyXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLmJpbmRCdWZmZXIoKTtcclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5idWZmZXJEeW5hbWljRGF0YSgpO1xyXG5cclxuICAgICAgICAvLyAgUG9wdWxhdGUgdGhlIGluZGV4IGJ1ZmZlclxyXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuY3JlYXRlKGdsLCA2LCAyMDAwKTtcclxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJpbmRCdWZmZXIoKTtcclxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJ1ZmZlckRhdGEoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplICgpIHtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdsLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdsLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gdGhpcy5nbC5jYW52YXMud2lkdGgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmdsLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhlaWdodCAhPT0gdGhpcy5nbC5jYW52YXMuaGVpZ2h0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5nbC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnggPSAgd2lkdGggLyAyO1xyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi55ID0gIC1oZWlnaHQgLyAyO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgKHJlbmRlckxpc3QpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dEhhbmRsZXIuY29udGV4dExvc3QpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG5cclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XHJcblxyXG4gICAgICAgIC8vICBSZXNldHMgdGhlIGZyYW1lIGJ1ZmZlciAoaWYgaXQncyBiZWVuIHJlLWFzc2lnbmVkIGVsc2V3aGVyZSB2aWEgc3RlbmNpbCwgZXRjKVxyXG4gICAgICAgIC8vIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcblxyXG4gICAgICAgIC8vICBUcmFuc3BhcmVudFxyXG4gICAgICAgIC8vIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIC8vICBCbGFja1xyXG4gICAgICAgIGdsLmNsZWFyQ29sb3IoMCwgMCwgMCwgMSk7XHJcblxyXG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5yZXNldCgpO1xyXG5cclxuICAgICAgICAvLyAgV2FsayB0aGUgcmVuZGVyIGxpc3RcclxuICAgICAgICBmb3IgKGxldCB0ZXh0dXJlIG9mIHJlbmRlckxpc3QpXHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmbHVzaCAoKSB7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JlbmRlcmVycy9iYXRjaF90ZXh0dXJlL1dlYkdMUmVuZGVyZXIuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWZXJ0ZXhJbmRleEJ1ZmZlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnZlcnRTaXplID0gMDtcclxuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUgKGdsLCB2ZXJ0U2l6ZSA9IDYsIGJhdGNoU2l6ZSA9IDIwMDApIHtcclxuXHJcbiAgICAgICAgLy8gNjU1MzUgaXMgdGhlIG1heGltdW0gYnVmZmVyIHNpemUgKDY0S0IpXHJcbiAgICAgICAgaWYgKHZlcnRTaXplICogYmF0Y2hTaXplID4gNjU1MzUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1ZlcnRleEluZGV4QnVmZmVyOiBDYW5ub3QgY3JlYXRlIGJ1ZmZlciA+IDY1NTM1IGJ5dGVzJyk7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudmVydFNpemUgPSB2ZXJ0U2l6ZTtcclxuICAgICAgICB0aGlzLmJhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGJhdGNoU2l6ZSAqIHZlcnRTaXplKTtcclxuXHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQgKCkge1xyXG5cclxuICAgICAgICAvLyAgU2FtcGxlIGluZGljZXMgYXJyYXkgZm9yIDIgZWxlbWVudHMgKGJhdGNoU2l6ZSAyLCB2ZXJ0U2l6ZSA2KVxyXG4gICAgICAgIC8vIFsgMCwgMSwgMiwgMCwgMiwgMyBdXHJcbiAgICAgICAgLy8gWyA0LCA1LCA2LCA0LCA2LCA3IF1cclxuXHJcbiAgICAgICAgLy8gIDAsIDEsIDIgPSB0aGUgdmVydGljZXMgb2YgdGhlIGZpcnN0IHRyaWFuZ2xlXHJcbiAgICAgICAgLy8gIDAsIDIsIDMgPSB0aGUgdmVydGljZXMgb2YgdGhlIHNlY29uZCB0cmlhbmdsZSAobm90ZSB0aGUgdHdvIG92ZXJsYXBwaW5nIHBvaW50cylcclxuICAgICAgICAvLyAgY29tYmluZWQgdGhpcyBnaXZlcyB1cyBvdXIgcXVhZCAob3IgdGhlIGZyb250IGZhY2Ugb2YgYSBjdWJlIGlmIHdlIHdhbnRlZClcclxuXHJcbiAgICAgICAgLy8gIDQsIDUsIDYgPSB0aGUgdmVydGljZXMgb2YgdGhlIGZpcnN0IHRyaWFuZ2xlXHJcbiAgICAgICAgLy8gIDQsIDYsIDcgPSB0aGUgdmVydGljZXMgb2YgdGhlIHNlY29uZCB0cmlhbmdsZVxyXG4gICAgICAgIC8vICBjb21iaW5lZCB0aGlzIGdpdmVzIHVzIG91ciBzZWNvbmQgcXVhZCAob3IgdGhlIGJhY2sgZmFjZSBvZiBhIGN1YmUgaWYgd2Ugd2FudGVkKVxyXG5cclxuICAgICAgICAvLyAgQW5kIHNvIG9uIC4uLlxyXG5cclxuICAgICAgICAvLyBXaXRoIDYgaW5kaWNlcyBwZXIgcXVhZCB0aGF0J3MgMTA5MjIgbWF4XHJcblxyXG4gICAgICAgIC8vICBUaGlzIHNldC11cCBpcyBxdWFkIHNwZWNpZmljIGFuZCBuZWVkcyByZW1vdmluZyBmcm9tICdyZXNldCcgYW5kIG1vdmluZyB0b1xyXG4gICAgICAgIC8vICBpdHMgb3duIGNsYXNzIChRdWFkSW5kZXhCdWZmZXIgcHJvYmFibHkpXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8ICh0aGlzLmJhdGNoU2l6ZSAqIHRoaXMudmVydFNpemUpOyBpICs9IHRoaXMudmVydFNpemUsIGogKz0gNClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyAxXSA9IGogKyAxO1xyXG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDJdID0gaiArIDI7IC8vIGZpcnN0IHRyaVxyXG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaSArIDNdID0gaiArIDA7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2kgKyA1XSA9IGogKyAzOyAvLyBzZWNvbmQgdHJpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBiaW5kQnVmZmVyIChnbCkge1xyXG5cclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGJ1ZmZlckRhdGEgKGdsKSB7XHJcblxyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViZ2wvdmJvL1ZlcnRleEluZGV4QnVmZmVyLmpzXG4gKiovIiwiJ2NyZWF0ZSBpbmRleCc7XHJcblxyXG5pbXBvcnQgQ2FudmFzUmVuZGVyZXIgZnJvbSAnLi9DYW52YXNSZW5kZXJlci5qcyc7XHJcbmltcG9ydCBNaW5pbWFsUmVuZGVyZXIgZnJvbSAnLi9NaW5pbWFsUmVuZGVyZXIuanMnO1xyXG5pbXBvcnQgV2ViR0xSZW5kZXJlciBmcm9tICcuL1dlYkdMUmVuZGVyZXIuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIENhbnZhc1JlbmRlcmVyLFxyXG4gICAgTWluaW1hbFJlbmRlcmVyLFxyXG4gICAgV2ViR0xSZW5kZXJlclxyXG59O1xyXG5cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVuZGVyZXJzL21pbmltYWwvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgQ2FudmFzR2V0Q29udGV4dCBmcm9tICcuLi8uLi9jYW52YXMvR2V0Q29udGV4dC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNNaW5pbWFsUmVuZGVyZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChjYW52YXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChjYW52YXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmluaXQoY2FudmFzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQgKGNhbnZhcykge1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gQ2FudmFzR2V0Q29udGV4dChjYW52YXMpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgKGNvbG9yKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBjb2xvci5yZ2JhO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JlbmRlcmVycy9taW5pbWFsL0NhbnZhc1JlbmRlcmVyLmpzXG4gKiovIiwiaW1wb3J0IExhemVyIGZyb20gJy4uLy4uL0xhemVyLmpzJztcclxuaW1wb3J0IENvbG9yIGZyb20gJy4uLy4uL2dyYXBoaWNzL2NvbG9yL0Jhc2VDb2xvci5qcyc7XHJcbmltcG9ydCBDaGVja1dlYkdMIGZyb20gJy4uLy4uL2RldmljZS9mZWF0dXJlcy9XZWJHTC5qcyc7XHJcbmltcG9ydCBDYW52YXNSZW5kZXJlciBmcm9tICcuLi8uLi9yZW5kZXJlcnMvbWluaW1hbC9DYW52YXNSZW5kZXJlci5qcyc7XHJcbmltcG9ydCBXZWJHTFJlbmRlcmVyIGZyb20gJy4uLy4uL3JlbmRlcmVycy9taW5pbWFsL1dlYkdMUmVuZGVyZXIuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWluaW1hbFJlbmRlcmVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoY2FudmFzLCB0eXBlID0gTGF6ZXIuQVVUTykge1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBDb2xvcigpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQodHlwZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQgKHR5cGUpIHtcclxuXHJcbiAgICAgICAgaWYgKCh0eXBlID09PSBMYXplci5BVVRPIHx8IHR5cGUgPT09IExhemVyLldFQkdMKSAmJiBDaGVja1dlYkdMKCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyAgQ3JlYXRlIGEgV2ViR0wgcmVuZGVyZXJcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBXZWJHTFJlbmRlcmVyKHRoaXMuY2FudmFzKTtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gTGF6ZXIuV0VCR0w7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vICBDcmVhdGUgYSBDYW52YXMgcmVuZGVyZXJcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBDYW52YXNSZW5kZXJlcih0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IExhemVyLkNBTlZBUztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAociA9IDAsIGcgPSAwLCBiID0gMCwgYSA9IDI1NSkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbG9yLmZyb21SR0IociwgZywgYiwgYSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuY29sb3IpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVuZGVyZXJzL21pbmltYWwvTWluaW1hbFJlbmRlcmVyLmpzXG4gKiovIiwiaW1wb3J0IFdlYkdMQ29udGV4dE9wdGlvbnMgZnJvbSAnLi4vLi4vd2ViZ2wvQ29udGV4dE9wdGlvbnMuanMnO1xyXG5pbXBvcnQgV2ViR0xDb250ZXh0SGFuZGxlciBmcm9tICcuLi8uLi93ZWJnbC9Db250ZXh0SGFuZGxlci5qcyc7XHJcbmltcG9ydCBXZWJHTEdldENvbnRleHQgZnJvbSAnLi4vLi4vd2ViZ2wvR2V0Q29udGV4dC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHTE1pbmltYWxSZW5kZXJlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGNhbnZhcykge1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRPcHRpb25zID0gV2ViR0xDb250ZXh0T3B0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIgPSBuZXcgV2ViR0xDb250ZXh0SGFuZGxlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGNhbnZhcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoY2FudmFzKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIuYWRkKGNhbnZhcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBXZWJHTEdldENvbnRleHQoY2FudmFzKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmdsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoY29sb3IpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKGNvbG9yLnIxLCBjb2xvci5nMSwgY29sb3IuYjEsIGNvbG9yLmExKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5jbGVhcih0aGlzLmdsLkNPTE9SX0JVRkZFUl9CSVQpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yZW5kZXJlcnMvbWluaW1hbC9XZWJHTFJlbmRlcmVyLmpzXG4gKiovIiwiJ2NyZWF0ZSBpbmRleCc7XHJcblxyXG5pbXBvcnQgV2ViR0xOYW5vIGZyb20gJy4vV2ViR0wuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIFdlYkdMTmFub1xyXG59O1xyXG5cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVuZGVyZXJzL25hbm8vaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgV2ViR0xDb250ZXh0SGFuZGxlciBmcm9tICcuLi8uLi93ZWJnbC9Db250ZXh0SGFuZGxlci5qcyc7XHJcbmltcG9ydCBXZWJHTENvbnRleHRPcHRpb25zIGZyb20gJy4uLy4uL3dlYmdsL0NvbnRleHRPcHRpb25zLmpzJztcclxuaW1wb3J0IFdlYkdMR2V0Q29udGV4dCBmcm9tICcuLi8uLi93ZWJnbC9HZXRDb250ZXh0LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdMTmFubyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKHdpZHRoID0gODAwLCBoZWlnaHQgPSA2MDAsIGNhbnZhcyA9IG51bGwpIHtcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IHsgeDogMCwgeTogMCB9O1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRPcHRpb25zID0gbmV3IFdlYkdMQ29udGV4dE9wdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyID0gbmV3IFdlYkdMQ29udGV4dEhhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChjYW52YXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmluaXQod2lkdGgsIGhlaWdodCwgY2FudmFzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQgKHdpZHRoLCBoZWlnaHQsIGNhbnZhcykge1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRIYW5kbGVyLmFkZChjYW52YXMpO1xyXG5cclxuICAgICAgICB0aGlzLmdsID0gV2ViR0xHZXRDb250ZXh0KGNhbnZhcyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5nbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdsLmlkID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gICAgICAgIHRoaXMuZ2wuZGlzYWJsZShnbC5DVUxMX0ZBQ0UpO1xyXG4gICAgICAgIHRoaXMuZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi54ID0gdGhpcy53aWR0aCAvIDI7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnkgPSAtdGhpcy5oZWlnaHQgLyAyO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yZW5kZXJlcnMvbmFuby9XZWJHTC5qc1xuICoqLyIsIidjcmVhdGUgaW5kZXgnO1xyXG5cclxuaW1wb3J0IENhbnZhc1JlbmRlcmVyIGZyb20gJy4vQ2FudmFzUmVuZGVyZXIuanMnO1xyXG5pbXBvcnQgUG9pbnRSZW5kZXJlciBmcm9tICcuL1BvaW50UmVuZGVyZXIuanMnO1xyXG5pbXBvcnQgV2ViR0xSZW5kZXJlciBmcm9tICcuL1dlYkdMUmVuZGVyZXIuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIENhbnZhc1JlbmRlcmVyLFxyXG4gICAgUG9pbnRSZW5kZXJlcixcclxuICAgIFdlYkdMUmVuZGVyZXJcclxufTtcclxuXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JlbmRlcmVycy9wb2ludC9pbmRleC5qc1xuICoqLyIsImltcG9ydCBDYW52YXNHZXRDb250ZXh0IGZyb20gJy4uLy4uL2NhbnZhcy9HZXRDb250ZXh0LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1BvaW50UmVuZGVyZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChjYW52YXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLnNpemUgPSAzMjtcclxuXHJcbiAgICAgICAgaWYgKGNhbnZhcylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdChjYW52YXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAoY2FudmFzKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBDYW52YXNHZXRDb250ZXh0KGNhbnZhcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSAoeCwgeSkge1xyXG5cclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlciAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmMDAnO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCh0aGlzLnggLSAodGhpcy5zaXplIC8gMiksIHRoaXMueSAtICh0aGlzLnNpemUgLyAyKSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVuZGVyZXJzL3BvaW50L0NhbnZhc1JlbmRlcmVyLmpzXG4gKiovIiwiaW1wb3J0IExhemVyIGZyb20gJy4uLy4uL0xhemVyLmpzJztcclxuaW1wb3J0IENoZWNrV2ViR0wgZnJvbSAnLi4vLi4vZGV2aWNlL2ZlYXR1cmVzL1dlYkdMLmpzJztcclxuaW1wb3J0IENhbnZhc1JlbmRlcmVyIGZyb20gJy4vQ2FudmFzUmVuZGVyZXIuanMnO1xyXG5pbXBvcnQgV2ViR0xSZW5kZXJlciBmcm9tICcuL1dlYkdMUmVuZGVyZXIuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnRSZW5kZXJlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGNhbnZhcywgdHlwZSA9IExhemVyLkFVVE8pIHtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCh0eXBlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCAodHlwZSkge1xyXG5cclxuICAgICAgICBpZiAoKHR5cGUgPT09IExhemVyLkFVVE8gfHwgdHlwZSA9PT0gTGF6ZXIuV0VCR0wpICYmIENoZWNrV2ViR0woKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vICBDcmVhdGUgYSBXZWJHTCByZW5kZXJlclxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIodGhpcy5jYW52YXMpO1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBMYXplci5XRUJHTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gIENyZWF0ZSBhIENhbnZhcyByZW5kZXJlclxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHRoaXMuY2FudmFzKTtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gTGF6ZXIuQ0FOVkFTO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlICh4LCB5KSB7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlKHgsIHkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcigpO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVuZGVyZXJzL3BvaW50L1BvaW50UmVuZGVyZXIuanNcbiAqKi8iLCJpbXBvcnQgV2ViR0xDb250ZXh0T3B0aW9ucyBmcm9tICcuLi8uLi93ZWJnbC9Db250ZXh0T3B0aW9ucy5qcyc7XHJcbmltcG9ydCBXZWJHTENvbnRleHRIYW5kbGVyIGZyb20gJy4uLy4uL3dlYmdsL0NvbnRleHRIYW5kbGVyLmpzJztcclxuaW1wb3J0IFdlYkdMR2V0Q29udGV4dCBmcm9tICcuLi8uLi93ZWJnbC9HZXRDb250ZXh0LmpzJztcclxuaW1wb3J0IENvbXBpbGVTaGFkZXIgZnJvbSAnLi4vLi4vd2ViZ2wvQ29tcGlsZVNoYWRlci5qcyc7XHJcbmltcG9ydCBXZWJHTFByb2dyYW0gZnJvbSAnLi4vLi4vd2ViZ2wvUHJvZ3JhbS5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJHTFBvaW50UmVuZGVyZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChjYW52YXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHRPcHRpb25zID0gV2ViR0xDb250ZXh0T3B0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIgPSBuZXcgV2ViR0xDb250ZXh0SGFuZGxlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoY2FudmFzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0KGNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpbml0IChjYW52YXMpIHtcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGV4dEhhbmRsZXIuYWRkKGNhbnZhcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSBXZWJHTEdldENvbnRleHQoY2FudmFzKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmdsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViR0wnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICBPdXIgc3VwZXIgYmFzaWMgc2hhZGVyc1xyXG5cclxuICAgICAgICBsZXQgdmVydGV4U3JjID0gW1xyXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzQgcG9pbnRQb3NpdGlvbjsnLFxyXG4gICAgICAgICAgICAnYXR0cmlidXRlIGZsb2F0IHBvaW50U2l6ZTsnLFxyXG4gICAgICAgICAgICAndm9pZCBtYWluKCkgeycsXHJcbiAgICAgICAgICAgICcgICBnbF9Qb3NpdGlvbiA9IHBvaW50UG9zaXRpb247JyxcclxuICAgICAgICAgICAgJyAgIGdsX1BvaW50U2l6ZSA9IHBvaW50U2l6ZTsnLFxyXG4gICAgICAgICAgICAnfSdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBsZXQgZnJhZ21lbnRTcmMgPSBbXHJcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7JyxcclxuICAgICAgICAgICAgJyAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLCAxLjAsIDAuMCwgMS4wKTsnLFxyXG4gICAgICAgICAgICAnfSdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBsZXQgdmVydGV4U2hhZGVyID0gQ29tcGlsZVNoYWRlcih0aGlzLmdsLCB2ZXJ0ZXhTcmMsIHRoaXMuZ2wuVkVSVEVYX1NIQURFUik7XHJcbiAgICAgICAgbGV0IGZyYWdtZW50U2hhZGVyID0gQ29tcGlsZVNoYWRlcih0aGlzLmdsLCBmcmFnbWVudFNyYywgdGhpcy5nbC5GUkFHTUVOVF9TSEFERVIpO1xyXG5cclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgV2ViR0xQcm9ncmFtKHRoaXMuZ2wpO1xyXG5cclxuICAgICAgICB0aGlzLnByb2dyYW0uYXR0YWNoKHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpLmxpbmsoKS51c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLnByb2dyYW0uZ2V0QXR0cmliKCdwb2ludFBvc2l0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5wcm9ncmFtLmdldEF0dHJpYigncG9pbnRTaXplJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliM2YodGhpcy5wb3MsIDAuMCwgMC4wLCAwLjApO1xyXG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliMWYodGhpcy5zaXplLCAzMi4wKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlICh4LCB5KSB7XHJcblxyXG4gICAgICAgIC8vICBNYXAgdG8gV2ViR0wgY29vcmRpbmF0ZSBzcGFjZVxyXG4gICAgICAgIGNvbnN0IGN4ID0gdGhpcy53aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3QgY3kgPSB0aGlzLmhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHR4ID0gKHggLSBjeCkgLyBjeDtcclxuICAgICAgICBjb25zdCB0eSA9IChjeSAtIHkpIC8gY3k7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliM2YodGhpcy5wb3MsIHR4LCB0eSwgMC4wKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xyXG5cclxuICAgICAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wuZHJhd0FycmF5cyh0aGlzLmdsLlBPSU5UUywgMCwgMSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JlbmRlcmVycy9wb2ludC9XZWJHTFJlbmRlcmVyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==