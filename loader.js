!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("loader",[],t):"object"==typeof exports?exports.loader=t():(e.lazer=e.lazer||{},e.lazer.loader=t())}(this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}({0:function(e,t,r){"use strict";"create index";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.XHRSettings=t.XHRLoader=t.MultiFile=t.MergeXHRSettings=t.Loader=t.File=t.BaseLoader=void 0;var a=r(175),o=n(a),l=r(177),s=n(l),u=r(174),d=n(u),f=r(179),c=n(f),h=r(188),v=n(h),p=r(178),y=n(p),g=r(176),_=n(g),O=r(408),P=i(O);t.BaseLoader=o["default"],t.File=s["default"],t.Loader=d["default"],t.MergeXHRSettings=c["default"],t.MultiFile=v["default"],t.XHRLoader=y["default"],t.XHRSettings=_["default"],t.types=P},174:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=r(175),u=i(s),d=r(180),f=i(d),c=r(181),h=i(c),v=r(182),p=i(v),y=r(184),g=i(y),_=r(185),O=i(_),P=r(186),b=i(P),L=r(187),E=i(L),m=r(189),M=i(m),j=function(e){function t(){return n(this,t),a(this,Object.getPrototypeOf(t).call(this))}return o(t,e),l(t,[{key:"image",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return this.addFile((0,f["default"])(e,t))}},{key:"images",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(Array.isArray(t))for(var r=0;r<e.length;r++)this.image(e[r],t[r]);else for(var i=0;i<e.length;i++)this.image(e[i]);return this}},{key:"json",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return this.addFile((0,h["default"])(e,t))}},{key:"text",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return this.addFile((0,g["default"])(e,t))}},{key:"glsl",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return this.addFile((0,O["default"])(e,t))}},{key:"shader",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return this.addFile((0,O["default"])(e,t))}},{key:"xml",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return this.addFile((0,p["default"])(e,t))}},{key:"binary",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],i=(0,b["default"])(e,t);return i.processCallback=r,this.addFile(i)}},{key:"atlas",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],i=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];return this.addFile((0,E["default"])(e,t,r,i))}},{key:"atlasXML",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],i=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];return this.addFile((0,M["default"])(e,t,r,i))}}]),t}(u["default"]);t["default"]=j},175:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.DESTROYED=t.FAILED=t.COMPLETE=t.PROCESSING=t.LOADING=t.PENDING=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=r(176),s=n(l),u=r(177),d=i(u),f=t.PENDING=0,c=t.LOADING=1,h=t.PROCESSING=2,v=t.COMPLETE=3,p=t.FAILED=4,y=t.DESTROYED=5,g=function(){function e(){a(this,e),this.baseURL="",this.path="",this.tag="",this.enableParallel=!0,this.maxParallelDownloads=4,this.xhr=(0,s["default"])(),this.crossOrigin=void 0,this.list=new Set,this.inflight=new Set,this.failed=new Set,this.queue=new Set,this.storage=new Set,this._state=f,this._resolve=void 0,this._reject=void 0}return o(e,[{key:"startFileGroup",value:function(e){this.tag=e}},{key:"stopFileGroup",value:function(){this.tag=""}},{key:"addFile",value:function(e){return this.isReady?(e.multipart?(e.fileA.path=this.path,e.fileB.path=this.path,e.fileA.tag=this.tag,e.fileB.tag=this.tag,this.list.add(e.fileA),this.list.add(e.fileB)):(e.path=this.path,e.tag=this.tag,this.list.add(e)),new Promise(function(t,r){e.resolve=t,e.reject=r})):-1}},{key:"start",value:function(){var e=this;if(this.isReady)return 0===this.list.size?this.finishedLoading():(this.state=c,this.failed.clear(),this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.processLoadQueue()),new Promise(function(t,r){e._resolve=t,e._reject=r})}},{key:"updateProgress",value:function(){}},{key:"processLoadQueue",value:function(){var e=!0,t=!1,r=void 0;try{for(var i,n=this.list[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var a=i.value;if(a.state===d.PENDING&&this.inflight.size<this.maxParallelDownloads&&(this.inflight.add(a),this.list["delete"](a),this.loadFile(a)),this.inflight.size===this.maxParallelDownloads)break}}catch(o){t=!0,r=o}finally{try{!e&&n["return"]&&n["return"]()}finally{if(t)throw r}}}},{key:"loadFile",value:function(e){var t=this;e.src=this.getURL(e),void 0===e.crossOrigin&&this.crossOrigin&&(e.crossOrigin=this.crossOrigin),e.load(this.xhr).then(function(e){return t.nextFile(e,!0)})["catch"](function(e){return t.nextFile(e,!1)})}},{key:"nextFile",value:function(e,t){t?this.queue.add(e):this.failed.add(e),this.inflight["delete"](e),this.list.size>0?this.processLoadQueue():0===this.inflight.size&&this.finishedLoading()}},{key:"getURL",value:function(e){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:this.baseURL+e.path+e.url:!1}},{key:"finishedLoading",value:function(){this.state=h,this.storage.clear();var e=!0,t=!1,r=void 0;try{for(var i,n=this.queue[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var a=i.value;a.onProcess(),a.processCallback&&a.processCallback(a),a.onComplete(),this.storage.add(a)}}catch(o){t=!0,r=o}finally{try{!e&&n["return"]&&n["return"]()}finally{if(t)throw r}}this.list.clear(),this.inflight.clear(),this.queue.clear(),console.log("Loader Complete. Loaded:",this.storage.size,"Failed:",this.failed.size),this.state=v}},{key:"getLoadedFilesByType",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],i=!0,n=!1,a=void 0;try{for(var o,l=this.storage[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;s.state===d.COMPLETE&&s.tag===t&&s.type===e&&r.push(s)}}catch(u){n=!0,a=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(n)throw a}}return r}},{key:"getLoadedFiles",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],r=!0,i=!1,n=void 0;try{for(var a,o=this.storage[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var l=a.value;l.state===d.COMPLETE&&l.tag===e&&""!==type&&l.type===type&&t.push(l)}}catch(s){i=!0,n=s}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw n}}return t}},{key:"reset",value:function(){this.list.clear(),this.inflight.clear(),this.failed.clear(),this.queue.clear(),this.storage.clear(),this.tag="",this.path="",this.baseURL="",this.state=f}},{key:"destroy",value:function(){this.reset(),this.state=y}},{key:"state",get:function(){return this._state},set:function(e){this._state!==e&&(this._state=e,e===v&&this._resolve?this._resolve(this.getLoadedFiles(),this):e===p&&this._reject&&this._reject(this))}},{key:"isLoading",get:function(){return this._state===c||this._state===h}},{key:"isReady",get:function(){return this._state===f||this._state===v||this._state===p}}]),e}();t["default"]=g},176:function(e,t){"use strict";function r(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],i=arguments.length<=3||void 0===arguments[3]?"":arguments[3],n=arguments.length<=4||void 0===arguments[4]?0:arguments[4];return{responseType:e,async:t,user:r,password:i,timeout:n,header:void 0,headerValue:void 0,overrideMimeType:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},177:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return e?{key:e,url:t,path:"",src:t,tag:"",type:r,state:u,multipart:void 0,linkFile:void 0,data:void 0,crossOrigin:void 0,resolve:void 0,reject:void 0,processCallback:void 0,xhr:(0,s["default"])("text"),onStateChange:function(e){this.state!==e&&(this.state=e,e===v?(this.multipart&&this.linkFile.state===v&&this.multipart.resolve&&this.multipart.resolve(this.multipart),this.resolve&&this.resolve(this)):e===c&&(this.multipart&&this.multipart.reject&&this.multipart.reject(this.multipart,error),this.reject&&this.reject(this)))},load:function(e){return this.onStateChange(d),(0,o["default"])(this,e)},onLoad:function(){this.onStateChange(f)},onError:function(){this.onStateChange(c)},onProcess:function(){this.onStateChange(h)},onComplete:function(){this.onStateChange(v)},onDestroy:function(){this.onStateChange(p)}}:void console.warn("Invalid File key")}Object.defineProperty(t,"__esModule",{value:!0}),t.DESTROYED=t.COMPLETE=t.PROCESSING=t.FAILED=t.LOADED=t.LOADING=t.PENDING=void 0,t["default"]=n;var a=r(178),o=i(a),l=r(176),s=i(l),u=t.PENDING=0,d=t.LOADING=1,f=t.LOADED=2,c=t.FAILED=3,h=t.PROCESSING=4,v=t.COMPLETE=5,p=t.DESTROYED=6},178:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r=(0,o["default"])(t,e.xhr),i=new XMLHttpRequest;return i.open("GET",e.src,r.async,r.user,r.password),i.responseType=e.xhr.responseType,i.timeout=r.timeout,r.header&&r.headerValue&&i.setRequestHeader(r.header,r.headerValue),r.overrideMimeType&&i.overrideMimeType(r.overrideMimeType),new Promise(function(t,r){i.onload=function(){e.onLoad(i),t(e)},i.onerror=function(){e.onError(i),r(e)},i.send()})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=r(179),o=i(a)},179:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r=void 0===e?(0,o["default"])():Object.assign(e);if(t)for(var i in t)void 0!==t[i]&&(r[i]=t[i]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=r(176),o=i(a)},180:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];""!==t||r||(t=e+".png");var i=(0,o["default"])(e,t,l);return i.load=function(){var t=this;return this.onStateChange(o.LOADING),this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),new Promise(function(r,n){t.data.onload=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,t.state=o.LOADED,r(i))},t.data.onerror=function(e){t.data.onload&&(t.data.onload=null,t.data.onerror=null,t.error=e,t.state=o.FAILED,n(i))},t.data.name=e,t.data.src=t.src,t.data.complete&&t.data.width&&t.data.height&&(t.data.onload=null,t.data.onerror=null,t.state=o.LOADED,r(i))})},i}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t["default"]=n;var a=r(177),o=i(a),l=t.TYPE="image"},181:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];""!==t||r||(t=e+".json");var i=(0,o["default"])(e,t,l);return i.xhr.responseType="text",i.onLoad=function(e){this.data=e.responseText,this.onStateChange(o.LOADED)},i.onProcess=function(){this.onStateChange(o.PROCESSING),this.data=JSON.parse(this.data)},r&&(i.data=r,i.onProcess()),i}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t["default"]=n;var a=r(177),o=i(a),l=t.TYPE="json"},182:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];""!==t||r||(t=e+".xml");var i=(0,u["default"])(e,t,d);return i.xhr.responseType="text",i.onLoad=function(e){this.data=e.responseText,this.onStateChange(u.LOADED)},i.onProcess=function(){this.onStateChange(u.PROCESSING);var e=(0,l["default"])(this.data);if(!e)throw new Error("XMLFile: Invalid XML");this.data=e},r&&(i.data=r,i.onProcess()),i}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t["default"]=a;var o=r(183),l=n(o),s=r(177),u=i(s),d=t.TYPE="xml"},183:function(e,t){"use strict";function r(e){var t="";try{if(window.DOMParser){var r=new DOMParser;t=r.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.loadXML(e)}catch(i){t=null}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length?t:null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},184:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];""!==t||r||(t=e+".txt");var i=(0,o["default"])(e,t,l);return i.xhr.responseType="text",i.onLoad=function(e){this.data=e.responseText,this.onStateChange(o.LOADED)},r&&(i.data=r,i.onProcess()),i}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t["default"]=n;var a=r(177),o=i(a),l=t.TYPE="text"},185:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];""!==t||r||(t=e+".glsl");var i=(0,o["default"])(e,t,l);return i.xhr.responseType="text",i.onLoad=function(e){this.data=e.responseText,this.onStateChange(o.LOADED)},r&&(i.data=r,i.onProcess()),i}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t["default"]=n;var a=r(177),o=i(a),l=t.TYPE="glsl"},186:function(e,t,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];""!==t||r||(t=e+".bin");var i=(0,o["default"])(e,t,l);return i.xhr.responseType="arraybuffer",i.onLoad=function(e){this.data=e.response,this.onStateChange(o.LOADED)},r&&(i.data=r,i.onProcess()),i}Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0,t["default"]=n;var a=r(177),o=i(a),l=t.TYPE="binary"},187:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r,i){return""===r&&null===i&&(r=e+".json"),(0,d["default"])((0,o["default"])(e,t),(0,s["default"])(e,r,i))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=r(180),o=i(a),l=r(181),s=i(l),u=r(188),d=i(u)},188:function(e,t){"use strict";function r(e,t){e.linkFile=t,t.linkFile=e;var r={multipart:!0,fileA:e,fileB:t,resolve:void 0,reject:void 0,load:function(){var e=this;return new Promise(function(t,r){e.resolve=t,e.reject=r,e.fileA.load().then(function(e){e.onProcess(),e.processCallback&&e.processCallback(e),e.onComplete()})["catch"](function(e){e.onError()}),e.fileB.load().then(function(e){e.onProcess(),e.processCallback&&e.processCallback(e),e.onComplete()})["catch"](function(e){e.onError()})})}};return e.multipart=r,t.multipart=r,r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},189:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r,i){return""===r&&null===i&&(r=e+".xml"),(0,u["default"])((0,o["default"])(e,t),XMLFile(e,r,i))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=r(180),o=i(a),l=r(181),s=(i(l),r(188)),u=i(s)},408:function(e,t,r){"use strict";"create index";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.XMLFile=t.TextFile=t.JSONFile=t.ImageFile=t.GLSLFile=t.BinaryFile=t.AtlasXMLFile=t.AtlasJSONFile=void 0;var n=r(187),a=i(n),o=r(189),l=i(o),s=r(186),u=i(s),d=r(185),f=i(d),c=r(180),h=i(c),v=r(181),p=i(v),y=r(184),g=i(y),_=r(182),O=i(_);t.AtlasJSONFile=a["default"],t.AtlasXMLFile=l["default"],t.BinaryFile=u["default"],t.GLSLFile=f["default"],t.ImageFile=h["default"],t.JSONFile=p["default"],t.TextFile=g["default"],t.XMLFile=O["default"]}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uPzVjYTYqKioqKioqKioqKiIsIndlYnBhY2s6Ly8vbG9hZGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxYjZmNThhMTc3NDUwODBmMDAxYT83NzllKioqKioqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL0xvYWRlci5qcz9lYzIwIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvQmFzZUxvYWRlci5qcz9lNjBmIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvWEhSU2V0dGluZ3MuanM/YTllNSIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL0ZpbGUuanM/Njg3MCIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL1hIUkxvYWRlci5qcz9mM2QwIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvTWVyZ2VYSFJTZXR0aW5ncy5qcz9hNjhhIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvdHlwZXMvSW1hZ2VGaWxlLmpzPzMyY2YiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRlci90eXBlcy9KU09ORmlsZS5qcz85M2JlIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvdHlwZXMvWE1MRmlsZS5qcz9lNTMxIiwid2VicGFjazovLy8uL3NyYy9zeXN0ZW0vUGFyc2VYTUwuanM/YzU5ZSIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL3R5cGVzL1RleHRGaWxlLmpzPzk5YTkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRlci90eXBlcy9HTFNMRmlsZS5qcz8wYTQxIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvdHlwZXMvQmluYXJ5RmlsZS5qcz85OWQ5Iiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvdHlwZXMvQXRsYXNKU09ORmlsZS5qcz85YmYzIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXIvTXVsdGlGaWxlLmpzPzQ4NjQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRlci90eXBlcy9BdGxhc1hNTEZpbGUuanM/MzUxNSIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVyL3R5cGVzL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIjAiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJuZXdPYmoiLCJrZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJkZWZhdWx0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInR5cGVzIiwiWEhSU2V0dGluZ3MiLCJYSFJMb2FkZXIiLCJNdWx0aUZpbGUiLCJNZXJnZVhIUlNldHRpbmdzIiwiTG9hZGVyIiwiRmlsZSIsIkJhc2VMb2FkZXIiLCJ1bmRlZmluZWQiLCJfQmFzZUxvYWRlciIsIl9CYXNlTG9hZGVyMiIsIl9GaWxlIiwiX0ZpbGUyIiwiX0xvYWRlciIsIl9Mb2FkZXIyIiwiX01lcmdlWEhSU2V0dGluZ3MiLCJfTWVyZ2VYSFJTZXR0aW5nczIiLCJfTXVsdGlGaWxlIiwiX011bHRpRmlsZTIiLCJfWEhSTG9hZGVyIiwiX1hIUkxvYWRlcjIiLCJfWEhSU2V0dGluZ3MiLCJfWEhSU2V0dGluZ3MyIiwiX3R5cGVzIiwiMTc0IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX0Jhc2VMb2FkZXIzIiwiX0ltYWdlRmlsZSIsIl9JbWFnZUZpbGUyIiwiX0pTT05GaWxlIiwiX0pTT05GaWxlMiIsIl9YTUxGaWxlIiwiX1hNTEZpbGUyIiwiX1RleHRGaWxlIiwiX1RleHRGaWxlMiIsIl9HTFNMRmlsZSIsIl9HTFNMRmlsZTIiLCJfQmluYXJ5RmlsZSIsIl9CaW5hcnlGaWxlMiIsIl9BdGxhc0pTT05GaWxlIiwiX0F0bGFzSlNPTkZpbGUyIiwiX0F0bGFzWE1MRmlsZSIsIl9BdGxhc1hNTEZpbGUyIiwiZ2V0UHJvdG90eXBlT2YiLCJ1cmwiLCJhcmd1bWVudHMiLCJhZGRGaWxlIiwia2V5cyIsInVybHMiLCJBcnJheSIsImlzQXJyYXkiLCJpbWFnZSIsIl9pIiwiY2FsbGJhY2siLCJmaWxlIiwicHJvY2Vzc0NhbGxiYWNrIiwidGV4dHVyZVVSTCIsImF0bGFzVVJMIiwiYXRsYXNEYXRhIiwiMTc1IiwiREVTVFJPWUVEIiwiRkFJTEVEIiwiQ09NUExFVEUiLCJQUk9DRVNTSU5HIiwiTE9BRElORyIsIlBFTkRJTkciLCJGSUxFIiwiYmFzZVVSTCIsInBhdGgiLCJ0YWciLCJlbmFibGVQYXJhbGxlbCIsIm1heFBhcmFsbGVsRG93bmxvYWRzIiwieGhyIiwiY3Jvc3NPcmlnaW4iLCJsaXN0IiwiU2V0IiwiaW5mbGlnaHQiLCJmYWlsZWQiLCJxdWV1ZSIsInN0b3JhZ2UiLCJfc3RhdGUiLCJfcmVzb2x2ZSIsIl9yZWplY3QiLCJuYW1lIiwiaXNSZWFkeSIsIm11bHRpcGFydCIsImZpbGVBIiwiZmlsZUIiLCJhZGQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIl90aGlzIiwic2l6ZSIsImZpbmlzaGVkTG9hZGluZyIsInN0YXRlIiwiY2xlYXIiLCJ1cGRhdGVQcm9ncmVzcyIsInByb2Nlc3NMb2FkUXVldWUiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImxvYWRGaWxlIiwiZXJyIiwiX3RoaXMyIiwic3JjIiwiZ2V0VVJMIiwibG9hZCIsInRoZW4iLCJuZXh0RmlsZSIsInByZXZpb3VzRmlsZSIsInN1Y2Nlc3MiLCJtYXRjaCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIm9uUHJvY2VzcyIsIm9uQ29tcGxldGUiLCJjb25zb2xlIiwibG9nIiwidHlwZSIsImdyb3VwIiwib3V0cHV0IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwicHVzaCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsInJlc2V0IiwiZ2V0Iiwic2V0IiwiZ2V0TG9hZGVkRmlsZXMiLCIxNzYiLCJyZXNwb25zZVR5cGUiLCJhc3luYyIsInVzZXIiLCJwYXNzd29yZCIsInRpbWVvdXQiLCJoZWFkZXIiLCJoZWFkZXJWYWx1ZSIsIm92ZXJyaWRlTWltZVR5cGUiLCIxNzciLCJsaW5rRmlsZSIsImRhdGEiLCJvblN0YXRlQ2hhbmdlIiwiZXJyb3IiLCJnbG9iYWxYSFJTZXR0aW5ncyIsIm9uTG9hZCIsIkxPQURFRCIsIm9uRXJyb3IiLCJvbkRlc3Ryb3kiLCJ3YXJuIiwiMTc4IiwiY29uZmlnIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzZW5kIiwiMTc5IiwiZ2xvYmFsIiwibG9jYWwiLCJhc3NpZ24iLCJzZXR0aW5nIiwiMTgwIiwiSW1hZ2VGaWxlIiwiVFlQRSIsIkltYWdlIiwiZXZlbnQiLCJjb21wbGV0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiMTgxIiwiSlNPTkZpbGUiLCJyZXNwb25zZVRleHQiLCJKU09OIiwicGFyc2UiLCIxODIiLCJYTUxGaWxlIiwieG1sIiwiX1BhcnNlWE1MMiIsIkVycm9yIiwiX1BhcnNlWE1MIiwiMTgzIiwiUGFyc2VYTUwiLCJ3aW5kb3ciLCJkb21wYXJzZXIiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJBY3RpdmVYT2JqZWN0IiwibG9hZFhNTCIsImUiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIjE4NCIsIlRleHRGaWxlIiwiMTg1IiwiR0xTTEZpbGUiLCIxODYiLCJCaW5hcnlGaWxlIiwicmVzcG9uc2UiLCIxODciLCJBdGxhc0pTT05GaWxlIiwiMTg4IiwiMTg5IiwiQXRsYXNYTUxGaWxlIiwiNDA4Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLGdCQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxJQUNBLGtCQUFBRyxnQkFBQUMsSUFDQUQsT0FBQSxZQUFBSCxHQUNBLGdCQUFBQyxTQUNBQSxRQUFBLE9BQUFELEtBRUFELEVBQUEsTUFBQUEsRUFBQSxVQUFxQ0EsRUFBQSxhQUFBQyxNQUNwQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVDLEdDTjFCLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBUCxPQUdBLElBQUFDLEdBQUFPLEVBQUFELElBQ0FQLFdBQ0FTLEdBQUFGLEVBQ0FHLFFBQUEsRUFVQSxPQU5BTCxHQUFBRSxHQUFBSSxL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cGtER2lQLFNuQm9rRGdCOUosYUFDbkJuRixFbUJwa0RHdVEsU25Cb2tEZ0JoTCxhQUNuQnZGLEVtQnBrREdzUCxRbkJva0RlaksiLCJmaWxlIjoibG9hZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJsb2FkZXJcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wibG9hZGVyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImxhemVyXCJdID0gcm9vdFtcImxhemVyXCJdIHx8IHt9LCByb290W1wibGF6ZXJcIl1bXCJsb2FkZXJcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImxvYWRlclwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJsb2FkZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibGF6ZXJcIl0gPSByb290W1wibGF6ZXJcIl0gfHwge30sIHJvb3RbXCJsYXplclwiXVtcImxvYWRlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQnY3JlYXRlIGluZGV4Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudHlwZXMgPSBleHBvcnRzLlhIUlNldHRpbmdzID0gZXhwb3J0cy5YSFJMb2FkZXIgPSBleHBvcnRzLk11bHRpRmlsZSA9IGV4cG9ydHMuTWVyZ2VYSFJTZXR0aW5ncyA9IGV4cG9ydHMuTG9hZGVyID0gZXhwb3J0cy5GaWxlID0gZXhwb3J0cy5CYXNlTG9hZGVyID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9CYXNlTG9hZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0dmFyIF9CYXNlTG9hZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VMb2FkZXIpO1xuXHRcblx0dmFyIF9GaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xuXHRcblx0dmFyIF9GaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbGUpO1xuXHRcblx0dmFyIF9Mb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cdFxuXHR2YXIgX0xvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Mb2FkZXIpO1xuXHRcblx0dmFyIF9NZXJnZVhIUlNldHRpbmdzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuXHRcblx0dmFyIF9NZXJnZVhIUlNldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lcmdlWEhSU2V0dGluZ3MpO1xuXHRcblx0dmFyIF9NdWx0aUZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4OCk7XG5cdFxuXHR2YXIgX011bHRpRmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NdWx0aUZpbGUpO1xuXHRcblx0dmFyIF9YSFJMb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7XG5cdFxuXHR2YXIgX1hIUkxvYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9YSFJMb2FkZXIpO1xuXHRcblx0dmFyIF9YSFJTZXR0aW5ncyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblx0XG5cdHZhciBfWEhSU2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWEhSU2V0dGluZ3MpO1xuXHRcblx0dmFyIF90eXBlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNDA4KTtcblx0XG5cdHZhciB0eXBlcyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF90eXBlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuQmFzZUxvYWRlciA9IF9CYXNlTG9hZGVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLkZpbGUgPSBfRmlsZTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5Mb2FkZXIgPSBfTG9hZGVyMi5kZWZhdWx0O1xuXHRleHBvcnRzLk1lcmdlWEhSU2V0dGluZ3MgPSBfTWVyZ2VYSFJTZXR0aW5nczIuZGVmYXVsdDtcblx0ZXhwb3J0cy5NdWx0aUZpbGUgPSBfTXVsdGlGaWxlMi5kZWZhdWx0O1xuXHRleHBvcnRzLlhIUkxvYWRlciA9IF9YSFJMb2FkZXIyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuWEhSU2V0dGluZ3MgPSBfWEhSU2V0dGluZ3MyLmRlZmF1bHQ7XG5cdGV4cG9ydHMudHlwZXMgPSB0eXBlcztcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX0Jhc2VMb2FkZXIyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0dmFyIF9CYXNlTG9hZGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jhc2VMb2FkZXIyKTtcblx0XG5cdHZhciBfSW1hZ2VGaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuXHRcblx0dmFyIF9JbWFnZUZpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW1hZ2VGaWxlKTtcblx0XG5cdHZhciBfSlNPTkZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MSk7XG5cdFxuXHR2YXIgX0pTT05GaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0pTT05GaWxlKTtcblx0XG5cdHZhciBfWE1MRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgyKTtcblx0XG5cdHZhciBfWE1MRmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9YTUxGaWxlKTtcblx0XG5cdHZhciBfVGV4dEZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG5cdFxuXHR2YXIgX1RleHRGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWxlKTtcblx0XG5cdHZhciBfR0xTTEZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NSk7XG5cdFxuXHR2YXIgX0dMU0xGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU0xGaWxlKTtcblx0XG5cdHZhciBfQmluYXJ5RmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KTtcblx0XG5cdHZhciBfQmluYXJ5RmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaW5hcnlGaWxlKTtcblx0XG5cdHZhciBfQXRsYXNKU09ORmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdHZhciBfQXRsYXNKU09ORmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BdGxhc0pTT05GaWxlKTtcblx0XG5cdHZhciBfQXRsYXNYTUxGaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODkpO1xuXHRcblx0dmFyIF9BdGxhc1hNTEZpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXRsYXNYTUxGaWxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdC8vICBUaGlzIGlzIG91ciBQaGFzZXItbGlrZSBMb2FkZXIgY2xhc3MuIFlvdSBkb24ndCBoYXZlIHRvIHVzZSBpdCA6KVxuXHRcblx0dmFyIExvYWRlciA9IGZ1bmN0aW9uIChfQmFzZUxvYWRlcikge1xuXHQgICAgX2luaGVyaXRzKExvYWRlciwgX0Jhc2VMb2FkZXIpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9hZGVyKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2FkZXIpLmNhbGwodGhpcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG5cdCAgICAgICAga2V5OiAnaW1hZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbWFnZShrZXkpIHtcblx0ICAgICAgICAgICAgdmFyIHVybCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzFdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoKDAsIF9JbWFnZUZpbGUyLmRlZmF1bHQpKGtleSwgdXJsKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2ltYWdlcycsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGltYWdlcyhrZXlzKSB7XG5cdCAgICAgICAgICAgIHZhciB1cmxzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cmxzKSkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZShrZXlzW2ldLCB1cmxzW2ldKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBrZXlzLmxlbmd0aDsgX2krKykge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uoa2V5c1tfaV0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnanNvbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGpzb24oa2V5KSB7XG5cdCAgICAgICAgICAgIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRGaWxlKCgwLCBfSlNPTkZpbGUyLmRlZmF1bHQpKGtleSwgdXJsKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3RleHQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXh0KGtleSkge1xuXHQgICAgICAgICAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmlsZSgoMCwgX1RleHRGaWxlMi5kZWZhdWx0KShrZXksIHVybCkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnbHNsJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2xzbChrZXkpIHtcblx0ICAgICAgICAgICAgdmFyIHVybCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzFdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoKDAsIF9HTFNMRmlsZTIuZGVmYXVsdCkoa2V5LCB1cmwpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2hhZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhZGVyKGtleSkge1xuXHQgICAgICAgICAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmlsZSgoMCwgX0dMU0xGaWxlMi5kZWZhdWx0KShrZXksIHVybCkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICd4bWwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB4bWwoa2V5KSB7XG5cdCAgICAgICAgICAgIHZhciB1cmwgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRGaWxlKCgwLCBfWE1MRmlsZTIuZGVmYXVsdCkoa2V5LCB1cmwpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYmluYXJ5Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmluYXJ5KGtleSkge1xuXHQgICAgICAgICAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgICAgICAgICB2YXIgZmlsZSA9ICgwLCBfQmluYXJ5RmlsZTIuZGVmYXVsdCkoa2V5LCB1cmwpO1xuXHRcblx0ICAgICAgICAgICAgZmlsZS5wcm9jZXNzQ2FsbGJhY2sgPSBjYWxsYmFjaztcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoZmlsZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2F0bGFzJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXRsYXMoa2V5KSB7XG5cdCAgICAgICAgICAgIHZhciB0ZXh0dXJlVVJMID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciBhdGxhc1VSTCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzJdO1xuXHQgICAgICAgICAgICB2YXIgYXRsYXNEYXRhID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzNdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoKDAsIF9BdGxhc0pTT05GaWxlMi5kZWZhdWx0KShrZXksIHRleHR1cmVVUkwsIGF0bGFzVVJMLCBhdGxhc0RhdGEpKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYXRsYXNYTUwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhdGxhc1hNTChrZXkpIHtcblx0ICAgICAgICAgICAgdmFyIHRleHR1cmVVUkwgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICAgICAgdmFyIGF0bGFzVVJMID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgICAgIHZhciBhdGxhc0RhdGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbM107XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmlsZSgoMCwgX0F0bGFzWE1MRmlsZTIuZGVmYXVsdCkoa2V5LCB0ZXh0dXJlVVJMLCBhdGxhc1VSTCwgYXRsYXNEYXRhKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBMb2FkZXI7XG5cdH0oX0Jhc2VMb2FkZXIzLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkRFU1RST1lFRCA9IGV4cG9ydHMuRkFJTEVEID0gZXhwb3J0cy5DT01QTEVURSA9IGV4cG9ydHMuUFJPQ0VTU0lORyA9IGV4cG9ydHMuTE9BRElORyA9IGV4cG9ydHMuUEVORElORyA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX1hIUlNldHRpbmdzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXHRcblx0dmFyIF9YSFJTZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9YSFJTZXR0aW5ncyk7XG5cdFxuXHR2YXIgX0ZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cdFxuXHR2YXIgRklMRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9GaWxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBQRU5ESU5HID0gZXhwb3J0cy5QRU5ESU5HID0gMDtcblx0dmFyIExPQURJTkcgPSBleHBvcnRzLkxPQURJTkcgPSAxO1xuXHR2YXIgUFJPQ0VTU0lORyA9IGV4cG9ydHMuUFJPQ0VTU0lORyA9IDI7XG5cdHZhciBDT01QTEVURSA9IGV4cG9ydHMuQ09NUExFVEUgPSAzO1xuXHR2YXIgRkFJTEVEID0gZXhwb3J0cy5GQUlMRUQgPSA0O1xuXHR2YXIgREVTVFJPWUVEID0gZXhwb3J0cy5ERVNUUk9ZRUQgPSA1O1xuXHRcblx0dmFyIEJhc2VMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBCYXNlTG9hZGVyKCkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlTG9hZGVyKTtcblx0XG5cdCAgICAgICAgdGhpcy5iYXNlVVJMID0gJyc7XG5cdFxuXHQgICAgICAgIHRoaXMucGF0aCA9ICcnO1xuXHRcblx0ICAgICAgICB0aGlzLnRhZyA9ICcnO1xuXHRcblx0ICAgICAgICB0aGlzLmVuYWJsZVBhcmFsbGVsID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgdGhpcy5tYXhQYXJhbGxlbERvd25sb2FkcyA9IDQ7XG5cdFxuXHQgICAgICAgIC8vICB4aHIgc3BlY2lmaWMgZ2xvYmFsIHNldHRpbmdzIChjYW4gYmUgb3ZlcnJpZGRlbiBvbiBhIHBlci1maWxlIGJhc2lzKVxuXHQgICAgICAgIHRoaXMueGhyID0gKDAsIF9YSFJTZXR0aW5nczIuZGVmYXVsdCkoKTtcblx0XG5cdCAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgdGhpcy5saXN0ID0gbmV3IFNldCgpO1xuXHQgICAgICAgIHRoaXMuaW5mbGlnaHQgPSBuZXcgU2V0KCk7XG5cdCAgICAgICAgdGhpcy5mYWlsZWQgPSBuZXcgU2V0KCk7XG5cdCAgICAgICAgdGhpcy5xdWV1ZSA9IG5ldyBTZXQoKTtcblx0ICAgICAgICB0aGlzLnN0b3JhZ2UgPSBuZXcgU2V0KCk7XG5cdFxuXHQgICAgICAgIHRoaXMuX3N0YXRlID0gUEVORElORztcblx0ICAgICAgICB0aGlzLl9yZXNvbHZlID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQmFzZUxvYWRlciwgW3tcblx0ICAgICAgICBrZXk6ICdzdGFydEZpbGVHcm91cCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0RmlsZUdyb3VwKG5hbWUpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMudGFnID0gbmFtZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc3RvcEZpbGVHcm91cCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3BGaWxlR3JvdXAoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnRhZyA9ICcnO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdhZGRGaWxlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRmlsZShmaWxlKSB7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXRoaXMuaXNSZWFkeSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyAgTXVsdGlwYXJ0IGZpbGU/XG5cdCAgICAgICAgICAgIGlmIChmaWxlLm11bHRpcGFydCkge1xuXHQgICAgICAgICAgICAgICAgZmlsZS5maWxlQS5wYXRoID0gdGhpcy5wYXRoO1xuXHQgICAgICAgICAgICAgICAgZmlsZS5maWxlQi5wYXRoID0gdGhpcy5wYXRoO1xuXHRcblx0ICAgICAgICAgICAgICAgIGZpbGUuZmlsZUEudGFnID0gdGhpcy50YWc7XG5cdCAgICAgICAgICAgICAgICBmaWxlLmZpbGVCLnRhZyA9IHRoaXMudGFnO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMubGlzdC5hZGQoZmlsZS5maWxlQSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmxpc3QuYWRkKGZpbGUuZmlsZUIpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgZmlsZS5wYXRoID0gdGhpcy5wYXRoO1xuXHQgICAgICAgICAgICAgICAgZmlsZS50YWcgPSB0aGlzLnRhZztcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmxpc3QuYWRkKGZpbGUpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBXaGVuIHRoaXMgZmlsZSBsb2FkcyB3ZSBuZWVkIHRvIGNhbGwgJ3Jlc29sdmUnXG5cdCAgICAgICAgICAgICAgICBmaWxlLnJlc29sdmUgPSByZXNvbHZlO1xuXHQgICAgICAgICAgICAgICAgZmlsZS5yZWplY3QgPSByZWplY3Q7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzdGFydCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0Jhc2VMb2FkZXIgc3RhcnQuIEZpbGVzIHRvIGxvYWQ6JywgdGhpcy5saXN0LnNpemUpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmlzUmVhZHkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMubGlzdC5zaXplID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaGVkTG9hZGluZygpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IExPQURJTkc7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQuY2xlYXIoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuaW5mbGlnaHQuY2xlYXIoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMucXVldWUuY2xlYXIoKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTG9hZFF1ZXVlKCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndXBkYXRlUHJvZ3Jlc3MnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHtcblx0XG5cdCAgICAgICAgICAgIC8vICBUT0RPXG5cdFxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdwcm9jZXNzTG9hZFF1ZXVlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc0xvYWRRdWV1ZSgpIHtcblx0XG5cdCAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdCYXNlTG9hZGVyIHByb2Nlc3NMb2FkUXVldWUnLCB0aGlzLmxpc3Quc2l6ZSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5saXN0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnN0YXRlID09PSBGSUxFLlBFTkRJTkcgJiYgdGhpcy5pbmZsaWdodC5zaXplIDwgdGhpcy5tYXhQYXJhbGxlbERvd25sb2Fkcykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQURERUQgVE8gUVVFVUU6JywgZmlsZS5zcmMpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmZsaWdodC5hZGQoZmlsZSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QuZGVsZXRlKGZpbGUpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkRmlsZShmaWxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZmxpZ2h0LnNpemUgPT09IHRoaXMubWF4UGFyYWxsZWxEb3dubG9hZHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyAgcHJpdmF0ZVxuXHRcblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdsb2FkRmlsZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRGaWxlKGZpbGUpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICBmaWxlLnNyYyA9IHRoaXMuZ2V0VVJMKGZpbGUpO1xuXHRcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0xPQURJTkcnLCBmaWxlLnNyYyk7XG5cdFxuXHQgICAgICAgICAgICAvLyAgSWYgdGhlIGZpbGUgZG9lc24ndCBoYXZlIGl0cyBvd24gY3Jvc3NPcmlnaW4gc2V0LCB3ZSdsbCB1c2UgdGhlIExvYWRlcnMgKHdoaWNoIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0KVxuXHQgICAgICAgICAgICBpZiAoZmlsZS5jcm9zc09yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcblx0ICAgICAgICAgICAgICAgIGZpbGUuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyAgVGhlIGFyZ3VtZW50IGlzIGFuIFhIUlNldHRpbmdzIG9iamVjdFxuXHQgICAgICAgICAgICBmaWxlLmxvYWQodGhpcy54aHIpLnRoZW4oZnVuY3Rpb24gKGZpbGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubmV4dEZpbGUoZmlsZSwgdHJ1ZSk7XG5cdCAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChmaWxlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm5leHRGaWxlKGZpbGUsIGZhbHNlKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ25leHRGaWxlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbmV4dEZpbGUocHJldmlvdXNGaWxlLCBzdWNjZXNzKSB7XG5cdFxuXHQgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnTE9BREVEOicsIHByZXZpb3VzRmlsZS5zcmMsIHN1Y2Nlc3MpO1xuXHRcblx0ICAgICAgICAgICAgLy8gIE1vdmUgdGhlIGZpbGUgdGhhdCBqdXN0IGxvYWRlZCBmcm9tIHRoZSBpbmZsaWdodCBsaXN0IHRvIHRoZSBxdWV1ZSBvciBmYWlsZWQgU2V0XG5cdFxuXHQgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5xdWV1ZS5hZGQocHJldmlvdXNGaWxlKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZmFpbGVkLmFkZChwcmV2aW91c0ZpbGUpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmluZmxpZ2h0LmRlbGV0ZShwcmV2aW91c0ZpbGUpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMubGlzdC5zaXplID4gMCkge1xuXHQgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ25leHRGaWxlIC0gc3RpbGwgc29tZXRoaW5nIGluIHRoZSBsaXN0Jyk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NMb2FkUXVldWUoKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluZmxpZ2h0LnNpemUgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCduZXh0RmlsZSBjYWxsaW5nIGZpbmlzaGVkTG9hZGluZycpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmcoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRVUkwnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVUkwoZmlsZSkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFmaWxlLnVybCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoZmlsZS51cmwubWF0Y2goL14oPzpibG9iOnxkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98XFwvXFwvKS8pKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmlsZS51cmw7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5iYXNlVVJMICsgZmlsZS5wYXRoICsgZmlsZS51cmw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZmluaXNoZWRMb2FkaW5nJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluaXNoZWRMb2FkaW5nKCkge1xuXHRcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0Jhc2VMb2FkZXIuZmluaXNoZWRMb2FkaW5nIFBST0NFU1NJTkcnKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBQUk9DRVNTSU5HO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5zdG9yYWdlLmNsZWFyKCk7XG5cdFxuXHQgICAgICAgICAgICAvLyAgVGhpcyBjb3VsZCBiZSBQcm9taXNlIGJhc2VkIGFzIHdlbGwsIGFsbG93aW5nIGZvciBhc3luYyBwcm9jZXNzaW5nXG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5xdWV1ZVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gX3N0ZXAyLnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBmaWxlLm9uUHJvY2VzcygpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyAgVGhlIEZpbGUgc3BlY2lmaWMgcHJvY2VzcyBoYW5kbGVyIGhhcyBydW5cblx0ICAgICAgICAgICAgICAgICAgICAvLyAgTm93IHJ1biBhbnkgY3VzdG9tIGNhbGxiYWNrc1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnByb2Nlc3NDYWxsYmFjaykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnByb2Nlc3NDYWxsYmFjayhmaWxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZpbGUub25Db21wbGV0ZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UuYWRkKGZpbGUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG5cdCAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5saXN0LmNsZWFyKCk7XG5cdCAgICAgICAgICAgIHRoaXMuaW5mbGlnaHQuY2xlYXIoKTtcblx0ICAgICAgICAgICAgdGhpcy5xdWV1ZS5jbGVhcigpO1xuXHRcblx0ICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvYWRlciBDb21wbGV0ZS4gTG9hZGVkOicsIHRoaXMuc3RvcmFnZS5zaXplLCAnRmFpbGVkOicsIHRoaXMuZmFpbGVkLnNpemUpO1xuXHRcblx0ICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0Jhc2VMb2FkZXIgQ09NUExFVEUnKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDT01QTEVURTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0TG9hZGVkRmlsZXNCeVR5cGUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2FkZWRGaWxlc0J5VHlwZSh0eXBlKSB7XG5cdCAgICAgICAgICAgIHZhciBncm91cCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzFdO1xuXHQgICAgICAgICAgICB2YXIgb3V0cHV0ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gW10gOiBhcmd1bWVudHNbMl07XG5cdFxuXHRcblx0ICAgICAgICAgICAgLy8gIFJldHVybiBhbiBhcnJheSBvZiBhbGwgZmlsZXMgdGhhdCBoYXZlIHN0YXRlID0gQ09NUExFVEUgKHdoaWNoIG1lYW5zIGxvYWRlZCArIHByb2Nlc3NlZClcblx0XG5cdCAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG5cdCAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5zdG9yYWdlW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBfc3RlcDMudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnN0YXRlID09PSBGSUxFLkNPTVBMRVRFICYmIGZpbGUudGFnID09PSBncm91cCAmJiBmaWxlLnR5cGUgPT09IHR5cGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goZmlsZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG5cdCAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0TG9hZGVkRmlsZXMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2FkZWRGaWxlcygpIHtcblx0ICAgICAgICAgICAgdmFyIGdyb3VwID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMF07XG5cdCAgICAgICAgICAgIHZhciBvdXRwdXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBbXSA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICAvLyAgUmV0dXJuIGFuIGFycmF5IG9mIGFsbCBmaWxlcyB0aGF0IGhhdmUgc3RhdGUgPSBDT01QTEVURSAod2hpY2ggbWVhbnMgbG9hZGVkICsgcHJvY2Vzc2VkKVxuXHRcblx0ICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSB0aGlzLnN0b3JhZ2VbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IF9zdGVwNC52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc3RhdGUgPT09IEZJTEUuQ09NUExFVEUgJiYgZmlsZS50YWcgPT09IGdyb3VwICYmIHR5cGUgIT09ICcnICYmIGZpbGUudHlwZSA9PT0gdHlwZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChmaWxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcblx0ICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZXNldCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0KCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5saXN0LmNsZWFyKCk7XG5cdCAgICAgICAgICAgIHRoaXMuaW5mbGlnaHQuY2xlYXIoKTtcblx0ICAgICAgICAgICAgdGhpcy5mYWlsZWQuY2xlYXIoKTtcblx0ICAgICAgICAgICAgdGhpcy5xdWV1ZS5jbGVhcigpO1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMudGFnID0gJyc7XG5cdCAgICAgICAgICAgIHRoaXMucGF0aCA9ICcnO1xuXHQgICAgICAgICAgICB0aGlzLmJhc2VVUkwgPSAnJztcblx0XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBQRU5ESU5HO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdkZXN0cm95Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IERFU1RST1lFRDtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc3RhdGUnLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0XG5cdCAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gdmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gdmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBDT01QTEVURSAmJiB0aGlzLl9yZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzLmdldExvYWRlZEZpbGVzKCksIHRoaXMpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gRkFJTEVEICYmIHRoaXMuX3JlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gIElzIHRoZSBMb2FkZXIgYWN0aXZlbHkgbG9hZGluZyAob3IgcHJvY2Vzc2luZyBsb2FkZWQgZmlsZXMpXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2lzTG9hZGluZycsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUgPT09IExPQURJTkcgfHwgdGhpcy5fc3RhdGUgPT09IFBST0NFU1NJTkc7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyAgSXMgdGhlIExvYWRlciByZWFkeSB0byBzdGFydCBhIG5ldyBsb2FkP1xuXHRcblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdpc1JlYWR5Jyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyB8fCB0aGlzLl9zdGF0ZSA9PT0gQ09NUExFVEUgfHwgdGhpcy5fc3RhdGUgPT09IEZBSUxFRDtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEJhc2VMb2FkZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEJhc2VMb2FkZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBYSFJTZXR0aW5ncztcblx0Ly8gIENyZWF0ZXMgYW4gWEhSU2V0dGluZ3MgT2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXNcblx0XG5cdGZ1bmN0aW9uIFhIUlNldHRpbmdzKCkge1xuXHQgICAgICAgIHZhciByZXNwb25zZVR5cGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAnJyA6IGFyZ3VtZW50c1swXTtcblx0ICAgICAgICB2YXIgYXN5bmMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzFdO1xuXHQgICAgICAgIHZhciB1c2VyID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgdmFyIHBhc3N3b3JkID0gYXJndW1lbnRzLmxlbmd0aCA8PSAzIHx8IGFyZ3VtZW50c1szXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbM107XG5cdCAgICAgICAgdmFyIHRpbWVvdXQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzRdO1xuXHRcblx0XG5cdCAgICAgICAgcmV0dXJuIHtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgSWdub3JlZCBieSB0aGUgTG9hZGVyLCBvbmx5IHVzZWQgYnkgRmlsZS5cblx0ICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogcmVzcG9uc2VUeXBlLFxuXHRcblx0ICAgICAgICAgICAgICAgIGFzeW5jOiBhc3luYyxcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgY3JlZGVudGlhbHNcblx0ICAgICAgICAgICAgICAgIHVzZXI6IHVzZXIsXG5cdCAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIHRpbWVvdXQgaW4gbXMgKDAgPSBubyB0aW1lb3V0KVxuXHQgICAgICAgICAgICAgICAgdGltZW91dDogdGltZW91dCxcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgc2V0UmVxdWVzdEhlYWRlclxuXHQgICAgICAgICAgICAgICAgaGVhZGVyOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICBoZWFkZXJWYWx1ZTogdW5kZWZpbmVkLFxuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBvdmVycmlkZU1pbWVUeXBlXG5cdCAgICAgICAgICAgICAgICBvdmVycmlkZU1pbWVUeXBlOiB1bmRlZmluZWRcblx0XG5cdCAgICAgICAgfTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5ERVNUUk9ZRUQgPSBleHBvcnRzLkNPTVBMRVRFID0gZXhwb3J0cy5QUk9DRVNTSU5HID0gZXhwb3J0cy5GQUlMRUQgPSBleHBvcnRzLkxPQURFRCA9IGV4cG9ydHMuTE9BRElORyA9IGV4cG9ydHMuUEVORElORyA9IHVuZGVmaW5lZDtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRmlsZTtcblx0XG5cdHZhciBfWEhSTG9hZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuXHRcblx0dmFyIF9YSFJMb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWEhSTG9hZGVyKTtcblx0XG5cdHZhciBfWEhSU2V0dGluZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cdFxuXHR2YXIgX1hIUlNldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1hIUlNldHRpbmdzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyAgRmlsZSBsZXZlbCBjb25zdHNcblx0XG5cdHZhciBQRU5ESU5HID0gZXhwb3J0cy5QRU5ESU5HID0gMDsgLy8gZmlsZSBpcyBpbiB0aGUgbG9hZCBxdWV1ZSBidXQgbm90IHlldCBzdGFydGVkXG5cdHZhciBMT0FESU5HID0gZXhwb3J0cy5MT0FESU5HID0gMTsgLy8gZmlsZSBoYXMgYmVlbiBzdGFydGVkIHRvIGxvYWQgYnkgdGhlIGxvYWRlciAob25Mb2FkIGNhbGxlZClcblx0dmFyIExPQURFRCA9IGV4cG9ydHMuTE9BREVEID0gMjsgLy8gZmlsZSBoYXMgbG9hZGVkIHN1Y2Nlc3NmdWxseSwgYXdhaXRpbmcgcHJvY2Vzc2luZ1xuXHR2YXIgRkFJTEVEID0gZXhwb3J0cy5GQUlMRUQgPSAzOyAvLyBmaWxlIGZhaWxlZCB0byBsb2FkXG5cdHZhciBQUk9DRVNTSU5HID0gZXhwb3J0cy5QUk9DRVNTSU5HID0gNDsgLy8gZmlsZSBpcyBiZWluZyBwcm9jZXNzZWQgKG9uUHJvY2VzcyBjYWxsYmFjaylcblx0dmFyIENPTVBMRVRFID0gZXhwb3J0cy5DT01QTEVURSA9IDU7IC8vIGZpbGUgaGFzIGZpbmlzaGVkIHByb2Nlc3Npbmdcblx0dmFyIERFU1RST1lFRCA9IGV4cG9ydHMuREVTVFJPWUVEID0gNjsgLy8gZmlsZSBoYXMgYmVlbiBkZXN0cm95ZWRcblx0XG5cdC8vICBPdXIgYmFzZSBGaWxlIG9iamVjdCAoZnJvbSB3aGljaCBhbGwgRmlsZSBUeXBlcyBleHRlbmQpXG5cdFxuXHQvLyAga2V5ID0gdXNlciBsZXZlbCBmaWxlIGtleSAoY2FuIGJlIGZpbGVuYW1lIG9yIG90aGVyIHN0cmluZyBiYXNlZCB2YWx1ZSlcblx0Ly8gIHVybCA9IHRoZSBVUkwgdG8gbG9hZCB0aGUgZmlsZSBmcm9tLCBkb2Vzbid0IGluY2x1ZGUgYmFzZVVSTCBvciBQYXRoICh3aGljaCBhcmUgYm90aCBzZXQgYnkgdGhlIExvYWRlcilcblx0Ly8gIHR5cGUgPSBhIHVzZXItbGV2ZWwgdmFsdWUgdGhhdCBjYW4gY29udHJvbCB3aGljaCBjYWNoZSB0aGUgZmlsZSBpcyBhZGRlZCB0b1xuXHRcblx0ZnVuY3Rpb24gRmlsZShrZXksIHVybCwgdHlwZSkge1xuXHRcblx0ICAgICAgICBpZiAoIWtleSkge1xuXHQgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIEZpbGUga2V5Jyk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4ge1xuXHRcblx0ICAgICAgICAgICAgICAgIGtleToga2V5LFxuXHRcblx0ICAgICAgICAgICAgICAgIHVybDogdXJsLFxuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBCb3RoIG9mIHRoZXNlIGFyZSBvdmVycmlkZGVuIGJ5IHRoZSBCYXNlTG9hZGVyIChpZiBiZWluZyB1c2VkKVxuXHQgICAgICAgICAgICAgICAgcGF0aDogJycsXG5cdCAgICAgICAgICAgICAgICBzcmM6IHVybCxcblx0XG5cdCAgICAgICAgICAgICAgICB0YWc6ICcnLCAvLyBUYWcgdGhpcyBmaWxlLCB0aGlzIGlzIGEgbm9uLXVuaXF1ZSBzdHJpbmcuIEZvciBleGFtcGxlIHlvdSBjb3VsZCB0YWcgYSBjb2xsZWN0aW9uIG9mIGZpbGVzIGFzICdsZXZlbDEnLCBvciAnbWFpbm1lbnUnLlxuXHRcblx0ICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsIC8vIHRoZSBmaWxlIHR5cGUsIGkuZS4gJ2ltYWdlJywgJ2pzb24nLCBldGMgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY29udHJvbCB3aGljaCBjYWNoZSBpdCBnZXRzIGFkZGVkIHRvXG5cdFxuXHQgICAgICAgICAgICAgICAgc3RhdGU6IFBFTkRJTkcsXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIE11bHRpcGFydCBmaWxlPyAoaS5lLiBhbiBhdGxhcyBhbmQgaXRzIGpzb24pXG5cdCAgICAgICAgICAgICAgICBtdWx0aXBhcnQ6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgICAgIGxpbmtGaWxlOiB1bmRlZmluZWQsXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIFRoZSBhY3R1YWwgcHJvY2Vzc2VkIGZpbGUgZGF0YVxuXHQgICAgICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBGb3IgQ09ScyBiYXNlZCBsb2FkaW5nLlxuXHQgICAgICAgICAgICAgICAgLy8gIElmIHRoaXMgaXMgdW5kZWZpbmVkIHRoZW4gdGhlIEZpbGUgd2lsbCBjaGVjayBCYXNlTG9hZGVyLmNyb3NzT3JpZ2luIGFuZCB1c2UgdGhhdCAoaWYgc2V0KVxuXHQgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHVuZGVmaW5lZCxcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgT3B0aW9uYWxseSBzZXQgYnkgdGhlIFByb21pc2UgcmV0dXJuZWQgZnJvbSBCYXNlTG9hZGVyLmFkZEZpbGUuXG5cdCAgICAgICAgICAgICAgICByZXNvbHZlOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgICAgICByZWplY3Q6IHVuZGVmaW5lZCxcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgbWF5YmUgeW91IGhhdmUgdG8gc2V0IGl0IGluIHRoZSBQcm9taXNlP1xuXHQgICAgICAgICAgICAgICAgcHJvY2Vzc0NhbGxiYWNrOiB1bmRlZmluZWQsXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIHhociBzcGVjaWZpYyBzZXR0aW5ncyAoaWdub3JlZCBieSBUYWdMb2FkZWQgZmlsZXMpXG5cdCAgICAgICAgICAgICAgICB4aHI6ICgwLCBfWEhSU2V0dGluZ3MyLmRlZmF1bHQpKCd0ZXh0JyksXG5cdFxuXHQgICAgICAgICAgICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gb25TdGF0ZUNoYW5nZSh2YWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uU3RhdGVDaGFuZ2UnLCB0aGlzLnVybCwgJ2Zyb20nLCB0aGlzLnN0YXRlLCAndG8nLCB2YWx1ZSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gdmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBMb2FkZWQgQU5EIFByb2Nlc3NlZFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gQ09NUExFVEUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBQYXJ0IG9mIGEgbXVsdGlwYXJ0IGxvYWQ/XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tdWx0aXBhcnQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIEhhcyB0aGUgbGlua2VkIGZpbGUgbG9hZGVkIHRvbz9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGlua0ZpbGUuc3RhdGUgPT09IENPTVBMRVRFICYmIHRoaXMubXVsdGlwYXJ0LnJlc29sdmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgU2VuZCB0aGUgUHJvbWlzZSBmb3IgdGhlIG11bHRpcGFydCBmaWxlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBhcnQucmVzb2x2ZSh0aGlzLm11bHRpcGFydCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgU2VuZCB0aGUgUHJvbWlzZSBmb3IgdGhpcyBmaWxlXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSh0aGlzKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBGQUlMRUQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBQYXJ0IG9mIGEgbXVsdGlwYXJ0IGxvYWQ/XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tdWx0aXBhcnQpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwYXJ0LnJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBTZW5kIHRoZSBQcm9taXNlIGZvciB0aGUgbXVsdGlwYXJ0IGZpbGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGFydC5yZWplY3QodGhpcy5tdWx0aXBhcnQsIGVycm9yKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBTZW5kIHRoZSBQcm9taXNlIGZvciB0aGlzIGZpbGVcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlamVjdCh0aGlzKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIFRoZXNlIGZ1bmN0aW9ucyBhcmUgdXN1YWxseSBvdmVycmlkZGVuIGJ5IHRoZSBjdXN0b20gZmlsZSB0eXBlc1xuXHRcblx0ICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoZ2xvYmFsWEhSU2V0dGluZ3MpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShMT0FESU5HKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBSZXR1cm5zIGEgUHJvbWlzZSBmcm9tIHRoZSBYSFJMb2FkZXJcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfWEhSTG9hZGVyMi5kZWZhdWx0KSh0aGlzLCBnbG9iYWxYSFJTZXR0aW5ncyk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gb25Mb2FkKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIElmIG92ZXJyaWRkZW4gaXQgbXVzdCBzZXQgYHN0YXRlYCB0byBMT0FERURcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKExPQURFRCk7XG5cdCAgICAgICAgICAgICAgICB9LFxuXHRcblx0ICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgSWYgb3ZlcnJpZGRlbiBpdCBtdXN0IHNldCBgc3RhdGVgIHRvIEZBSUxFRFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoRkFJTEVEKTtcblx0ICAgICAgICAgICAgICAgIH0sXG5cdFxuXHQgICAgICAgICAgICAgICAgb25Qcm9jZXNzOiBmdW5jdGlvbiBvblByb2Nlc3MoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAvLyAgSWYgb3ZlcnJpZGRlbiBpdCBtdXN0IHNldCBgc3RhdGVgIHRvIFBST0NFU1NJTkdcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKFBST0NFU1NJTkcpO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIElmIG92ZXJyaWRkZW4gaXQgbXVzdCBzZXQgYHN0YXRlYCB0byBDT01QTEVURVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoQ09NUExFVEUpO1xuXHQgICAgICAgICAgICAgICAgfSxcblx0XG5cdCAgICAgICAgICAgICAgICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vICBJZiBvdmVycmlkZGVuIGl0IG11c3Qgc2V0IGBzdGF0ZWAgdG8gREVTVFJPWUVEXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShERVNUUk9ZRUQpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICB9O1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFhIUkxvYWRlcjtcblx0XG5cdHZhciBfTWVyZ2VYSFJTZXR0aW5ncyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XG5cdHZhciBfTWVyZ2VYSFJTZXR0aW5nczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXJnZVhIUlNldHRpbmdzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBYSFJMb2FkZXIoZmlsZSwgZ2xvYmFsWEhSU2V0dGluZ3MpIHtcblx0XG5cdCAgICB2YXIgY29uZmlnID0gKDAsIF9NZXJnZVhIUlNldHRpbmdzMi5kZWZhdWx0KShnbG9iYWxYSFJTZXR0aW5ncywgZmlsZS54aHIpO1xuXHRcblx0ICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XG5cdCAgICB4aHIub3BlbignR0VUJywgZmlsZS5zcmMsIGNvbmZpZy5hc3luYywgY29uZmlnLnVzZXIsIGNvbmZpZy5wYXNzd29yZCk7XG5cdFxuXHQgICAgeGhyLnJlc3BvbnNlVHlwZSA9IGZpbGUueGhyLnJlc3BvbnNlVHlwZTtcblx0ICAgIHhoci50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5oZWFkZXIgJiYgY29uZmlnLmhlYWRlclZhbHVlKSB7XG5cdCAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoY29uZmlnLmhlYWRlciwgY29uZmlnLmhlYWRlclZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29uZmlnLm92ZXJyaWRlTWltZVR5cGUpIHtcblx0ICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZShjb25maWcub3ZlcnJpZGVNaW1lVHlwZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0XG5cdCAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgZmlsZS5vbkxvYWQoeGhyKTtcblx0ICAgICAgICAgICAgcmVzb2x2ZShmaWxlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgZmlsZS5vbkVycm9yKHhocik7XG5cdCAgICAgICAgICAgIHJlamVjdChmaWxlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICB4aHIuc2VuZCgpO1xuXHQgICAgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTc5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTWVyZ2VYSFJTZXR0aW5ncztcblx0XG5cdHZhciBfWEhSU2V0dGluZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cdFxuXHR2YXIgX1hIUlNldHRpbmdzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1hIUlNldHRpbmdzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyAgVGFrZXMgdHdvIFhIUiBPYmplY3RzIGFuZCBjcmVhdGVzIGEgbmV3IG9iamVjdFxuXHRcblx0Ly8gIFRoZSBuZXcgb2JqZWN0IGlzIGJhc2VkIG9uIGdsb2JhbCBpbml0aWFsbHksIGJ1dCBhbnkgc2V0dGluZyBpblxuXHQvLyAgbG9jYWwgb3ZlcnJpZGVzIHRoZSBnbG9iYWwgdmFsdWUuXG5cdFxuXHRmdW5jdGlvbiBNZXJnZVhIUlNldHRpbmdzKGdsb2JhbCwgbG9jYWwpIHtcblx0XG5cdCAgICB2YXIgb3V0cHV0ID0gZ2xvYmFsID09PSB1bmRlZmluZWQgPyAoMCwgX1hIUlNldHRpbmdzMi5kZWZhdWx0KSgpIDogT2JqZWN0LmFzc2lnbihnbG9iYWwpO1xuXHRcblx0ICAgIGlmIChsb2NhbCkge1xuXHQgICAgICAgIGZvciAodmFyIHNldHRpbmcgaW4gbG9jYWwpIHtcblx0ICAgICAgICAgICAgaWYgKGxvY2FsW3NldHRpbmddICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIG91dHB1dFtzZXR0aW5nXSA9IGxvY2FsW3NldHRpbmddO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBvdXRwdXQ7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTgwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UWVBFID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBJbWFnZUZpbGU7XG5cdFxuXHR2YXIgX0ZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cdFxuXHR2YXIgRklMRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9GaWxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHR2YXIgVFlQRSA9IGV4cG9ydHMuVFlQRSA9ICdpbWFnZSc7XG5cdFxuXHRmdW5jdGlvbiBJbWFnZUZpbGUoa2V5KSB7XG5cdCAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpIHtcblx0ICAgICAgICB1cmwgPSBrZXkgKyAnLnBuZyc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZpbGUgPSAoMCwgRklMRS5kZWZhdWx0KShrZXksIHVybCwgVFlQRSk7XG5cdFxuXHQgICAgZmlsZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURJTkcpO1xuXHRcblx0ICAgICAgICB0aGlzLmRhdGEgPSBuZXcgSW1hZ2UoKTtcblx0XG5cdCAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcblx0ICAgICAgICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFxuXHQgICAgICAgICAgICBfdGhpcy5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kYXRhLm9ubG9hZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGEub25sb2FkID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhLm9uZXJyb3IgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlID0gRklMRS5MT0FERUQ7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIF90aGlzLmRhdGEub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKF90aGlzLmRhdGEub25sb2FkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGF0YS5vbmxvYWQgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGEub25lcnJvciA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBldmVudDtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IEZJTEUuRkFJTEVEO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlamVjdChmaWxlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIF90aGlzLmRhdGEubmFtZSA9IGtleTtcblx0ICAgICAgICAgICAgX3RoaXMuZGF0YS5zcmMgPSBfdGhpcy5zcmM7XG5cdFxuXHQgICAgICAgICAgICAvLyBJbWFnZSBpcyBpbW1lZGlhdGVseS1hdmFpbGFibGUgb3IgY2FjaGVkXG5cdFxuXHQgICAgICAgICAgICBpZiAoX3RoaXMuZGF0YS5jb21wbGV0ZSAmJiBfdGhpcy5kYXRhLndpZHRoICYmIF90aGlzLmRhdGEuaGVpZ2h0KSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5kYXRhLm9ubG9hZCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5kYXRhLm9uZXJyb3IgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBGSUxFLkxPQURFRDtcblx0ICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIGZpbGU7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTgxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UWVBFID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBKU09ORmlsZTtcblx0XG5cdHZhciBfRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblx0XG5cdHZhciBGSUxFID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0ZpbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdHZhciBUWVBFID0gZXhwb3J0cy5UWVBFID0gJ2pzb24nO1xuXHRcblx0ZnVuY3Rpb24gSlNPTkZpbGUoa2V5KSB7XG5cdCAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpIHtcblx0ICAgICAgICB1cmwgPSBrZXkgKyAnLmpzb24nO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBmaWxlID0gKDAsIEZJTEUuZGVmYXVsdCkoa2V5LCB1cmwsIFRZUEUpO1xuXHRcblx0ICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXG5cdCAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XG5cdFxuXHQgICAgZmlsZS5vbkxvYWQgPSBmdW5jdGlvbiAoeGhyKSB7XG5cdFxuXHQgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XG5cdFxuXHQgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIGZpbGUub25Qcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoRklMRS5QUk9DRVNTSU5HKTtcblx0XG5cdCAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0aGlzLmRhdGEpO1xuXHQgICAgfTtcblx0XG5cdCAgICBpZiAoZGF0YSkge1xuXHQgICAgICAgIGZpbGUuZGF0YSA9IGRhdGE7XG5cdCAgICAgICAgZmlsZS5vblByb2Nlc3MoKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZmlsZTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxODI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRZUEUgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFhNTEZpbGU7XG5cdFxuXHR2YXIgX1BhcnNlWE1MID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODMpO1xuXHRcblx0dmFyIF9QYXJzZVhNTDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXJzZVhNTCk7XG5cdFxuXHR2YXIgX0ZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cdFxuXHR2YXIgRklMRSA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9GaWxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFRZUEUgPSBleHBvcnRzLlRZUEUgPSAneG1sJztcblx0XG5cdGZ1bmN0aW9uIFhNTEZpbGUoa2V5KSB7XG5cdCAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpIHtcblx0ICAgICAgICB1cmwgPSBrZXkgKyAnLnhtbCc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZpbGUgPSAoMCwgRklMRS5kZWZhdWx0KShrZXksIHVybCwgVFlQRSk7XG5cdFxuXHQgICAgLy8gIFNldCB0aGUgZXhwZWN0ZWQgWEhSIHJlc3BvbnNlIHR5cGVcblx0ICAgIGZpbGUueGhyLnJlc3BvbnNlVHlwZSA9ICd0ZXh0Jztcblx0XG5cdCAgICBmaWxlLm9uTG9hZCA9IGZ1bmN0aW9uICh4aHIpIHtcblx0XG5cdCAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlVGV4dDtcblx0XG5cdCAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKEZJTEUuTE9BREVEKTtcblx0ICAgIH07XG5cdFxuXHQgICAgZmlsZS5vblByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLlBST0NFU1NJTkcpO1xuXHRcblx0ICAgICAgICB2YXIgeG1sID0gKDAsIF9QYXJzZVhNTDIuZGVmYXVsdCkodGhpcy5kYXRhKTtcblx0XG5cdCAgICAgICAgaWYgKCF4bWwpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdYTUxGaWxlOiBJbnZhbGlkIFhNTCcpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuZGF0YSA9IHhtbDtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmIChkYXRhKSB7XG5cdCAgICAgICAgZmlsZS5kYXRhID0gZGF0YTtcblx0ICAgICAgICBmaWxlLm9uUHJvY2VzcygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmaWxlO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE4Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBhcnNlWE1MO1xuXHRmdW5jdGlvbiBQYXJzZVhNTChkYXRhKSB7XG5cdFxuXHQgICAgdmFyIHhtbCA9ICcnO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgICAgaWYgKHdpbmRvd1snRE9NUGFyc2VyJ10pIHtcblx0ICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblx0ICAgICAgICAgICAgeG1sID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB4bWwgPSBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTERPTScpO1xuXHQgICAgICAgICAgICB4bWwubG9hZFhNTChkYXRhKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgeG1sID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIXhtbCB8fCAheG1sLmRvY3VtZW50RWxlbWVudCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhcnNlcmVycm9yJykubGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB4bWw7XG5cdCAgICB9XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTg0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UWVBFID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBUZXh0RmlsZTtcblx0XG5cdHZhciBfRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblx0XG5cdHZhciBGSUxFID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0ZpbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdHZhciBUWVBFID0gZXhwb3J0cy5UWVBFID0gJ3RleHQnO1xuXHRcblx0ZnVuY3Rpb24gVGV4dEZpbGUoa2V5KSB7XG5cdCAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpIHtcblx0ICAgICAgICB1cmwgPSBrZXkgKyAnLnR4dCc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGZpbGUgPSAoMCwgRklMRS5kZWZhdWx0KShrZXksIHVybCwgVFlQRSk7XG5cdFxuXHQgICAgLy8gIFNldCB0aGUgZXhwZWN0ZWQgWEhSIHJlc3BvbnNlIHR5cGVcblx0ICAgIGZpbGUueGhyLnJlc3BvbnNlVHlwZSA9ICd0ZXh0Jztcblx0XG5cdCAgICBmaWxlLm9uTG9hZCA9IGZ1bmN0aW9uICh4aHIpIHtcblx0XG5cdCAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlVGV4dDtcblx0XG5cdCAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKEZJTEUuTE9BREVEKTtcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKGRhdGEpIHtcblx0ICAgICAgICBmaWxlLmRhdGEgPSBkYXRhO1xuXHQgICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZpbGU7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTg1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UWVBFID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBHTFNMRmlsZTtcblx0XG5cdHZhciBfRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblx0XG5cdHZhciBGSUxFID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0ZpbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdHZhciBUWVBFID0gZXhwb3J0cy5UWVBFID0gJ2dsc2wnO1xuXHRcblx0ZnVuY3Rpb24gR0xTTEZpbGUoa2V5KSB7XG5cdCAgICB2YXIgdXJsID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJycgOiBhcmd1bWVudHNbMV07XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpIHtcblx0ICAgICAgICB1cmwgPSBrZXkgKyAnLmdsc2wnO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBmaWxlID0gKDAsIEZJTEUuZGVmYXVsdCkoa2V5LCB1cmwsIFRZUEUpO1xuXHRcblx0ICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXG5cdCAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XG5cdFxuXHQgICAgZmlsZS5vbkxvYWQgPSBmdW5jdGlvbiAoeGhyKSB7XG5cdFxuXHQgICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XG5cdFxuXHQgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmIChkYXRhKSB7XG5cdCAgICAgICAgZmlsZS5kYXRhID0gZGF0YTtcblx0ICAgICAgICBmaWxlLm9uUHJvY2VzcygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmaWxlO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE4Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVFlQRSA9IHVuZGVmaW5lZDtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQmluYXJ5RmlsZTtcblx0XG5cdHZhciBfRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblx0XG5cdHZhciBGSUxFID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0ZpbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdHZhciBUWVBFID0gZXhwb3J0cy5UWVBFID0gJ2JpbmFyeSc7XG5cdFxuXHRmdW5jdGlvbiBCaW5hcnlGaWxlKGtleSkge1xuXHQgICAgdmFyIHVybCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICcnIDogYXJndW1lbnRzWzFdO1xuXHQgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMl07XG5cdFxuXHRcblx0ICAgIGlmICh1cmwgPT09ICcnICYmICFkYXRhKSB7XG5cdCAgICAgICAgdXJsID0ga2V5ICsgJy5iaW4nO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBmaWxlID0gKDAsIEZJTEUuZGVmYXVsdCkoa2V5LCB1cmwsIFRZUEUpO1xuXHRcblx0ICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXG5cdCAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXHRcblx0ICAgIGZpbGUub25Mb2FkID0gZnVuY3Rpb24gKHhocikge1xuXHRcblx0ICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2U7XG5cdFxuXHQgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIGlmIChkYXRhKSB7XG5cdCAgICAgICAgZmlsZS5kYXRhID0gZGF0YTtcblx0ICAgICAgICBmaWxlLm9uUHJvY2VzcygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmaWxlO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE4Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEF0bGFzSlNPTkZpbGU7XG5cdFxuXHR2YXIgX0ltYWdlRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcblx0XG5cdHZhciBfSW1hZ2VGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ltYWdlRmlsZSk7XG5cdFxuXHR2YXIgX0pTT05GaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODEpO1xuXHRcblx0dmFyIF9KU09ORmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9KU09ORmlsZSk7XG5cdFxuXHR2YXIgX011bHRpRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg4KTtcblx0XG5cdHZhciBfTXVsdGlGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX011bHRpRmlsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gQXRsYXNKU09ORmlsZShrZXksIHRleHR1cmVVUkwsIGF0bGFzVVJMLCBhdGxhc0RhdGEpIHtcblx0XG5cdCAgICBpZiAoYXRsYXNVUkwgPT09ICcnICYmIGF0bGFzRGF0YSA9PT0gbnVsbCkge1xuXHQgICAgICAgIGF0bGFzVVJMID0ga2V5ICsgJy5qc29uJztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gKDAsIF9NdWx0aUZpbGUyLmRlZmF1bHQpKCgwLCBfSW1hZ2VGaWxlMi5kZWZhdWx0KShrZXksIHRleHR1cmVVUkwpLCAoMCwgX0pTT05GaWxlMi5kZWZhdWx0KShrZXksIGF0bGFzVVJMLCBhdGxhc0RhdGEpKTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxODg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IE11bHRpRmlsZTtcblx0ZnVuY3Rpb24gTXVsdGlGaWxlKGZpbGVBLCBmaWxlQikge1xuXHRcblx0ICAgIC8vICBMaW5rIHRoZSB0d28gZmlsZXNcblx0ICAgIGZpbGVBLmxpbmtGaWxlID0gZmlsZUI7XG5cdCAgICBmaWxlQi5saW5rRmlsZSA9IGZpbGVBO1xuXHRcblx0ICAgIHZhciBtdWx0aXBhcnQgPSB7XG5cdFxuXHQgICAgICAgIG11bHRpcGFydDogdHJ1ZSxcblx0XG5cdCAgICAgICAgZmlsZUE6IGZpbGVBLFxuXHQgICAgICAgIGZpbGVCOiBmaWxlQixcblx0XG5cdCAgICAgICAgcmVzb2x2ZTogdW5kZWZpbmVkLFxuXHQgICAgICAgIHJlamVjdDogdW5kZWZpbmVkLFxuXHRcblx0ICAgICAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgLy8gICBUaGlzIGlzbid0IHVzZWQgYnkgdGhlIEJhc2VMb2FkZXIsIGJ1dCBhbGxvd3MgeW91IHRvIGNhbGwgbG9hZCBkaXJlY3RseSBvbiB0aGUgbXVsdGlwYXJ0IGZpbGVcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIFdoZW4gdGhpcyBmaWxlIGxvYWRzIHdlIG5lZWQgdG8gY2FsbCAncmVzb2x2ZSdcblx0ICAgICAgICAgICAgICAgIF90aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuXHQgICAgICAgICAgICAgICAgX3RoaXMucmVqZWN0ID0gcmVqZWN0O1xuXHRcblx0ICAgICAgICAgICAgICAgIF90aGlzLmZpbGVBLmxvYWQoKS50aGVuKGZ1bmN0aW9uIChmaWxlKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnByb2Nlc3NDYWxsYmFjaykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnByb2Nlc3NDYWxsYmFjayhmaWxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZpbGUub25Db21wbGV0ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGZpbGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBmaWxlLm9uRXJyb3IoKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgICAgIF90aGlzLmZpbGVCLmxvYWQoKS50aGVuKGZ1bmN0aW9uIChmaWxlKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnByb2Nlc3NDYWxsYmFjaykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnByb2Nlc3NDYWxsYmFjayhmaWxlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZpbGUub25Db21wbGV0ZSgpO1xuXHQgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGZpbGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBmaWxlLm9uRXJyb3IoKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgfTtcblx0XG5cdCAgICBmaWxlQS5tdWx0aXBhcnQgPSBtdWx0aXBhcnQ7XG5cdCAgICBmaWxlQi5tdWx0aXBhcnQgPSBtdWx0aXBhcnQ7XG5cdFxuXHQgICAgcmV0dXJuIG11bHRpcGFydDtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxODk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBBdGxhc1hNTEZpbGU7XG5cdFxuXHR2YXIgX0ltYWdlRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcblx0XG5cdHZhciBfSW1hZ2VGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ltYWdlRmlsZSk7XG5cdFxuXHR2YXIgX0pTT05GaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODEpO1xuXHRcblx0dmFyIF9KU09ORmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9KU09ORmlsZSk7XG5cdFxuXHR2YXIgX011bHRpRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg4KTtcblx0XG5cdHZhciBfTXVsdGlGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX011bHRpRmlsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gQXRsYXNYTUxGaWxlKGtleSwgdGV4dHVyZVVSTCwgYXRsYXNVUkwsIGF0bGFzRGF0YSkge1xuXHRcblx0ICAgIGlmIChhdGxhc1VSTCA9PT0gJycgJiYgYXRsYXNEYXRhID09PSBudWxsKSB7XG5cdCAgICAgICAgYXRsYXNVUkwgPSBrZXkgKyAnLnhtbCc7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICgwLCBfTXVsdGlGaWxlMi5kZWZhdWx0KSgoMCwgX0ltYWdlRmlsZTIuZGVmYXVsdCkoa2V5LCB0ZXh0dXJlVVJMKSwgWE1MRmlsZShrZXksIGF0bGFzVVJMLCBhdGxhc0RhdGEpKTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA0MDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdCdjcmVhdGUgaW5kZXgnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5YTUxGaWxlID0gZXhwb3J0cy5UZXh0RmlsZSA9IGV4cG9ydHMuSlNPTkZpbGUgPSBleHBvcnRzLkltYWdlRmlsZSA9IGV4cG9ydHMuR0xTTEZpbGUgPSBleHBvcnRzLkJpbmFyeUZpbGUgPSBleHBvcnRzLkF0bGFzWE1MRmlsZSA9IGV4cG9ydHMuQXRsYXNKU09ORmlsZSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfQXRsYXNKU09ORmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdHZhciBfQXRsYXNKU09ORmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BdGxhc0pTT05GaWxlKTtcblx0XG5cdHZhciBfQXRsYXNYTUxGaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODkpO1xuXHRcblx0dmFyIF9BdGxhc1hNTEZpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQXRsYXNYTUxGaWxlKTtcblx0XG5cdHZhciBfQmluYXJ5RmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg2KTtcblx0XG5cdHZhciBfQmluYXJ5RmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CaW5hcnlGaWxlKTtcblx0XG5cdHZhciBfR0xTTEZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NSk7XG5cdFxuXHR2YXIgX0dMU0xGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU0xGaWxlKTtcblx0XG5cdHZhciBfSW1hZ2VGaWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuXHRcblx0dmFyIF9JbWFnZUZpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW1hZ2VGaWxlKTtcblx0XG5cdHZhciBfSlNPTkZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MSk7XG5cdFxuXHR2YXIgX0pTT05GaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0pTT05GaWxlKTtcblx0XG5cdHZhciBfVGV4dEZpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7XG5cdFxuXHR2YXIgX1RleHRGaWxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRGaWxlKTtcblx0XG5cdHZhciBfWE1MRmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgyKTtcblx0XG5cdHZhciBfWE1MRmlsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9YTUxGaWxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLkF0bGFzSlNPTkZpbGUgPSBfQXRsYXNKU09ORmlsZTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5BdGxhc1hNTEZpbGUgPSBfQXRsYXNYTUxGaWxlMi5kZWZhdWx0O1xuXHRleHBvcnRzLkJpbmFyeUZpbGUgPSBfQmluYXJ5RmlsZTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5HTFNMRmlsZSA9IF9HTFNMRmlsZTIuZGVmYXVsdDtcblx0ZXhwb3J0cy5JbWFnZUZpbGUgPSBfSW1hZ2VGaWxlMi5kZWZhdWx0O1xuXHRleHBvcnRzLkpTT05GaWxlID0gX0pTT05GaWxlMi5kZWZhdWx0O1xuXHRleHBvcnRzLlRleHRGaWxlID0gX1RleHRGaWxlMi5kZWZhdWx0O1xuXHRleHBvcnRzLlhNTEZpbGUgPSBfWE1MRmlsZTIuZGVmYXVsdDtcblxuLyoqKi8gfVxuXG4vKioqKioqLyB9KVxufSk7XG47XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogbG9hZGVyLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAxYjZmNThhMTc3NDUwODBmMDAxYVxuICoqLyIsIidjcmVhdGUgaW5kZXgnO1xyXG5cclxuaW1wb3J0IEJhc2VMb2FkZXIgZnJvbSAnLi9CYXNlTG9hZGVyLmpzJztcclxuaW1wb3J0IEZpbGUgZnJvbSAnLi9GaWxlLmpzJztcclxuaW1wb3J0IExvYWRlciBmcm9tICcuL0xvYWRlci5qcyc7XHJcbmltcG9ydCBNZXJnZVhIUlNldHRpbmdzIGZyb20gJy4vTWVyZ2VYSFJTZXR0aW5ncy5qcyc7XHJcbmltcG9ydCBNdWx0aUZpbGUgZnJvbSAnLi9NdWx0aUZpbGUuanMnO1xyXG5pbXBvcnQgWEhSTG9hZGVyIGZyb20gJy4vWEhSTG9hZGVyLmpzJztcclxuaW1wb3J0IFhIUlNldHRpbmdzIGZyb20gJy4vWEhSU2V0dGluZ3MuanMnO1xyXG5pbXBvcnQgKiBhcyB0eXBlcyBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCB7XHJcbiAgICBCYXNlTG9hZGVyLFxyXG4gICAgRmlsZSxcclxuICAgIExvYWRlcixcclxuICAgIE1lcmdlWEhSU2V0dGluZ3MsXHJcbiAgICBNdWx0aUZpbGUsXHJcbiAgICBYSFJMb2FkZXIsXHJcbiAgICBYSFJTZXR0aW5ncyxcclxuICAgIHR5cGVzXHJcbn07XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9sb2FkZXIvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgQmFzZUxvYWRlciBmcm9tICcuL0Jhc2VMb2FkZXIuanMnO1xyXG5pbXBvcnQgSW1hZ2VGaWxlIGZyb20gJy4vdHlwZXMvSW1hZ2VGaWxlLmpzJztcclxuaW1wb3J0IEpTT05GaWxlIGZyb20gJy4vdHlwZXMvSlNPTkZpbGUuanMnO1xyXG5pbXBvcnQgWE1MRmlsZSBmcm9tICcuL3R5cGVzL1hNTEZpbGUuanMnO1xyXG5pbXBvcnQgVGV4dEZpbGUgZnJvbSAnLi90eXBlcy9UZXh0RmlsZS5qcyc7XHJcbmltcG9ydCBHTFNMRmlsZSBmcm9tICcuL3R5cGVzL0dMU0xGaWxlLmpzJztcclxuaW1wb3J0IEJpbmFyeUZpbGUgZnJvbSAnLi90eXBlcy9CaW5hcnlGaWxlLmpzJztcclxuaW1wb3J0IEF0bGFzSlNPTkZpbGUgZnJvbSAnLi90eXBlcy9BdGxhc0pTT05GaWxlLmpzJztcclxuaW1wb3J0IEF0bGFzWE1MRmlsZSBmcm9tICcuL3R5cGVzL0F0bGFzWE1MRmlsZS5qcyc7XHJcblxyXG4vLyAgVGhpcyBpcyBvdXIgUGhhc2VyLWxpa2UgTG9hZGVyIGNsYXNzLiBZb3UgZG9uJ3QgaGF2ZSB0byB1c2UgaXQgOilcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaW1hZ2UgKGtleSwgdXJsID0gJycpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmlsZShJbWFnZUZpbGUoa2V5LCB1cmwpKTtcclxuXHJcbiAgICB9XHJcbiBcclxuICAgIGltYWdlcyAoa2V5cywgdXJscyA9IG51bGwpIHtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJscykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uoa2V5c1tpXSwgdXJsc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlKGtleXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAganNvbiAoa2V5LCB1cmwgPSAnJykge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5hZGRGaWxlKEpTT05GaWxlKGtleSwgdXJsKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRleHQgKGtleSwgdXJsID0gJycpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmlsZShUZXh0RmlsZShrZXksIHVybCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnbHNsIChrZXksIHVybCA9ICcnKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoR0xTTEZpbGUoa2V5LCB1cmwpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2hhZGVyIChrZXksIHVybCA9ICcnKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoR0xTTEZpbGUoa2V5LCB1cmwpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgeG1sIChrZXksIHVybCA9ICcnKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoWE1MRmlsZShrZXksIHVybCkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBiaW5hcnkgKGtleSwgdXJsID0gJycsIGNhbGxiYWNrID0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIGxldCBmaWxlID0gQmluYXJ5RmlsZShrZXksIHVybCk7XHJcblxyXG4gICAgICAgIGZpbGUucHJvY2Vzc0NhbGxiYWNrID0gY2FsbGJhY2s7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoZmlsZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGF0bGFzIChrZXksIHRleHR1cmVVUkwgPSAnJywgYXRsYXNVUkwgPSAnJywgYXRsYXNEYXRhID0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEZpbGUoQXRsYXNKU09ORmlsZShrZXksIHRleHR1cmVVUkwsIGF0bGFzVVJMLCBhdGxhc0RhdGEpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXRsYXNYTUwgKGtleSwgdGV4dHVyZVVSTCA9ICcnLCBhdGxhc1VSTCA9ICcnLCBhdGxhc0RhdGEgPSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkRmlsZShBdGxhc1hNTEZpbGUoa2V5LCB0ZXh0dXJlVVJMLCBhdGxhc1VSTCwgYXRsYXNEYXRhKSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvYWRlci9Mb2FkZXIuanNcbiAqKi8iLCJpbXBvcnQgWEhSU2V0dGluZ3MgZnJvbSAnLi9YSFJTZXR0aW5ncy5qcyc7XHJcbmltcG9ydCBGaWxlLCAqIGFzIEZJTEUgZnJvbSAnLi9GaWxlLmpzJztcclxuXHJcbmV4cG9ydCBjb25zdCBQRU5ESU5HID0gMDtcclxuZXhwb3J0IGNvbnN0IExPQURJTkcgPSAxO1xyXG5leHBvcnQgY29uc3QgUFJPQ0VTU0lORyA9IDI7XHJcbmV4cG9ydCBjb25zdCBDT01QTEVURSA9IDM7XHJcbmV4cG9ydCBjb25zdCBGQUlMRUQgPSA0O1xyXG5leHBvcnQgY29uc3QgREVTVFJPWUVEID0gNTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VMb2FkZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gJyc7XHJcblxyXG4gICAgICAgIHRoaXMucGF0aCA9ICcnO1xyXG5cclxuICAgICAgICB0aGlzLnRhZyA9ICcnO1xyXG5cclxuICAgICAgICB0aGlzLmVuYWJsZVBhcmFsbGVsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhQYXJhbGxlbERvd25sb2FkcyA9IDQ7XHJcblxyXG4gICAgICAgIC8vICB4aHIgc3BlY2lmaWMgZ2xvYmFsIHNldHRpbmdzIChjYW4gYmUgb3ZlcnJpZGRlbiBvbiBhIHBlci1maWxlIGJhc2lzKVxyXG4gICAgICAgIHRoaXMueGhyID0gWEhSU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgdGhpcy5saXN0ID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHRoaXMuaW5mbGlnaHQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5mYWlsZWQgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3N0YXRlID0gUEVORElORztcclxuICAgICAgICB0aGlzLl9yZXNvbHZlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0YXRlICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXQgc3RhdGUgKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gdmFsdWUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBDT01QTEVURSAmJiB0aGlzLl9yZXNvbHZlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMuZ2V0TG9hZGVkRmlsZXMoKSwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IEZBSUxFRCAmJiB0aGlzLl9yZWplY3QpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gIElzIHRoZSBMb2FkZXIgYWN0aXZlbHkgbG9hZGluZyAob3IgcHJvY2Vzc2luZyBsb2FkZWQgZmlsZXMpXHJcbiAgICBnZXQgaXNMb2FkaW5nICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9zdGF0ZSA9PT0gTE9BRElORyB8fCB0aGlzLl9zdGF0ZSA9PT0gUFJPQ0VTU0lORyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBJcyB0aGUgTG9hZGVyIHJlYWR5IHRvIHN0YXJ0IGEgbmV3IGxvYWQ/XHJcbiAgICBnZXQgaXNSZWFkeSAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgfHwgdGhpcy5fc3RhdGUgPT09IENPTVBMRVRFIHx8IHRoaXMuX3N0YXRlID09PSBGQUlMRUQpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGFydEZpbGVHcm91cCAobmFtZSkge1xyXG5cclxuICAgICAgICB0aGlzLnRhZyA9IG5hbWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0b3BGaWxlR3JvdXAgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnRhZyA9ICcnO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRGaWxlIChmaWxlKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc1JlYWR5KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gIE11bHRpcGFydCBmaWxlP1xyXG4gICAgICAgIGlmIChmaWxlLm11bHRpcGFydClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZpbGUuZmlsZUEucGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICAgICAgZmlsZS5maWxlQi5wYXRoID0gdGhpcy5wYXRoO1xyXG5cclxuICAgICAgICAgICAgZmlsZS5maWxlQS50YWcgPSB0aGlzLnRhZztcclxuICAgICAgICAgICAgZmlsZS5maWxlQi50YWcgPSB0aGlzLnRhZztcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5hZGQoZmlsZS5maWxlQSk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5hZGQoZmlsZS5maWxlQik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZpbGUucGF0aCA9IHRoaXMucGF0aDtcclxuICAgICAgICAgICAgZmlsZS50YWcgPSB0aGlzLnRhZztcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5hZGQoZmlsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoXHJcbiAgICAgICAgICAgIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgV2hlbiB0aGlzIGZpbGUgbG9hZHMgd2UgbmVlZCB0byBjYWxsICdyZXNvbHZlJ1xyXG4gICAgICAgICAgICAgICAgZmlsZS5yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgICAgIGZpbGUucmVqZWN0ID0gcmVqZWN0O1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0Jhc2VMb2FkZXIgc3RhcnQuIEZpbGVzIHRvIGxvYWQ6JywgdGhpcy5saXN0LnNpemUpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNSZWFkeSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxpc3Quc2l6ZSA9PT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWRMb2FkaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBMT0FESU5HO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5mYWlsZWQuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5pbmZsaWdodC5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NMb2FkUXVldWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcclxuICAgICAgICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWplY3QgPSByZWplY3Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQcm9ncmVzcyAoKSB7XHJcblxyXG4gICAgICAgIC8vICBUT0RPXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3NMb2FkUXVldWUgKCkge1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQmFzZUxvYWRlciBwcm9jZXNzTG9hZFF1ZXVlJywgdGhpcy5saXN0LnNpemUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBmaWxlIG9mIHRoaXMubGlzdClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChmaWxlLnN0YXRlID09PSBGSUxFLlBFTkRJTkcgJiYgdGhpcy5pbmZsaWdodC5zaXplIDwgdGhpcy5tYXhQYXJhbGxlbERvd25sb2FkcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FEREVEIFRPIFFVRVVFOicsIGZpbGUuc3JjKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZmxpZ2h0LmFkZChmaWxlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3QuZGVsZXRlKGZpbGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEZpbGUoZmlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluZmxpZ2h0LnNpemUgPT09IHRoaXMubWF4UGFyYWxsZWxEb3dubG9hZHMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAgcHJpdmF0ZVxyXG4gICAgbG9hZEZpbGUgKGZpbGUpIHtcclxuXHJcbiAgICAgICAgZmlsZS5zcmMgPSB0aGlzLmdldFVSTChmaWxlKTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xPQURJTkcnLCBmaWxlLnNyYyk7XHJcblxyXG4gICAgICAgIC8vICBJZiB0aGUgZmlsZSBkb2Vzbid0IGhhdmUgaXRzIG93biBjcm9zc09yaWdpbiBzZXQsIHdlJ2xsIHVzZSB0aGUgTG9hZGVycyAod2hpY2ggaXMgdW5kZWZpbmVkIGJ5IGRlZmF1bHQpXHJcbiAgICAgICAgaWYgKGZpbGUuY3Jvc3NPcmlnaW4gPT09IHVuZGVmaW5lZCAmJiB0aGlzLmNyb3NzT3JpZ2luKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZmlsZS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAgVGhlIGFyZ3VtZW50IGlzIGFuIFhIUlNldHRpbmdzIG9iamVjdFxyXG4gICAgICAgIGZpbGUubG9hZCh0aGlzLnhocilcclxuICAgICAgICAgICAgLnRoZW4oZmlsZSA9PiB0aGlzLm5leHRGaWxlKGZpbGUsIHRydWUpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZmlsZSA9PiB0aGlzLm5leHRGaWxlKGZpbGUsIGZhbHNlKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG5leHRGaWxlIChwcmV2aW91c0ZpbGUsIHN1Y2Nlc3MpIHtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xPQURFRDonLCBwcmV2aW91c0ZpbGUuc3JjLCBzdWNjZXNzKTtcclxuXHJcbiAgICAgICAgLy8gIE1vdmUgdGhlIGZpbGUgdGhhdCBqdXN0IGxvYWRlZCBmcm9tIHRoZSBpbmZsaWdodCBsaXN0IHRvIHRoZSBxdWV1ZSBvciBmYWlsZWQgU2V0XHJcblxyXG4gICAgICAgIGlmIChzdWNjZXNzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZS5hZGQocHJldmlvdXNGaWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5mYWlsZWQuYWRkKHByZXZpb3VzRmlsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluZmxpZ2h0LmRlbGV0ZShwcmV2aW91c0ZpbGUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5saXN0LnNpemUgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ25leHRGaWxlIC0gc3RpbGwgc29tZXRoaW5nIGluIHRoZSBsaXN0Jyk7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xvYWRRdWV1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmluZmxpZ2h0LnNpemUgPT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbmV4dEZpbGUgY2FsbGluZyBmaW5pc2hlZExvYWRpbmcnKTtcclxuICAgICAgICAgICAgdGhpcy5maW5pc2hlZExvYWRpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFVSTCAoZmlsZSkge1xyXG5cclxuICAgICAgICBpZiAoIWZpbGUudXJsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpbGUudXJsLm1hdGNoKC9eKD86YmxvYjp8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfFxcL1xcLykvKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlLnVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVVSTCArIGZpbGUucGF0aCArIGZpbGUudXJsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZpbmlzaGVkTG9hZGluZyAoKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdCYXNlTG9hZGVyLmZpbmlzaGVkTG9hZGluZyBQUk9DRVNTSU5HJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBQUk9DRVNTSU5HO1xyXG5cclxuICAgICAgICB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgLy8gIFRoaXMgY291bGQgYmUgUHJvbWlzZSBiYXNlZCBhcyB3ZWxsLCBhbGxvd2luZyBmb3IgYXN5bmMgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGZvciAobGV0IGZpbGUgb2YgdGhpcy5xdWV1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyAgVGhlIEZpbGUgc3BlY2lmaWMgcHJvY2VzcyBoYW5kbGVyIGhhcyBydW5cclxuICAgICAgICAgICAgLy8gIE5vdyBydW4gYW55IGN1c3RvbSBjYWxsYmFja3NcclxuICAgICAgICAgICAgaWYgKGZpbGUucHJvY2Vzc0NhbGxiYWNrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmaWxlLnByb2Nlc3NDYWxsYmFjayhmaWxlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZS5vbkNvbXBsZXRlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UuYWRkKGZpbGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0LmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5pbmZsaWdodC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMucXVldWUuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRlciBDb21wbGV0ZS4gTG9hZGVkOicsIHRoaXMuc3RvcmFnZS5zaXplLCAnRmFpbGVkOicsIHRoaXMuZmFpbGVkLnNpemUpO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnQmFzZUxvYWRlciBDT01QTEVURScpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0gQ09NUExFVEU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldExvYWRlZEZpbGVzQnlUeXBlICh0eXBlLCBncm91cCA9ICcnLCBvdXRwdXQgPSBbXSkge1xyXG5cclxuICAgICAgICAvLyAgUmV0dXJuIGFuIGFycmF5IG9mIGFsbCBmaWxlcyB0aGF0IGhhdmUgc3RhdGUgPSBDT01QTEVURSAod2hpY2ggbWVhbnMgbG9hZGVkICsgcHJvY2Vzc2VkKVxyXG5cclxuICAgICAgICBmb3IgKGxldCBmaWxlIG9mIHRoaXMuc3RvcmFnZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChmaWxlLnN0YXRlID09PSBGSUxFLkNPTVBMRVRFICYmIGZpbGUudGFnID09PSBncm91cCAmJiBmaWxlLnR5cGUgPT09IHR5cGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGZpbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2FkZWRGaWxlcyAoZ3JvdXAgPSAnJywgb3V0cHV0ID0gW10pIHtcclxuXHJcbiAgICAgICAgLy8gIFJldHVybiBhbiBhcnJheSBvZiBhbGwgZmlsZXMgdGhhdCBoYXZlIHN0YXRlID0gQ09NUExFVEUgKHdoaWNoIG1lYW5zIGxvYWRlZCArIHByb2Nlc3NlZClcclxuXHJcbiAgICAgICAgZm9yIChsZXQgZmlsZSBvZiB0aGlzLnN0b3JhZ2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoZmlsZS5zdGF0ZSA9PT0gRklMRS5DT01QTEVURSAmJiBmaWxlLnRhZyA9PT0gZ3JvdXAgJiYgKHR5cGUgIT09ICcnICYmIGZpbGUudHlwZSA9PT0gdHlwZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGZpbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXNldCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMubGlzdC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuaW5mbGlnaHQuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmZhaWxlZC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMucXVldWUuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy50YWcgPSAnJztcclxuICAgICAgICB0aGlzLnBhdGggPSAnJztcclxuICAgICAgICB0aGlzLmJhc2VVUkwgPSAnJztcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFBFTkRJTkc7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3kgKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IERFU1RST1lFRDtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvYWRlci9CYXNlTG9hZGVyLmpzXG4gKiovIiwiLy8gIENyZWF0ZXMgYW4gWEhSU2V0dGluZ3MgT2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFhIUlNldHRpbmdzIChyZXNwb25zZVR5cGUgPSAnJywgYXN5bmMgPSB0cnVlLCB1c2VyID0gJycsIHBhc3N3b3JkID0gJycsIHRpbWVvdXQgPSAwKSB7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgLy8gIElnbm9yZWQgYnkgdGhlIExvYWRlciwgb25seSB1c2VkIGJ5IEZpbGUuXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlOiByZXNwb25zZVR5cGUsXHJcblxyXG4gICAgICAgIGFzeW5jOiBhc3luYyxcclxuXHJcbiAgICAgICAgLy8gIGNyZWRlbnRpYWxzXHJcbiAgICAgICAgdXNlcjogdXNlcixcclxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcblxyXG4gICAgICAgIC8vICB0aW1lb3V0IGluIG1zICgwID0gbm8gdGltZW91dClcclxuICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LFxyXG5cclxuICAgICAgICAvLyAgc2V0UmVxdWVzdEhlYWRlclxyXG4gICAgICAgIGhlYWRlcjogdW5kZWZpbmVkLFxyXG4gICAgICAgIGhlYWRlclZhbHVlOiB1bmRlZmluZWQsXHJcblxyXG4gICAgICAgIC8vICBvdmVycmlkZU1pbWVUeXBlXHJcbiAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogdW5kZWZpbmVkXHJcblxyXG4gICAgfTtcclxuICAgIFxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL1hIUlNldHRpbmdzLmpzXG4gKiovIiwiaW1wb3J0IFhIUkxvYWRlciBmcm9tICcuL1hIUkxvYWRlci5qcyc7XHJcbmltcG9ydCBYSFJTZXR0aW5ncyBmcm9tICcuL1hIUlNldHRpbmdzLmpzJztcclxuXHJcbi8vICBGaWxlIGxldmVsIGNvbnN0c1xyXG5cclxuZXhwb3J0IGNvbnN0IFBFTkRJTkcgPSAwOyAgICAgIC8vIGZpbGUgaXMgaW4gdGhlIGxvYWQgcXVldWUgYnV0IG5vdCB5ZXQgc3RhcnRlZFxyXG5leHBvcnQgY29uc3QgTE9BRElORyA9IDE7ICAgICAgLy8gZmlsZSBoYXMgYmVlbiBzdGFydGVkIHRvIGxvYWQgYnkgdGhlIGxvYWRlciAob25Mb2FkIGNhbGxlZClcclxuZXhwb3J0IGNvbnN0IExPQURFRCA9IDI7ICAgICAgIC8vIGZpbGUgaGFzIGxvYWRlZCBzdWNjZXNzZnVsbHksIGF3YWl0aW5nIHByb2Nlc3NpbmdcclxuZXhwb3J0IGNvbnN0IEZBSUxFRCA9IDM7ICAgICAgIC8vIGZpbGUgZmFpbGVkIHRvIGxvYWRcclxuZXhwb3J0IGNvbnN0IFBST0NFU1NJTkcgPSA0OyAgIC8vIGZpbGUgaXMgYmVpbmcgcHJvY2Vzc2VkIChvblByb2Nlc3MgY2FsbGJhY2spXHJcbmV4cG9ydCBjb25zdCBDT01QTEVURSA9IDU7ICAgICAvLyBmaWxlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nXHJcbmV4cG9ydCBjb25zdCBERVNUUk9ZRUQgPSA2OyAgICAvLyBmaWxlIGhhcyBiZWVuIGRlc3Ryb3llZFxyXG5cclxuLy8gIE91ciBiYXNlIEZpbGUgb2JqZWN0IChmcm9tIHdoaWNoIGFsbCBGaWxlIFR5cGVzIGV4dGVuZClcclxuXHJcbi8vICBrZXkgPSB1c2VyIGxldmVsIGZpbGUga2V5IChjYW4gYmUgZmlsZW5hbWUgb3Igb3RoZXIgc3RyaW5nIGJhc2VkIHZhbHVlKVxyXG4vLyAgdXJsID0gdGhlIFVSTCB0byBsb2FkIHRoZSBmaWxlIGZyb20sIGRvZXNuJ3QgaW5jbHVkZSBiYXNlVVJMIG9yIFBhdGggKHdoaWNoIGFyZSBib3RoIHNldCBieSB0aGUgTG9hZGVyKVxyXG4vLyAgdHlwZSA9IGEgdXNlci1sZXZlbCB2YWx1ZSB0aGF0IGNhbiBjb250cm9sIHdoaWNoIGNhY2hlIHRoZSBmaWxlIGlzIGFkZGVkIHRvXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBGaWxlIChrZXksIHVybCwgdHlwZSkge1xyXG5cclxuICAgIGlmICgha2V5KVxyXG4gICAge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBGaWxlIGtleScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICBrZXk6IGtleSxcclxuXHJcbiAgICAgICAgdXJsOiB1cmwsXHJcblxyXG4gICAgICAgIC8vICBCb3RoIG9mIHRoZXNlIGFyZSBvdmVycmlkZGVuIGJ5IHRoZSBCYXNlTG9hZGVyIChpZiBiZWluZyB1c2VkKVxyXG4gICAgICAgIHBhdGg6ICcnLFxyXG4gICAgICAgIHNyYzogdXJsLFxyXG5cclxuICAgICAgICB0YWc6ICcnLCAgICAvLyBUYWcgdGhpcyBmaWxlLCB0aGlzIGlzIGEgbm9uLXVuaXF1ZSBzdHJpbmcuIEZvciBleGFtcGxlIHlvdSBjb3VsZCB0YWcgYSBjb2xsZWN0aW9uIG9mIGZpbGVzIGFzICdsZXZlbDEnLCBvciAnbWFpbm1lbnUnLlxyXG5cclxuICAgICAgICB0eXBlOiB0eXBlLCAvLyB0aGUgZmlsZSB0eXBlLCBpLmUuICdpbWFnZScsICdqc29uJywgZXRjIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGNvbnRyb2wgd2hpY2ggY2FjaGUgaXQgZ2V0cyBhZGRlZCB0b1xyXG5cclxuICAgICAgICBzdGF0ZTogUEVORElORyxcclxuXHJcbiAgICAgICAgLy8gIE11bHRpcGFydCBmaWxlPyAoaS5lLiBhbiBhdGxhcyBhbmQgaXRzIGpzb24pXHJcbiAgICAgICAgbXVsdGlwYXJ0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgbGlua0ZpbGU6IHVuZGVmaW5lZCxcclxuXHJcbiAgICAgICAgLy8gIFRoZSBhY3R1YWwgcHJvY2Vzc2VkIGZpbGUgZGF0YVxyXG4gICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcclxuXHJcbiAgICAgICAgLy8gIEZvciBDT1JzIGJhc2VkIGxvYWRpbmcuXHJcbiAgICAgICAgLy8gIElmIHRoaXMgaXMgdW5kZWZpbmVkIHRoZW4gdGhlIEZpbGUgd2lsbCBjaGVjayBCYXNlTG9hZGVyLmNyb3NzT3JpZ2luIGFuZCB1c2UgdGhhdCAoaWYgc2V0KVxyXG4gICAgICAgIGNyb3NzT3JpZ2luOiB1bmRlZmluZWQsXHJcblxyXG4gICAgICAgIC8vICBPcHRpb25hbGx5IHNldCBieSB0aGUgUHJvbWlzZSByZXR1cm5lZCBmcm9tIEJhc2VMb2FkZXIuYWRkRmlsZS5cclxuICAgICAgICByZXNvbHZlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgcmVqZWN0OiB1bmRlZmluZWQsXHJcblxyXG4gICAgICAgIC8vICBtYXliZSB5b3UgaGF2ZSB0byBzZXQgaXQgaW4gdGhlIFByb21pc2U/XHJcbiAgICAgICAgcHJvY2Vzc0NhbGxiYWNrOiB1bmRlZmluZWQsXHJcblxyXG4gICAgICAgIC8vICB4aHIgc3BlY2lmaWMgc2V0dGluZ3MgKGlnbm9yZWQgYnkgVGFnTG9hZGVkIGZpbGVzKVxyXG4gICAgICAgIHhocjogWEhSU2V0dGluZ3MoJ3RleHQnKSxcclxuXHJcbiAgICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnb25TdGF0ZUNoYW5nZScsIHRoaXMudXJsLCAnZnJvbScsIHRoaXMuc3RhdGUsICd0bycsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSB2YWx1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICBMb2FkZWQgQU5EIFByb2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBDT01QTEVURSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgUGFydCBvZiBhIG11bHRpcGFydCBsb2FkP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm11bHRpcGFydClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBIYXMgdGhlIGxpbmtlZCBmaWxlIGxvYWRlZCB0b28/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpbmtGaWxlLnN0YXRlID09PSBDT01QTEVURSAmJiB0aGlzLm11bHRpcGFydC5yZXNvbHZlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgU2VuZCB0aGUgUHJvbWlzZSBmb3IgdGhlIG11bHRpcGFydCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGFydC5yZXNvbHZlKHRoaXMubXVsdGlwYXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFNlbmQgdGhlIFByb21pc2UgZm9yIHRoaXMgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmUpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IEZBSUxFRClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgUGFydCBvZiBhIG11bHRpcGFydCBsb2FkP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm11bHRpcGFydClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm11bHRpcGFydC5yZWplY3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBTZW5kIHRoZSBQcm9taXNlIGZvciB0aGUgbXVsdGlwYXJ0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwYXJ0LnJlamVjdCh0aGlzLm11bHRpcGFydCwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgU2VuZCB0aGUgUHJvbWlzZSBmb3IgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVqZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWplY3QodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vICBUaGVzZSBmdW5jdGlvbnMgYXJlIHVzdWFsbHkgb3ZlcnJpZGRlbiBieSB0aGUgY3VzdG9tIGZpbGUgdHlwZXNcclxuXHJcbiAgICAgICAgbG9hZDogZnVuY3Rpb24gKGdsb2JhbFhIUlNldHRpbmdzKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoTE9BRElORyk7XHJcblxyXG4gICAgICAgICAgICAvLyAgUmV0dXJucyBhIFByb21pc2UgZnJvbSB0aGUgWEhSTG9hZGVyXHJcbiAgICAgICAgICAgIHJldHVybiBYSFJMb2FkZXIodGhpcywgZ2xvYmFsWEhSU2V0dGluZ3MpO1xyXG5cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIC8vICBJZiBvdmVycmlkZGVuIGl0IG11c3Qgc2V0IGBzdGF0ZWAgdG8gTE9BREVEXHJcbiAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShMT0FERUQpO1xyXG5cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAgSWYgb3ZlcnJpZGRlbiBpdCBtdXN0IHNldCBgc3RhdGVgIHRvIEZBSUxFRFxyXG4gICAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoRkFJTEVEKTtcclxuXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb25Qcm9jZXNzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAgSWYgb3ZlcnJpZGRlbiBpdCBtdXN0IHNldCBgc3RhdGVgIHRvIFBST0NFU1NJTkdcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKFBST0NFU1NJTkcpO1xyXG5cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAvLyAgSWYgb3ZlcnJpZGRlbiBpdCBtdXN0IHNldCBgc3RhdGVgIHRvIENPTVBMRVRFXHJcbiAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShDT01QTEVURSk7XHJcblxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG9uRGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgLy8gIElmIG92ZXJyaWRkZW4gaXQgbXVzdCBzZXQgYHN0YXRlYCB0byBERVNUUk9ZRURcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKERFU1RST1lFRCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9sb2FkZXIvRmlsZS5qc1xuICoqLyIsImltcG9ydCBNZXJnZVhIUlNldHRpbmdzIGZyb20gJy4vTWVyZ2VYSFJTZXR0aW5ncy5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBYSFJMb2FkZXIgKGZpbGUsIGdsb2JhbFhIUlNldHRpbmdzKSB7XHJcblxyXG4gICAgbGV0IGNvbmZpZyA9IE1lcmdlWEhSU2V0dGluZ3MoZ2xvYmFsWEhSU2V0dGluZ3MsIGZpbGUueGhyKTtcclxuXHJcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgeGhyLm9wZW4oJ0dFVCcsIGZpbGUuc3JjLCBjb25maWcuYXN5bmMsIGNvbmZpZy51c2VyLCBjb25maWcucGFzc3dvcmQpO1xyXG5cclxuICAgIHhoci5yZXNwb25zZVR5cGUgPSBmaWxlLnhoci5yZXNwb25zZVR5cGU7XHJcbiAgICB4aHIudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xyXG5cclxuICAgIGlmIChjb25maWcuaGVhZGVyICYmIGNvbmZpZy5oZWFkZXJWYWx1ZSlcclxuICAgIHtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihjb25maWcuaGVhZGVyLCBjb25maWcuaGVhZGVyVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb25maWcub3ZlcnJpZGVNaW1lVHlwZSlcclxuICAgIHtcclxuICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZShjb25maWcub3ZlcnJpZGVNaW1lVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKFxyXG4gICAgICAgIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmaWxlLm9uTG9hZCh4aHIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmlsZS5vbkVycm9yKHhocik7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZmlsZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9sb2FkZXIvWEhSTG9hZGVyLmpzXG4gKiovIiwiaW1wb3J0IFhIUlNldHRpbmdzIGZyb20gJy4vWEhSU2V0dGluZ3MuanMnO1xyXG5cclxuLy8gIFRha2VzIHR3byBYSFIgT2JqZWN0cyBhbmQgY3JlYXRlcyBhIG5ldyBvYmplY3RcclxuXHJcbi8vICBUaGUgbmV3IG9iamVjdCBpcyBiYXNlZCBvbiBnbG9iYWwgaW5pdGlhbGx5LCBidXQgYW55IHNldHRpbmcgaW5cclxuLy8gIGxvY2FsIG92ZXJyaWRlcyB0aGUgZ2xvYmFsIHZhbHVlLlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWVyZ2VYSFJTZXR0aW5ncyAoZ2xvYmFsLCBsb2NhbCkge1xyXG5cclxuICAgIGxldCBvdXRwdXQgPSAoZ2xvYmFsID09PSB1bmRlZmluZWQpID8gWEhSU2V0dGluZ3MoKSA6IE9iamVjdC5hc3NpZ24oZ2xvYmFsKTtcclxuXHJcbiAgICBpZiAobG9jYWwpXHJcbiAgICB7XHJcbiAgICAgICAgZm9yIChsZXQgc2V0dGluZyBpbiBsb2NhbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbFtzZXR0aW5nXSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXRbc2V0dGluZ10gPSBsb2NhbFtzZXR0aW5nXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb3V0cHV0O1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9sb2FkZXIvTWVyZ2VYSFJTZXR0aW5ncy5qc1xuICoqLyIsImltcG9ydCBGaWxlLCAqIGFzIEZJTEUgZnJvbSAnLi4vRmlsZS5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgVFlQRSA9ICdpbWFnZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbWFnZUZpbGUgKGtleSwgdXJsID0gJycsIGRhdGEgPSB1bmRlZmluZWQpIHtcclxuXHJcbiAgICBpZiAodXJsID09PSAnJyAmJiAhZGF0YSlcclxuICAgIHtcclxuICAgICAgICB1cmwgPSBrZXkgKyAnLnBuZyc7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZpbGUgPSBGaWxlKGtleSwgdXJsLCBUWVBFKTtcclxuXHJcbiAgICBmaWxlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURJTkcpO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKFxyXG4gICAgICAgICAgICAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLm9ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5vbmxvYWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEub25lcnJvciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBGSUxFLkxPQURFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5vbmVycm9yID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5vbmxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEub25sb2FkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBGSUxFLkZBSUxFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLm5hbWUgPSBrZXk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy5zcmM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSW1hZ2UgaXMgaW1tZWRpYXRlbHktYXZhaWxhYmxlIG9yIGNhY2hlZFxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuY29tcGxldGUgJiYgdGhpcy5kYXRhLndpZHRoICYmIHRoaXMuZGF0YS5oZWlnaHQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLm9ubG9hZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBGSUxFLkxPQURFRDtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZmlsZTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL3R5cGVzL0ltYWdlRmlsZS5qc1xuICoqLyIsImltcG9ydCBGaWxlLCAqIGFzIEZJTEUgZnJvbSAnLi4vRmlsZS5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgVFlQRSA9ICdqc29uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEpTT05GaWxlIChrZXksIHVybCA9ICcnLCBkYXRhID0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpXHJcbiAgICB7XHJcbiAgICAgICAgdXJsID0ga2V5ICsgJy5qc29uJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmlsZSA9IEZpbGUoa2V5LCB1cmwsIFRZUEUpO1xyXG5cclxuICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXHJcbiAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XHJcblxyXG4gICAgZmlsZS5vbkxvYWQgPSBmdW5jdGlvbiAoeGhyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBmaWxlLm9uUHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKEZJTEUuUFJPQ0VTU0lORyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGhpcy5kYXRhKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIGZpbGUuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgZmlsZS5vblByb2Nlc3MoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmlsZTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL3R5cGVzL0pTT05GaWxlLmpzXG4gKiovIiwiaW1wb3J0IFBhcnNlWE1MIGZyb20gJy4uLy4uL3N5c3RlbS9QYXJzZVhNTC5qcyc7XHJcbmltcG9ydCBGaWxlLCAqIGFzIEZJTEUgZnJvbSAnLi4vRmlsZS5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgVFlQRSA9ICd4bWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gWE1MRmlsZSAoa2V5LCB1cmwgPSAnJywgZGF0YSA9IHVuZGVmaW5lZCkge1xyXG5cclxuICAgIGlmICh1cmwgPT09ICcnICYmICFkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIHVybCA9IGtleSArICcueG1sJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmlsZSA9IEZpbGUoa2V5LCB1cmwsIFRZUEUpO1xyXG5cclxuICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXHJcbiAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XHJcblxyXG4gICAgZmlsZS5vbkxvYWQgPSBmdW5jdGlvbiAoeGhyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBmaWxlLm9uUHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKEZJTEUuUFJPQ0VTU0lORyk7XHJcblxyXG4gICAgICAgIGxldCB4bWwgPSBQYXJzZVhNTCh0aGlzLmRhdGEpO1xyXG5cclxuICAgICAgICBpZiAoIXhtbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWE1MRmlsZTogSW52YWxpZCBYTUwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0geG1sO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIGZpbGUuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgZmlsZS5vblByb2Nlc3MoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmlsZTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL3R5cGVzL1hNTEZpbGUuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXJzZVhNTCAoZGF0YSkge1xyXG5cclxuICAgIGxldCB4bWwgPSAnJztcclxuXHJcbiAgICB0cnlcclxuICAgIHtcclxuICAgICAgICBpZiAod2luZG93WydET01QYXJzZXInXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBkb21wYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICAgICAgICAgIHhtbCA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGF0YSwgJ3RleHQveG1sJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHhtbCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MRE9NJyk7XHJcbiAgICAgICAgICAgIHhtbC5sb2FkWE1MKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKVxyXG4gICAge1xyXG4gICAgICAgIHhtbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF4bWwgfHwgIXhtbC5kb2N1bWVudEVsZW1lbnQgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYXJzZXJlcnJvcicpLmxlbmd0aClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICByZXR1cm4geG1sO1xyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zeXN0ZW0vUGFyc2VYTUwuanNcbiAqKi8iLCJpbXBvcnQgRmlsZSwgKiBhcyBGSUxFIGZyb20gJy4uL0ZpbGUuanMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFRZUEUgPSAndGV4dCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUZXh0RmlsZSAoa2V5LCB1cmwgPSAnJywgZGF0YSA9IHVuZGVmaW5lZCkge1xyXG5cclxuICAgIGlmICh1cmwgPT09ICcnICYmICFkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIHVybCA9IGtleSArICcudHh0JztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmlsZSA9IEZpbGUoa2V5LCB1cmwsIFRZUEUpO1xyXG5cclxuICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXHJcbiAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XHJcblxyXG4gICAgZmlsZS5vbkxvYWQgPSBmdW5jdGlvbiAoeGhyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZGF0YSlcclxuICAgIHtcclxuICAgICAgICBmaWxlLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpbGU7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvYWRlci90eXBlcy9UZXh0RmlsZS5qc1xuICoqLyIsImltcG9ydCBGaWxlLCAqIGFzIEZJTEUgZnJvbSAnLi4vRmlsZS5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgVFlQRSA9ICdnbHNsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdMU0xGaWxlIChrZXksIHVybCA9ICcnLCBkYXRhID0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgaWYgKHVybCA9PT0gJycgJiYgIWRhdGEpXHJcbiAgICB7XHJcbiAgICAgICAgdXJsID0ga2V5ICsgJy5nbHNsJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmlsZSA9IEZpbGUoa2V5LCB1cmwsIFRZUEUpO1xyXG5cclxuICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXHJcbiAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAndGV4dCc7XHJcblxyXG4gICAgZmlsZS5vbkxvYWQgPSBmdW5jdGlvbiAoeGhyKSB7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZGF0YSlcclxuICAgIHtcclxuICAgICAgICBmaWxlLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpbGU7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvYWRlci90eXBlcy9HTFNMRmlsZS5qc1xuICoqLyIsImltcG9ydCBGaWxlLCAqIGFzIEZJTEUgZnJvbSAnLi4vRmlsZS5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgVFlQRSA9ICdiaW5hcnknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmluYXJ5RmlsZSAoa2V5LCB1cmwgPSAnJywgZGF0YSA9IHVuZGVmaW5lZCkge1xyXG5cclxuICAgIGlmICh1cmwgPT09ICcnICYmICFkYXRhKVxyXG4gICAge1xyXG4gICAgICAgIHVybCA9IGtleSArICcuYmluJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmlsZSA9IEZpbGUoa2V5LCB1cmwsIFRZUEUpO1xyXG5cclxuICAgIC8vICBTZXQgdGhlIGV4cGVjdGVkIFhIUiByZXNwb25zZSB0eXBlXHJcbiAgICBmaWxlLnhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICAgIGZpbGUub25Mb2FkID0gZnVuY3Rpb24gKHhocikge1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2U7XHJcblxyXG4gICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZShGSUxFLkxPQURFRCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoZGF0YSlcclxuICAgIHtcclxuICAgICAgICBmaWxlLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGZpbGUub25Qcm9jZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpbGU7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvYWRlci90eXBlcy9CaW5hcnlGaWxlLmpzXG4gKiovIiwiaW1wb3J0IEltYWdlRmlsZSBmcm9tICcuL0ltYWdlRmlsZS5qcyc7XHJcbmltcG9ydCBKU09ORmlsZSBmcm9tICcuL0pTT05GaWxlLmpzJztcclxuaW1wb3J0IE11bHRpRmlsZSBmcm9tICcuLi9NdWx0aUZpbGUuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXRsYXNKU09ORmlsZSAoa2V5LCB0ZXh0dXJlVVJMLCBhdGxhc1VSTCwgYXRsYXNEYXRhKSB7XHJcblxyXG4gICAgaWYgKGF0bGFzVVJMID09PSAnJyAmJiBhdGxhc0RhdGEgPT09IG51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgYXRsYXNVUkwgPSBrZXkgKyAnLmpzb24nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBNdWx0aUZpbGUoXHJcbiAgICAgICAgSW1hZ2VGaWxlKGtleSwgdGV4dHVyZVVSTCksXHJcbiAgICAgICAgSlNPTkZpbGUoa2V5LCBhdGxhc1VSTCwgYXRsYXNEYXRhKVxyXG4gICAgKTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL3R5cGVzL0F0bGFzSlNPTkZpbGUuanNcbiAqKi8iLCJcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTXVsdGlGaWxlIChmaWxlQSwgZmlsZUIpIHtcclxuXHJcbiAgICAvLyAgTGluayB0aGUgdHdvIGZpbGVzXHJcbiAgICBmaWxlQS5saW5rRmlsZSA9IGZpbGVCO1xyXG4gICAgZmlsZUIubGlua0ZpbGUgPSBmaWxlQTtcclxuXHJcbiAgICBsZXQgbXVsdGlwYXJ0ID0ge1xyXG5cclxuICAgICAgICBtdWx0aXBhcnQ6IHRydWUsXHJcblxyXG4gICAgICAgIGZpbGVBOiBmaWxlQSxcclxuICAgICAgICBmaWxlQjogZmlsZUIsXHJcblxyXG4gICAgICAgIHJlc29sdmU6IHVuZGVmaW5lZCxcclxuICAgICAgICByZWplY3Q6IHVuZGVmaW5lZCxcclxuXHJcbiAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgLy8gICBUaGlzIGlzbid0IHVzZWQgYnkgdGhlIEJhc2VMb2FkZXIsIGJ1dCBhbGxvd3MgeW91IHRvIGNhbGwgbG9hZCBkaXJlY3RseSBvbiB0aGUgbXVsdGlwYXJ0IGZpbGVcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcclxuICAgICAgICAgICAgICAgIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFdoZW4gdGhpcyBmaWxlIGxvYWRzIHdlIG5lZWQgdG8gY2FsbCAncmVzb2x2ZSdcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVBLmxvYWQoKS50aGVuKGZpbGUgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5vblByb2Nlc3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnByb2Nlc3NDYWxsYmFjaylcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5wcm9jZXNzQ2FsbGJhY2soZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUub25Db21wbGV0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmaWxlID0+IHsgZmlsZS5vbkVycm9yKCkgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZUIubG9hZCgpLnRoZW4oZmlsZSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm9uUHJvY2VzcygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUucHJvY2Vzc0NhbGxiYWNrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnByb2Nlc3NDYWxsYmFjayhmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5vbkNvbXBsZXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZpbGUgPT4geyBmaWxlLm9uRXJyb3IoKSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGZpbGVBLm11bHRpcGFydCA9IG11bHRpcGFydDtcclxuICAgIGZpbGVCLm11bHRpcGFydCA9IG11bHRpcGFydDtcclxuXHJcbiAgICByZXR1cm4gbXVsdGlwYXJ0O1xyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9sb2FkZXIvTXVsdGlGaWxlLmpzXG4gKiovIiwiaW1wb3J0IEltYWdlRmlsZSBmcm9tICcuL0ltYWdlRmlsZS5qcyc7XHJcbmltcG9ydCBKU09ORmlsZSBmcm9tICcuL0pTT05GaWxlLmpzJztcclxuaW1wb3J0IE11bHRpRmlsZSBmcm9tICcuLi9NdWx0aUZpbGUuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXRsYXNYTUxGaWxlIChrZXksIHRleHR1cmVVUkwsIGF0bGFzVVJMLCBhdGxhc0RhdGEpIHtcclxuXHJcbiAgICBpZiAoYXRsYXNVUkwgPT09ICcnICYmIGF0bGFzRGF0YSA9PT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBhdGxhc1VSTCA9IGtleSArICcueG1sJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTXVsdGlGaWxlKFxyXG4gICAgICAgIEltYWdlRmlsZShrZXksIHRleHR1cmVVUkwpLFxyXG4gICAgICAgIFhNTEZpbGUoa2V5LCBhdGxhc1VSTCwgYXRsYXNEYXRhKVxyXG4gICAgKTtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL3R5cGVzL0F0bGFzWE1MRmlsZS5qc1xuICoqLyIsIidjcmVhdGUgaW5kZXgnO1xyXG5cclxuaW1wb3J0IEF0bGFzSlNPTkZpbGUgZnJvbSAnLi9BdGxhc0pTT05GaWxlLmpzJztcclxuaW1wb3J0IEF0bGFzWE1MRmlsZSBmcm9tICcuL0F0bGFzWE1MRmlsZS5qcyc7XHJcbmltcG9ydCBCaW5hcnlGaWxlIGZyb20gJy4vQmluYXJ5RmlsZS5qcyc7XHJcbmltcG9ydCBHTFNMRmlsZSBmcm9tICcuL0dMU0xGaWxlLmpzJztcclxuaW1wb3J0IEltYWdlRmlsZSBmcm9tICcuL0ltYWdlRmlsZS5qcyc7XHJcbmltcG9ydCBKU09ORmlsZSBmcm9tICcuL0pTT05GaWxlLmpzJztcclxuaW1wb3J0IFRleHRGaWxlIGZyb20gJy4vVGV4dEZpbGUuanMnO1xyXG5pbXBvcnQgWE1MRmlsZSBmcm9tICcuL1hNTEZpbGUuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIEF0bGFzSlNPTkZpbGUsXHJcbiAgICBBdGxhc1hNTEZpbGUsXHJcbiAgICBCaW5hcnlGaWxlLFxyXG4gICAgR0xTTEZpbGUsXHJcbiAgICBJbWFnZUZpbGUsXHJcbiAgICBKU09ORmlsZSxcclxuICAgIFRleHRGaWxlLFxyXG4gICAgWE1MRmlsZVxyXG59O1xyXG5cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9hZGVyL3R5cGVzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==