!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("components",[],i):"object"==typeof exports?exports.components=i():(t.lazer=t.lazer||{},t.lazer.components=i())}(this,function(){return function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}({0:function(t,i,e){"use strict";"create index";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.Transform2D=i.Transform=i.Position=i.GameObjectFactory=void 0;var s=e(112),o=n(s),h=e(113),r=n(h),a=e(114),u=n(a),l=e(117),c=n(l);i.GameObjectFactory=o["default"],i.Position=r["default"],i.Transform=u["default"],i.Transform2D=c["default"]},100:function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),s=function(){function t(){var i=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];e(this,t),this[0]=i,this[1]=n}return n(t,[{key:"set",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return this[0]=t,this[1]=i,this}},{key:"setTo",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return this[0]=t,this[1]=i,this}},{key:"zero",value:function(){return this[0]=0,this[1]=0,this}},{key:"add",value:function(t){return this[0]+=t[0],this[1]+=t[1],this}},{key:"addScalar",value:function(t){return this[0]+=t,this[1]+=t,this}},{key:"addVectors",value:function(t,i){return this[0]=t[0]+i[0],this[1]=t[1]+i[1],this}},{key:"addScaledVector",value:function(t,i){return this[0]+=t[0]*i,this[1]+=t[1]*i,this}},{key:"sub",value:function(t){return this[0]-=t[0],this[1]-=t[1],this}},{key:"subScalar",value:function(t){return this[0]-=t,this[1]-=t,this}},{key:"subVectors",value:function(t,i){return this[0]=t[0]-i[0],this[1]=t[1]-i[1],this}},{key:"multiply",value:function(t){return this[0]*=t[0],this[1]*=t[1],this}},{key:"multiplyScalar",value:function(t){return isFinite(t)?(this[0]*=t,this[1]*=t):(this[0]=0,this[1]=0),this}},{key:"scale",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return this[0]*=t,this[1]*=i,this}},{key:"scaleV",value:function(t){return this[0]*=t[0],this[1]*=t[1],this}},{key:"divide",value:function(t){return this[0]/=t,this[1]/=t,this}},{key:"divideScalar",value:function(t){var i=1/t;return isFinite(i)?(this[0]*=i,this[1]*=i):(this[0]=0,this[1]=0),this}},{key:"min",value:function(t){return this[0]=Math.min(this[0],t[0]),this[1]=Math.min(this[1],t[1]),this}},{key:"max",value:function(t){return this[0]=Math.max(this[0],t[0]),this[1]=Math.max(this[1],t[1]),this}},{key:"clamp",value:function(t,i){return this[0]=Math.max(t[0],Math.min(i[0],this[0])),this[1]=Math.max(t[1],Math.min(i[1],this[1])),this}},{key:"floor",value:function(){return this[0]=Math.floor(this[0]),this[1]=Math.floor(this[1]),this}},{key:"ceil",value:function(){return this[0]=Math.ceil(this[0]),this[1]=Math.ceil(this[1]),this}},{key:"round",value:function(){return this[0]=Math.round(this[0]),this[1]=Math.round(this[1]),this}},{key:"roundToZero",value:function(){return this[0]<0?this[0]=Math.ceil(this[0]):this[0]=Math.floor(this[0]),this[1]<1?this[1]=Math.ceil(this[1]):this[1]=Math.floor(this[1]),this}},{key:"negate",value:function(){return this[0]=-this[0],this[1]=-this[1],this}},{key:"normalize",value:function(){var t=this.length();return t>0&&(this[0]/=t,this[1]/=t),this}},{key:"perp",value:function(){var t=this[0],i=this[1];return this[0]=i,this[1]=-t,this}},{key:"dot",value:function(t){return this[0]*t[0]+this[1]*t[1]}},{key:"lengthSq",value:function(){return this[0]*this[0]+this[1]*this[1]}},{key:"lengthManhattan",value:function(){return Math.abs(this[0])+Math.abs(this[1])}},{key:"toString",value:function(){return"[Vec2 (x="+this[0]+", y="+this[1]+")]"}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"length",set:function(t){var i=Math.atan2(this[1],this[0]);this[0]=Math.cos(i)*t,this[1]=Math.sin(i)*t},get:function(){return Math.sqrt(this[0]*this[0]+this[1]*this[1])}}]),t}();i["default"]=s},104:function(t,i){"use strict";function e(t){return t*n}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=e;var n=Math.PI/180},105:function(t,i){"use strict";function e(t){return t*n}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=e;var n=180/Math.PI},106:function(t,i){"use strict";function e(t,i,e){var n=e-i;if(0>=n)return 0;var s=(t-i)%n;return 0>s&&(s+=n),s+i}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=e},112:function(t,i){"use strict";function e(t,i){return{name:"",transform:i}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=e},113:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),h=e(100),r=n(h),a=function(){function t(i,e){s(this,t),this.now=new r["default"](i,e),this.old=new r["default"](i,e)}return o(t,[{key:"getRenderX",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],i=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t?this.getDeltaX(i):this.now.x}},{key:"getRenderY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],i=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t?this.getDeltaY(i):this.now.y}},{key:"getDeltaX",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.old.x+(this.now.x-this.old.x)*t}},{key:"getDeltaY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.old.y+(this.now.y-this.old.y)*t}},{key:"x",get:function(){return this.now.x},set:function(t){this.old.x=this.now.x,this.now.x=t}},{key:"y",get:function(){return this.now.y},set:function(t){this.old.y=this.now.y,this.now.y=t}}]),t}();i["default"]=a},114:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),h=e(115),r=n(h),a=e(116),u=n(a),l=function(){function t(){var i=arguments.length<=0||void 0===arguments[0]?null:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=arguments.length<=3||void 0===arguments[3]?0:arguments[3];s(this,t),this.gameObject=null,this.name="",this.hideFlags=!1,this.hasChanged=!1,this.parent=i,this.root=null,this.localPosition=new r["default"](0,0,0),this.localRotation=(0,u["default"])(),this.localScale=new r["default"](1,1,1),this.position=new r["default"](e,n,o),this.scale=new r["default"](1,1,1),this.rotation=(0,u["default"])(),this.children=new Set}return o(t,[{key:Symbol.iterator,value:function(){return this.children[Symbol.iterator]()}},{key:"scaleX",set:function(t){this.scale[2]=t}}]),t}();i["default"]=l},115:function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),s=function(){function t(){var i=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],s=arguments.length<=2||void 0===arguments[2]?0:arguments[2];e(this,t),this[0]=i,this[1]=n,this[2]=s}return n(t,[{key:"zero",value:function(){return this[0]=0,this[1]=0,this[2]=0,this}},{key:"add",value:function(t){return this[0]+=t[0],this[1]+=t[1],this[2]+=t[2],this}},{key:"sub",value:function(t){return this[0]-=t[0],this[1]-=t[1],this[2]-=t[2],this}},{key:"scale",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?t:arguments[1],e=arguments.length<=2||void 0===arguments[2]?t:arguments[2];return this[0]*=t,this[1]*=i,this[2]*=e,this}},{key:"scaleV",value:function(t){return this[0]*=t[0],this[1]*=t[1],this[2]*=t[2],this}},{key:"div",value:function(t){return this[0]/=t,this[1]/=t,this[2]/=t,this}},{key:"floor",value:function(){return this[0]=Math.floor(this[0]),this[1]=Math.floor(this[1]),this[2]=Math.floor(this[2]),this}},{key:"ceil",value:function(){return this[0]=Math.ceil(this[0]),this[1]=Math.ceil(this[1]),this[2]=Math.ceil(this[2]),this}},{key:"negate",value:function(){return this[0]=-this[0],this[1]=-this[1],this[2]=-this[2],this}},{key:"normalize",value:function(){var t=this.length();return t>0&&(this[0]/=t,this[1]/=t,this[2]/=t),this}},{key:"perp",value:function(){var t=this[0],i=this[1];return this[0]=i,this[1]=-t,this}},{key:"dot",value:function(t){return this[0]*t[0]+this[1]*t[1]+this[2]*(t[2]||1)}},{key:"lengthSq",value:function(){return this[0]*this[0]+this[1]*this[1]+this[2]*this[2]}},{key:"lengthManhattan",value:function(){return Math.abs(this[0])+Math.abs(this[1])+Math.abs(this[2])}},{key:"toString",value:function(){return"[Vec2 (x="+this[0]+", y="+this[1]+")]"}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"length",set:function(t){var i=t/Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]);this[0]*=i,this[1]*=i,this[2]*=i},get:function(){return Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2])}}]),t}();i["default"]=s},116:function(t,i){"use strict";function e(t,i,e,s){var o=arguments.length<=4||void 0===arguments[4]?new n(4):arguments[4];return o[0]=t,o[1]=i,o[2]=e,o[3]=s,o}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=e;var n=Float32Array},117:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),h=e(104),r=(n(h),e(105)),a=(n(r),e(106)),u=(n(a),e(118)),l=n(u),c=e(119),f=n(c),d=function(){function t(i){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=arguments.length<=3||void 0===arguments[3]?0:arguments[3],h=arguments.length<=4||void 0===arguments[4]?0:arguments[4],r=arguments.length<=5||void 0===arguments[5]?1:arguments[5],a=arguments.length<=6||void 0===arguments[6]?1:arguments[6];s(this,t),this.gameObject=i,this.name="",this.hideFlags=!1,this.dirty=!1,this.parent=null,this.root=null,this.isRoot=!e,this._position=(0,l["default"])(n,o),this._scale=(0,l["default"])(r,a),this._rotation=h,this._local=new f["default"],this.interpolate=!0,this._oldPosition=(0,l["default"])(n,o),this._oldScale=(0,l["default"])(r,a),this._oldRotation=h,this._drawMatrix=new f["default"],this.children=new Set,this.drawList=[],e&&e.add(this),this.update()}return o(t,[{key:Symbol.iterator,value:function(){return this.children[Symbol.iterator]()}},{key:"getRenderX",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._oldPosition[0]+(this._position[0]-this._oldPosition[0])*t}},{key:"getRenderY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._oldPosition[1]+(this._position[1]-this._oldPosition[1])*t}},{key:"getRenderScaleX",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._oldScale[0]+(this._scale[0]-this._oldScale[0])*t}},{key:"getRenderScaleY",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._oldScale[1]+(this._scale[1]-this._oldScale[1])*t}},{key:"getRenderRotation",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._oldRotation+(this._rotation-this._oldRotation)*t}},{key:"setPosition",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?t:arguments[1];this._oldPosition[0]=t,this._oldPosition[1]=i,this._position[0]=t,this._position[1]=i,this.update()}},{key:"setScale",value:function(t){var i=arguments.length<=1||void 0===arguments[1]?t:arguments[1];this._oldScale[0]=t,this._oldScale[1]=i,this._scale[0]=t,this._scale[1]=i,this.update()}},{key:"setRotation",value:function(t){this._oldRotation=t,this._rotation=t,this.update()}},{key:"setParent",value:function(t){if(this.parent!==t){this.parent;this.parent=t,this.root=t.root,this.isRoot=!1}}},{key:"add",value:function(t){if(!this.children.has(t)){var i=t.parent;this.children.add(t),this.drawList.push(t),t.parent=this,t.root=this.root;var e=!0,n=!1,s=void 0;try{for(var o,h=t.children[Symbol.iterator]();!(e=(o=h.next()).done);e=!0){var r=o.value;r.root=this.root}}catch(a){n=!0,s=a}finally{try{!e&&h["return"]&&h["return"]()}finally{if(n)throw s}}i&&i.remove(t)}return this}},{key:"update",value:function(){this._local.transform(this._position[0],this._position[1],this._rotation,this._scale[0],this._scale[1]),this.parent&&this._local.multiply(this.parent._local);for(var t=0;t<this.drawList.length;t++)this.drawList[t].update();this.dirty=!0}},{key:"draw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return this._drawMatrix.transform(this._oldPosition[0]+(this._position[0]-this._oldPosition[0])*t,this._oldPosition[1]+(this._position[1]-this._oldPosition[1])*t,this._oldRotation+(this._rotation-this._oldRotation)*t,this._oldScale[0]+(this._scale[0]-this._oldScale[0])*t,this._oldScale[1]+(this._scale[1]-this._oldScale[1])*t),this.parent&&this._drawMatrix.multiply(this.parent._drawMatrix),this._oldPosition[0]=this._position[0],this._oldPosition[1]=this._position[1],this._oldRotation=this._rotation,this._oldScale[0]=this._scale[0],this._oldScale[1]=this._scale[1],this._drawMatrix}},{key:"remove",value:function(t){return this.children.has(t)&&this.children["delete"](t),this}},{key:"x",get:function(){return this._position[0]},set:function(t){t!==this._position[0]&&(this._oldPosition[0]=this._position[0],this._position[0]=t,this.update())}},{key:"y",get:function(){return this._position[1]},set:function(t){t!==this._position[1]&&(this._oldPosition[1]=this._position[1],this._position[1]=t,this.update())}},{key:"scaleX",get:function(){return this._scale[0]},set:function(t){t!==this._scale[0]&&(this._oldScale[0]=this._scale[0],this._scale[0]=t,this.update())}},{key:"scaleY",get:function(){return this._scale[1]},set:function(t){t!==this._scale[1]&&(this._oldScale[1]=this._scale[1],this._scale[1]=t,this.update())}},{key:"rotation",get:function(){return this._rotation},set:function(t){t!==this._rotation&&(this._oldRotation=this._rotation,this._rotation=t,this.update())}}]),t}();i["default"]=d},118:function(t,i){"use strict";function e(t,i){var e=arguments.length<=2||void 0===arguments[2]?new n(2):arguments[2];return e[0]=t,e[1]=i,e}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=e;var n=Float32Array},119:function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),s=function(){function t(){var i=arguments.length<=0||void 0===arguments[0]?1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],s=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=arguments.length<=3||void 0===arguments[3]?1:arguments[3],h=arguments.length<=4||void 0===arguments[4]?0:arguments[4],r=arguments.length<=5||void 0===arguments[5]?0:arguments[5];e(this,t),this[0]=i,this[1]=n,this[2]=0,this[3]=s,this[4]=o,this[5]=0,this[6]=h,this[7]=r,this[8]=1,this.rotationDirection=-1}return n(t,[{key:"transform",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],i=arguments.length<=1||void 0===arguments[1]?0:arguments[1],e=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?1:arguments[3],s=arguments.length<=4||void 0===arguments[4]?1:arguments[4],o=Math.cos(e),h=Math.sin(e)*this.rotationDirection;return this[0]=o*n,this[1]=-h*s,this[2]=0,this[3]=h*n,this[4]=o*s,this[5]=0,this[6]=t,this[7]=i,this[8]=1,this}},{key:"multiply",value:function(t){var i=this[0],e=this[1],n=this[3],s=this[4],o=this[6],h=this[7];return this[0]=t[0]*i+t[1]*n,this[1]=t[0]*e+t[1]*s,this[2]=0,this[3]=t[3]*i+t[4]*n,this[4]=t[3]*e+t[4]*s,this[5]=0,this[6]=o*t[0]+h*t[3]+t[6],this[7]=o*t[1]+h*t[4]+t[7],this[8]=1,this}},{key:"a",get:function(){return this[0]}},{key:"b",get:function(){return this[1]}},{key:"c",get:function(){return this[3]}},{key:"d",get:function(){return this[4]}},{key:"tx",get:function(){return this[6]}},{key:"ty",get:function(){return this[7]}}]),t}();i["default"]=s}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uPzVjYTYqKiIsIndlYnBhY2s6Ly8vY29tcG9uZW50cy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMWI2ZjU4YTE3NzQ1MDgwZjAwMWE/Nzc5ZSoqIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYXRoL3ZlY3Rvci92ZWMyL1ZlYzIuanM/MjNhZSIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aC9EZWdUb1JhZC5qcz82YjQ0Iiwid2VicGFjazovLy8uL3NyYy9tYXRoL1JhZFRvRGVnLmpzPzgyN2IiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGgvV3JhcC5qcz9kOTkxIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0dhbWVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9tYXRoL3ZlY3Rvci92ZWMzL1ZlYzMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hdGgvcXVhdGVybmlvbi9CdWlsZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9UcmFuc2Zvcm0yRC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aC92ZWN0b3IvdmVjMi9CdWlsZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWF0aC9tYXRyaXgvbWF0MzMvTWF0MzMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwiMCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJUcmFuc2Zvcm0yRCIsIlRyYW5zZm9ybSIsIlBvc2l0aW9uIiwiR2FtZU9iamVjdEZhY3RvcnkiLCJ1bmRlZmluZWQiLCJfR2FtZU9iamVjdCIsIl9HYW1lT2JqZWN0MiIsIl9Qb3NpdGlvbiIsIl9Qb3NpdGlvbjIiLCJfVHJhbnNmb3JtIiwiX1RyYW5zZm9ybTIiLCJfVHJhbnNmb3JtMkQiLCJfVHJhbnNmb3JtMkQyIiwiMTAwIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwicHJvdG90eXBlIiwiVmVjMiIsIngiLCJhcmd1bWVudHMiLCJ5IiwidiIsInMiLCJhIiwiYiIsImlzRmluaXRlIiwibiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJmbG9vciIsImNlaWwiLCJyb3VuZCIsImwiLCJhYnMiLCJnZXQiLCJzZXQiLCJhbmdsZSIsImF0YW4yIiwiY29zIiwic2luIiwic3FydCIsIjEwNCIsIkRlZ1RvUmFkIiwiZGVncmVlcyIsImRlZ1RvUmFkIiwiUEkiLCIxMDUiLCJSYWRUb0RlZyIsInJhZGlhbnMiLCJyYWRUb0RlZyIsIjEwNiIsIldyYXAiLCJyYW5nZSIsInJlc3VsdCIsIjExMiIsImJhc2UiLCJ0cmFuc2Zvcm0iLCJuYW1lIiwiMTEzIiwiX1ZlYyIsIl9WZWMyIiwibm93Iiwib2xkIiwiaW50ZXJwb2xhdGUiLCJnZXREZWx0YVgiLCJnZXREZWx0YVkiLCIxMTQiLCJfQnVpbGQiLCJfQnVpbGQyIiwicGFyZW50IiwieiIsImdhbWVPYmplY3QiLCJoaWRlRmxhZ3MiLCJoYXNDaGFuZ2VkIiwibG9jYWxQb3NpdGlvbiIsImxvY2FsUm90YXRpb24iLCJsb2NhbFNjYWxlIiwicG9zaXRpb24iLCJzY2FsZSIsInJvdGF0aW9uIiwiY2hpbGRyZW4iLCJTZXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIjExNSIsIlZlYzMiLCIxMTYiLCJRdWFudGVybmlvbiIsInciLCJkc3QiLCJxdWF0IiwiRmxvYXQzMkFycmF5IiwiMTE3IiwiX0RlZ1RvUmFkIiwiX1JhZFRvRGVnIiwiX1dyYXAiLCJfTWF0IiwiX01hdDIiLCJzY2FsZVgiLCJzY2FsZVkiLCJkaXJ0eSIsImlzUm9vdCIsIl9wb3NpdGlvbiIsIl9zY2FsZSIsIl9yb3RhdGlvbiIsIl9sb2NhbCIsIl9vbGRQb3NpdGlvbiIsIl9vbGRTY2FsZSIsIl9vbGRSb3RhdGlvbiIsIl9kcmF3TWF0cml4IiwiZHJhd0xpc3QiLCJhZGQiLCJ1cGRhdGUiLCJoYXMiLCJvbGRQYXJlbnQiLCJwdXNoIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIm5leHQiLCJkb25lIiwiY2hpbGQiLCJlcnIiLCJyZW1vdmUiLCJtdWx0aXBseSIsIjExOCIsIkJ1aWxkIiwidmVjMiIsIjExOSIsIk1hdDMzIiwiZCIsInR4IiwidHkiLCJyb3RhdGlvbkRpcmVjdGlvbiIsImIwMCIsImIwMSIsImIxMCIsImIxMSIsImIyMCIsImIyMSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxnQkFBQUMsVUFBQSxnQkFBQUMsUUFDQUEsT0FBQUQsUUFBQUQsSUFDQSxrQkFBQUcsZ0JBQUFDLElBQ0FELE9BQUEsZ0JBQUFILEdBQ0EsZ0JBQUFDLFNBQ0FBLFFBQUEsV0FBQUQsS0FFQUQsRUFBQSxNQUFBQSxFQUFBLFVBQXFDQSxFQUFBLGlCQUFBQyxNQUNwQ0ssS0FBQSxXQUNELE1DQWdCLFVBQVVDLEdDTjFCLFFBQUFD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QUtrSCxFQUFNbEgsRUFBRSxHQUFLb0gsRUFDOUI3SyxLQUFLLEdBQUt5RCxFQUFFLEdBQUttSCxFQUFNbkgsRUFBRSxHQUFLcUgsRUFDOUI5SyxLQUFLLEdBQUssRUFDVkEsS0FBSyxHQUFLeUQsRUFBRSxHQUFLa0gsRUFBTWxILEVBQUUsR0FBS29ILEVBQzlCN0ssS0FBSyxHQUFLeUQsRUFBRSxHQUFLbUgsRUFBTW5ILEVBQUUsR0FBS3FILEVBQzlCOUssS0FBSyxHQUFLLEVBQ1ZBLEtBQUssR0FBSytLLEVBQU10SCxFQUFFLEdBQUt1SCxFQUFNdkgsRUFBRSxHQUFLQSxFQUFFLEdBQ3RDekQsS0FBSyxHQUFLK0ssRUFBTXRILEVBQUUsR0FBS3VILEVBQU12SCxFQUFFLEdBQUtBLEVBQUUsR0FDdEN6RCxLQUFLLEdBQUssRUFFSEEsUWRzM0NOK0MsSUFBSyxJQUNMc0IsSUFBSyxXY3Q3Q04sTUFBT3JFLE1BQUssTWQwN0NYK0MsSUFBSyxJQUNMc0IsSUFBSyxXY3Y3Q04sTUFBT3JFLE1BQUssTWQyN0NYK0MsSUFBSyxJQUNMc0IsSUFBSyxXY3g3Q04sTUFBT3JFLE1BQUssTWQ0N0NYK0MsSUFBSyxJQUNMc0IsSUFBSyxXY3o3Q04sTUFBT3JFLE1BQUssTWQ2N0NYK0MsSUFBSyxLQUNMc0IsSUFBSyxXYzE3Q04sTUFBT3JFLE1BQUssTWQ4N0NYK0MsSUFBSyxLQUNMc0IsSUFBSyxXYzM3Q04sTUFBT3JFLE1BQUssT2RnOENSc0ssSUFHWDFLLGNjOStDb0IwSyIsImZpbGUiOiJjb21wb25lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJjb21wb25lbnRzXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImNvbXBvbmVudHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wibGF6ZXJcIl0gPSByb290W1wibGF6ZXJcIl0gfHwge30sIHJvb3RbXCJsYXplclwiXVtcImNvbXBvbmVudHNcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb25cbiAqKi8iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImNvbXBvbmVudHNcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiY29tcG9uZW50c1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJsYXplclwiXSA9IHJvb3RbXCJsYXplclwiXSB8fCB7fSwgcm9vdFtcImxhemVyXCJdW1wiY29tcG9uZW50c1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHQnY3JlYXRlIGluZGV4Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVHJhbnNmb3JtMkQgPSBleHBvcnRzLlRyYW5zZm9ybSA9IGV4cG9ydHMuUG9zaXRpb24gPSBleHBvcnRzLkdhbWVPYmplY3RGYWN0b3J5ID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9HYW1lT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXHRcblx0dmFyIF9HYW1lT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dhbWVPYmplY3QpO1xuXHRcblx0dmFyIF9Qb3NpdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblx0XG5cdHZhciBfUG9zaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUG9zaXRpb24pO1xuXHRcblx0dmFyIF9UcmFuc2Zvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7XG5cdFxuXHR2YXIgX1RyYW5zZm9ybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm0pO1xuXHRcblx0dmFyIF9UcmFuc2Zvcm0yRCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcblx0XG5cdHZhciBfVHJhbnNmb3JtMkQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHJhbnNmb3JtMkQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuR2FtZU9iamVjdEZhY3RvcnkgPSBfR2FtZU9iamVjdDIuZGVmYXVsdDtcblx0ZXhwb3J0cy5Qb3NpdGlvbiA9IF9Qb3NpdGlvbjIuZGVmYXVsdDtcblx0ZXhwb3J0cy5UcmFuc2Zvcm0gPSBfVHJhbnNmb3JtMi5kZWZhdWx0O1xuXHRleHBvcnRzLlRyYW5zZm9ybTJEID0gX1RyYW5zZm9ybTJEMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8vICBFdmVyeXRoaW5nIGlzIHVucm9sbGVkIHdpdGggbm8gbWV0aG9kIGNoYWluaW5nIChldmVuIGlmIGl0IG1lYW5zIGR1cGxpY2F0ZSBjb2RlKVxuXHRcblx0dmFyIFZlYzIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBWZWMyKCkge1xuXHQgICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1swXTtcblx0ICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZWMyKTtcblx0XG5cdCAgICAgICAgLy8gIFRoaXMgbWF5IGxvb2sgdWdseSwgYnV0IGl0IGFsbG93cyBmb3Igc2VhbWxlc3MgZXhjaGFuZ2UgYmV0d2VlblxuXHQgICAgICAgIC8vICBWZWMyLCBGbG9hdDMyQXJyYXkgYW5kIEFycmF5IGRhdGEgdHlwZXMuXG5cdFxuXHQgICAgICAgIHRoaXNbMF0gPSB4O1xuXHQgICAgICAgIHRoaXNbMV0gPSB5O1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhWZWMyLCBbe1xuXHQgICAgICAgIGtleTogXCJzZXRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KHgpIHtcblx0ICAgICAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB4IDogYXJndW1lbnRzWzFdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gPSB4O1xuXHQgICAgICAgICAgICB0aGlzWzFdID0geTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwic2V0VG9cIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VG8oeCkge1xuXHQgICAgICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IHggOiBhcmd1bWVudHNbMV07XG5cdFxuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IHg7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSB5O1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJ6ZXJvXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHplcm8oKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gMDtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IDA7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImFkZFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQodikge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSArPSB2WzBdO1xuXHQgICAgICAgICAgICB0aGlzWzFdICs9IHZbMV07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImFkZFNjYWxhclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTY2FsYXIocykge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSArPSBzO1xuXHQgICAgICAgICAgICB0aGlzWzFdICs9IHM7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImFkZFZlY3RvcnNcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVmVjdG9ycyhhLCBiKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gYVswXSArIGJbMF07XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSBhWzFdICsgYlsxXTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYWRkU2NhbGVkVmVjdG9yXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNjYWxlZFZlY3Rvcih2LCBzKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdICs9IHZbMF0gKiBzO1xuXHQgICAgICAgICAgICB0aGlzWzFdICs9IHZbMV0gKiBzO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzdWJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3ViKHYpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gLT0gdlswXTtcblx0ICAgICAgICAgICAgdGhpc1sxXSAtPSB2WzFdO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzdWJTY2FsYXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3ViU2NhbGFyKHMpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gLT0gcztcblx0ICAgICAgICAgICAgdGhpc1sxXSAtPSBzO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzdWJWZWN0b3JzXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN1YlZlY3RvcnMoYSwgYikge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IGFbMF0gLSBiWzBdO1xuXHQgICAgICAgICAgICB0aGlzWzFdID0gYVsxXSAtIGJbMV07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICBTYW1lIGFzIHNjYWxlViwga2VwdCBmb3IgY29tcGF0aWJpbGl0eSBiZXR3ZWVuIDNyZCBwYXJ0eSBsaWJzXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJtdWx0aXBseVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBtdWx0aXBseSh2KSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdICo9IHZbMF07XG5cdCAgICAgICAgICAgIHRoaXNbMV0gKj0gdlsxXTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibXVsdGlwbHlTY2FsYXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIocykge1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzRmluaXRlKHMpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzBdICo9IHM7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzFdICo9IHM7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzBdID0gMDtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMV0gPSAwO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInNjYWxlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlKHgpIHtcblx0ICAgICAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB4IDogYXJndW1lbnRzWzFdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gKj0geDtcblx0ICAgICAgICAgICAgdGhpc1sxXSAqPSB5O1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzY2FsZVZcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2NhbGVWKHYpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gKj0gdlswXTtcblx0ICAgICAgICAgICAgdGhpc1sxXSAqPSB2WzFdO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJkaXZpZGVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGl2aWRlKG4pIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gLz0gbjtcblx0ICAgICAgICAgICAgdGhpc1sxXSAvPSBuO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJkaXZpZGVTY2FsYXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGl2aWRlU2NhbGFyKHMpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBjID0gMSAvIHM7XG5cdFxuXHQgICAgICAgICAgICBpZiAoaXNGaW5pdGUoYykpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMF0gKj0gYztcblx0ICAgICAgICAgICAgICAgIHRoaXNbMV0gKj0gYztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMF0gPSAwO1xuXHQgICAgICAgICAgICAgICAgdGhpc1sxXSA9IDA7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibWluXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1pbih2KSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5taW4odGhpc1swXSwgdlswXSk7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSBNYXRoLm1pbih0aGlzWzFdLCB2WzFdKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibWF4XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1heCh2KSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5tYXgodGhpc1swXSwgdlswXSk7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSBNYXRoLm1heCh0aGlzWzFdLCB2WzFdKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY2xhbXBcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xhbXAobWluLCBtYXgpIHtcblx0XG5cdCAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyBtaW4gPCBtYXgsIGlmIHRoaXMgYXNzdW1wdGlvbiBpc24ndCB0cnVlIGl0IHdpbGwgbm90IG9wZXJhdGUgY29ycmVjdGx5XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5tYXgobWluWzBdLCBNYXRoLm1pbihtYXhbMF0sIHRoaXNbMF0pKTtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IE1hdGgubWF4KG1pblsxXSwgTWF0aC5taW4obWF4WzFdLCB0aGlzWzFdKSk7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImZsb29yXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZsb29yKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IE1hdGguZmxvb3IodGhpc1swXSk7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSBNYXRoLmZsb29yKHRoaXNbMV0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjZWlsXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNlaWwoKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5jZWlsKHRoaXNbMF0pO1xuXHQgICAgICAgICAgICB0aGlzWzFdID0gTWF0aC5jZWlsKHRoaXNbMV0pO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyb3VuZFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByb3VuZCgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gPSBNYXRoLnJvdW5kKHRoaXNbMF0pO1xuXHQgICAgICAgICAgICB0aGlzWzFdID0gTWF0aC5yb3VuZCh0aGlzWzFdKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicm91bmRUb1plcm9cIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcm91bmRUb1plcm8oKSB7XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpc1swXSA8IDApIHtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMF0gPSBNYXRoLmNlaWwodGhpc1swXSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5mbG9vcih0aGlzWzBdKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXNbMV0gPCAxKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzFdID0gTWF0aC5jZWlsKHRoaXNbMV0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdGhpc1sxXSA9IE1hdGguZmxvb3IodGhpc1sxXSk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibmVnYXRlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gPSAtdGhpc1swXTtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IC10aGlzWzFdO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJub3JtYWxpemVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbm9ybWFsaXplKCkge1xuXHRcblx0ICAgICAgICAgICAgdmFyIGwgPSB0aGlzLmxlbmd0aCgpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGwgPiAwKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzBdIC89IGw7XG5cdCAgICAgICAgICAgICAgICB0aGlzWzFdIC89IGw7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicGVycFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwZXJwKCkge1xuXHRcblx0ICAgICAgICAgICAgdmFyIHggPSB0aGlzWzBdO1xuXHQgICAgICAgICAgICB2YXIgeSA9IHRoaXNbMV07XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0geTtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IC14O1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJkb3RcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZG90KHYpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzWzBdICogdlswXSArIHRoaXNbMV0gKiB2WzFdO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibGVuZ3RoU3FcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbGVuZ3RoU3EoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1swXSAqIHRoaXNbMF0gKyB0aGlzWzFdICogdGhpc1sxXTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImxlbmd0aE1hbmhhdHRhblwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsZW5ndGhNYW5oYXR0YW4oKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpc1swXSkgKyBNYXRoLmFicyh0aGlzWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInRvU3RyaW5nXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIFwiW1ZlYzIgKHg9XCIgKyB0aGlzWzBdICsgXCIsIHk9XCIgKyB0aGlzWzFdICsgXCIpXVwiO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwieFwiLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1swXTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcblx0ICAgICAgICAgICAgdGhpc1swXSA9IHY7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJ5XCIsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzWzFdO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuXHQgICAgICAgICAgICB0aGlzWzFdID0gdjtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImxlbmd0aFwiLFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBhbmdsZSA9IE1hdGguYXRhbjIodGhpc1sxXSwgdGhpc1swXSk7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5jb3MoYW5nbGUpICogdjtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IE1hdGguc2luKGFuZ2xlKSAqIHY7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpc1swXSAqIHRoaXNbMF0gKyB0aGlzWzFdICogdGhpc1sxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBWZWMyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBWZWMyO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERlZ1RvUmFkO1xuXHR2YXIgZGVnVG9SYWQgPSBNYXRoLlBJIC8gMTgwO1xuXHRcblx0ZnVuY3Rpb24gRGVnVG9SYWQoZGVncmVlcykge1xuXHRcblx0ICAgIHJldHVybiBkZWdyZWVzICogZGVnVG9SYWQ7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTA1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBSYWRUb0RlZztcblx0dmFyIHJhZFRvRGVnID0gMTgwIC8gTWF0aC5QSTtcblx0XG5cdGZ1bmN0aW9uIFJhZFRvRGVnKHJhZGlhbnMpIHtcblx0XG5cdCAgICByZXR1cm4gcmFkaWFucyAqIHJhZFRvRGVnO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDEwNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gV3JhcDtcblx0ZnVuY3Rpb24gV3JhcCh2YWx1ZSwgbWluLCBtYXgpIHtcblx0XG5cdCAgICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XG5cdFxuXHQgICAgaWYgKHJhbmdlIDw9IDApIHtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVzdWx0ID0gKHZhbHVlIC0gbWluKSAlIHJhbmdlO1xuXHRcblx0ICAgIGlmIChyZXN1bHQgPCAwKSB7XG5cdCAgICAgICAgcmVzdWx0ICs9IHJhbmdlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHQgKyBtaW47XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTEyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gR2FtZU9iamVjdEZhY3Rvcnk7XG5cdGZ1bmN0aW9uIEdhbWVPYmplY3RGYWN0b3J5KGJhc2UsIHRyYW5zZm9ybSkge1xuXHRcblx0ICAgIC8vICBBZGQgdmFyaW91cyBiYXNlIEdhbWVPYmplY3QgcHJvcGVydGllc1xuXHRcblx0ICAgIHJldHVybiB7XG5cdFxuXHQgICAgICAgIG5hbWU6ICcnLFxuXHRcblx0ICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybVxuXHRcblx0ICAgIH07XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTEzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX1ZlYyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0XG5cdHZhciBfVmVjMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlYyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8vICBMaWtlbHkgbWVyZ2VkIHdpdGggVHJhbnNmb3JtIGluIHRoZSBmdXR1cmUsIGJ1dCB1c2VmdWwgYXMgYSBzbWFsbGVyXG5cdC8vICBzdGFuZC1hbG9uZSBjbGFzc1xuXHRcblx0dmFyIFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gUG9zaXRpb24oeCwgeSkge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3NpdGlvbik7XG5cdFxuXHQgICAgICAgIHRoaXMubm93ID0gbmV3IF9WZWMyLmRlZmF1bHQoeCwgeSk7XG5cdCAgICAgICAgdGhpcy5vbGQgPSBuZXcgX1ZlYzIuZGVmYXVsdCh4LCB5KTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoUG9zaXRpb24sIFt7XG5cdCAgICAgICAga2V5OiAnZ2V0UmVuZGVyWCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlbmRlclgoKSB7XG5cdCAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIGludGVycG9sYXRlID8gdGhpcy5nZXREZWx0YVgoaSkgOiB0aGlzLm5vdy54O1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRSZW5kZXJZJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVuZGVyWSgpIHtcblx0ICAgICAgICAgICAgdmFyIGludGVycG9sYXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cdCAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gaW50ZXJwb2xhdGUgPyB0aGlzLmdldERlbHRhWShpKSA6IHRoaXMubm93Lnk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldERlbHRhWCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlbHRhWCgpIHtcblx0ICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLm9sZC54ICsgKHRoaXMubm93LnggLSB0aGlzLm9sZC54KSAqIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldERlbHRhWScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlbHRhWSgpIHtcblx0ICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHRcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLm9sZC55ICsgKHRoaXMubm93LnkgLSB0aGlzLm9sZC55KSAqIGk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3gnLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubm93Lng7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5vbGQueCA9IHRoaXMubm93Lng7XG5cdCAgICAgICAgICAgIHRoaXMubm93LnggPSB2YWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAneScsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5ub3cueTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLm9sZC55ID0gdGhpcy5ub3cueTtcblx0ICAgICAgICAgICAgdGhpcy5ub3cueSA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gUG9zaXRpb247XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBvc2l0aW9uO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgICAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX1ZlYyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KTtcblx0XG5cdHZhciBfVmVjMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZlYyk7XG5cdFxuXHR2YXIgX0J1aWxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXHRcblx0dmFyIF9CdWlsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdWlsZCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gVHJhbnNmb3JtKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMF07XG5cdCAgICAgICAgICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgICAgICAgICB2YXIgeiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMyB8fCBhcmd1bWVudHNbM10gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbM107XG5cdFxuXHQgICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zZm9ybSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIFRoZSBnYW1lIG9iamVjdCB0aGlzIGNvbXBvbmVudCBpcyBhdHRhY2hlZCB0by4gQSBjb21wb25lbnQgaXMgYWx3YXlzIGF0dGFjaGVkIHRvIGEgZ2FtZSBvYmplY3QuXG5cdCAgICAgICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QgPSBudWxsO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBUaGUgbmFtZSBvZiB0aGUgb2JqZWN0LlxuXHQgICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gJyc7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gICBTaG91bGQgdGhlIG9iamVjdCBiZSBoaWRkZW4sIHNhdmVkIHdpdGggdGhlIHNjZW5lIG9yIG1vZGlmaWFibGUgYnkgdGhlIHVzZXI/XG5cdCAgICAgICAgICAgICAgICB0aGlzLmhpZGVGbGFncyA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBIYXMgdGhlIHRyYW5zZm9ybSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGZsYWcgd2FzIHNldCB0byAnZmFsc2UnP1xuXHQgICAgICAgICAgICAgICAgdGhpcy5oYXNDaGFuZ2VkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIFRoZSBwYXJlbnQgb2YgdGhlIHRyYW5zZm9ybS5cblx0ICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBSZXR1cm5zIHRoZSB0b3Btb3N0IHRyYW5zZm9ybSBpbiB0aGUgaGllcmFyY2h5LlxuXHQgICAgICAgICAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgUG9zaXRpb24gb2YgdGhlIHRyYW5zZm9ybSByZWxhdGl2ZSB0byB0aGUgcGFyZW50IHRyYW5zZm9ybS5cblx0ICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQb3NpdGlvbiA9IG5ldyBfVmVjMi5kZWZhdWx0KDAsIDAsIDApO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBUaGUgcm90YXRpb24gb2YgdGhlIHRyYW5zZm9ybSByZWxhdGl2ZSB0byB0aGUgcGFyZW50IHRyYW5zZm9ybSdzIHJvdGF0aW9uLlxuXHQgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFJvdGF0aW9uID0gKDAsIF9CdWlsZDIuZGVmYXVsdCkoKTtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgVGhlIHNjYWxlIG9mIHRoZSB0cmFuc2Zvcm0gcmVsYXRpdmUgdG8gdGhlIHBhcmVudC5cblx0ICAgICAgICAgICAgICAgIHRoaXMubG9jYWxTY2FsZSA9IG5ldyBfVmVjMi5kZWZhdWx0KDEsIDEsIDEpO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vICBUaGUgcG9zaXRpb24gb2YgdGhlIHRyYW5zZm9ybSBpbiB3b3JsZCBzcGFjZS5cblx0ICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgX1ZlYzIuZGVmYXVsdCh4LCB5LCB6KTtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgVGhlIHNjYWxlIG9mIHRoZSB0cmFuc2Zvcm0gaW4gd29ybGQgc3BhY2UuXG5cdCAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gbmV3IF9WZWMyLmRlZmF1bHQoMSwgMSwgMSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIFRoZSByb3RhdGlvbiBvZiB0aGUgdHJhbnNmb3JtIGluIHdvcmxkIHNwYWNlIHN0b3JlZCBhcyBhIFF1YXRlcm5pb24uXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uID0gKDAsIF9CdWlsZDIuZGVmYXVsdCkoKTtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3IFNldCgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gIFRoaXMgYWxsb3dzIHlvdSB0byBpdGVyYXRlIG92ZXIgdGhlIFRyYW5zZm9ybSBhbmQgZ2V0IGFsbCBvZiB0aGUgY2hpbGRyZW4gLSBzd2VldCEgOilcblx0XG5cdFxuXHQgICAgICAgIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm0sIFt7XG5cdCAgICAgICAgICAgICAgICBrZXk6IFN5bWJvbC5pdGVyYXRvcixcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3NjYWxlWCcsXG5cdCAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsZVsyXSA9IHZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHNlbmQgdG8gY2hpbGRyZW4/IGRvZXNuJ3QgdGhpcyBtZWFuIGV2ZXJ5IHRpbWUgd2UgdHdlZW4gYSBzY2FsZSBpdCB3aWxsIGRvIGEgY2hpbGQgbG9vcD9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHRoZW4gYWdhaW4sIGlmIHdlIGRvbid0LCBzdXJlbHkgdGhlIGNoaWxkcmVuIHdvdWxkIGJlIG91dCBvZiBzeW5jIHdpdGggdGhlaXIgcGFyZW50cz9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIG1heWJlIHRoYXQncyB3aGF0IHRoZXkgbmVlZCB0byBjaGVjaz8gdGhlIGNoaWxkcmVuIGNoZWNrIGlmIHRoZSBwYXJlbnRzIGFyZSBkaXJ0eT9cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNoZWFwZXIgdGhhbiBpdGVyYXRpbmcgYWxsIGNoaWxkcmVuIG1heWJlP1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgIH1dKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIFRyYW5zZm9ybTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNmb3JtO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8vICBFdmVyeXRoaW5nIGlzIHVucm9sbGVkIHdpdGggbm8gbWV0aG9kIGNoYWluaW5nIChldmVuIGlmIGl0IG1lYW5zIGR1cGxpY2F0ZSBjb2RlKVxuXHRcblx0dmFyIFZlYzMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBWZWMzKCkge1xuXHQgICAgICAgIHZhciB4ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1swXTtcblx0ICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgdmFyIHogPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzJdO1xuXHRcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmVjMyk7XG5cdFxuXHQgICAgICAgIC8vICBUaGlzIG1heSBsb29rIHVnbHksIGJ1dCBpdCBhbGxvd3MgZm9yIHNlYW1sZXNzIGV4Y2hhbmdlIGJldHdlZW5cblx0ICAgICAgICAvLyAgVmVjMywgRmxvYXQzMkFycmF5IGFuZCBBcnJheSBkYXRhIHR5cGVzLlxuXHRcblx0ICAgICAgICB0aGlzWzBdID0geDtcblx0ICAgICAgICB0aGlzWzFdID0geTtcblx0ICAgICAgICB0aGlzWzJdID0gejtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVmVjMywgW3tcblx0ICAgICAgICBrZXk6IFwiemVyb1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB6ZXJvKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IDA7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSAwO1xuXHQgICAgICAgICAgICB0aGlzWzJdID0gMDtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYWRkXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZCh2KSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdICs9IHZbMF07XG5cdCAgICAgICAgICAgIHRoaXNbMV0gKz0gdlsxXTtcblx0ICAgICAgICAgICAgdGhpc1syXSArPSB2WzJdO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzdWJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3ViKHYpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gLT0gdlswXTtcblx0ICAgICAgICAgICAgdGhpc1sxXSAtPSB2WzFdO1xuXHQgICAgICAgICAgICB0aGlzWzJdIC09IHZbMl07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInNjYWxlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlKHgpIHtcblx0ICAgICAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB4IDogYXJndW1lbnRzWzFdO1xuXHQgICAgICAgICAgICB2YXIgeiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IHggOiBhcmd1bWVudHNbMl07XG5cdFxuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSAqPSB4O1xuXHQgICAgICAgICAgICB0aGlzWzFdICo9IHk7XG5cdCAgICAgICAgICAgIHRoaXNbMl0gKj0gejtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwic2NhbGVWXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjYWxlVih2KSB7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdICo9IHZbMF07XG5cdCAgICAgICAgICAgIHRoaXNbMV0gKj0gdlsxXTtcblx0ICAgICAgICAgICAgdGhpc1syXSAqPSB2WzJdO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJkaXZcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGl2KG4pIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gLz0gbjtcblx0ICAgICAgICAgICAgdGhpc1sxXSAvPSBuO1xuXHQgICAgICAgICAgICB0aGlzWzJdIC89IG47XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImZsb29yXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZsb29yKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IE1hdGguZmxvb3IodGhpc1swXSk7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSBNYXRoLmZsb29yKHRoaXNbMV0pO1xuXHQgICAgICAgICAgICB0aGlzWzJdID0gTWF0aC5mbG9vcih0aGlzWzJdKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY2VpbFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjZWlsKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IE1hdGguY2VpbCh0aGlzWzBdKTtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IE1hdGguY2VpbCh0aGlzWzFdKTtcblx0ICAgICAgICAgICAgdGhpc1syXSA9IE1hdGguY2VpbCh0aGlzWzJdKTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibmVnYXRlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gPSAtdGhpc1swXTtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IC10aGlzWzFdO1xuXHQgICAgICAgICAgICB0aGlzWzJdID0gLXRoaXNbMl07XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIm5vcm1hbGl6ZVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBub3JtYWxpemUoKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgbCA9IHRoaXMubGVuZ3RoKCk7XG5cdFxuXHQgICAgICAgICAgICBpZiAobCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMF0gLz0gbDtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMV0gLz0gbDtcblx0ICAgICAgICAgICAgICAgIHRoaXNbMl0gLz0gbDtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJwZXJwXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBlcnAoKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgeCA9IHRoaXNbMF07XG5cdCAgICAgICAgICAgIHZhciB5ID0gdGhpc1sxXTtcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gPSB5O1xuXHQgICAgICAgICAgICB0aGlzWzFdID0gLXg7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImRvdFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkb3Qodikge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbMF0gKiB2WzBdICsgdGhpc1sxXSAqIHZbMV0gKyB0aGlzWzJdICogKHZbMl0gfHwgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJsZW5ndGhTcVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsZW5ndGhTcSgpIHtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzWzBdICogdGhpc1swXSArIHRoaXNbMV0gKiB0aGlzWzFdICsgdGhpc1syXSAqIHRoaXNbMl07XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJsZW5ndGhNYW5oYXR0YW5cIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbGVuZ3RoTWFuaGF0dGFuKCkge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXNbMF0pICsgTWF0aC5hYnModGhpc1sxXSkgKyBNYXRoLmFicyh0aGlzWzJdKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInRvU3RyaW5nXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIFwiW1ZlYzIgKHg9XCIgKyB0aGlzWzBdICsgXCIsIHk9XCIgKyB0aGlzWzFdICsgXCIpXVwiO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwieFwiLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1swXTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHtcblx0ICAgICAgICAgICAgdGhpc1swXSA9IHY7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJ5XCIsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzWzFdO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuXHQgICAgICAgICAgICB0aGlzWzFdID0gdjtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInpcIixcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbMl07XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2KSB7XG5cdCAgICAgICAgICAgIHRoaXNbMl0gPSB2O1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibGVuZ3RoXCIsXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuXHRcblx0ICAgICAgICAgICAgdmFyIHMgPSB2IC8gTWF0aC5zcXJ0KHRoaXNbMF0gKiB0aGlzWzBdICsgdGhpc1sxXSAqIHRoaXNbMV0gKyB0aGlzWzJdICogdGhpc1syXSk7XG5cdFxuXHQgICAgICAgICAgICB0aGlzWzBdICo9IHM7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gKj0gcztcblx0ICAgICAgICAgICAgdGhpc1syXSAqPSBzO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXNbMF0gKiB0aGlzWzBdICsgdGhpc1sxXSAqIHRoaXNbMV0gKyB0aGlzWzJdICogdGhpc1syXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBWZWMzO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBWZWMzO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFF1YW50ZXJuaW9uO1xuXHR2YXIgcXVhdCA9IEZsb2F0MzJBcnJheTtcblx0XG5cdGZ1bmN0aW9uIFF1YW50ZXJuaW9uKHgsIHksIHosIHcpIHtcblx0ICAgIHZhciBkc3QgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDQgfHwgYXJndW1lbnRzWzRdID09PSB1bmRlZmluZWQgPyBuZXcgcXVhdCg0KSA6IGFyZ3VtZW50c1s0XTtcblx0XG5cdFxuXHQgICAgZHN0WzBdID0geDtcblx0ICAgIGRzdFsxXSA9IHk7XG5cdCAgICBkc3RbMl0gPSB6O1xuXHQgICAgZHN0WzNdID0gdztcblx0XG5cdCAgICByZXR1cm4gZHN0O1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDExNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9EZWdUb1JhZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA0KTtcblx0XG5cdHZhciBfRGVnVG9SYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGVnVG9SYWQpO1xuXHRcblx0dmFyIF9SYWRUb0RlZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblx0XG5cdHZhciBfUmFkVG9EZWcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFkVG9EZWcpO1xuXHRcblx0dmFyIF9XcmFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0dmFyIF9XcmFwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dyYXApO1xuXHRcblx0dmFyIF9CdWlsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfQnVpbGQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnVpbGQpO1xuXHRcblx0dmFyIF9NYXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cdFxuXHR2YXIgX01hdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NYXQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHQvLyAgQSAyRCBzcGVjaWZpYyBUcmFuc2Zvcm0gb2JqZWN0IChiYXNlZCBvbiB0aGUgVW5pdHkgVHJhbnNmb3JtIG9iamVjdClcblx0XG5cdHZhciBUcmFuc2Zvcm0yRCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIGZ1bmN0aW9uIFRyYW5zZm9ybTJEKGdhbWVPYmplY3QpIHtcblx0ICAgICAgICB2YXIgcGFyZW50ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICB2YXIgeCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgdmFyIHkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzNdO1xuXHQgICAgICAgIHZhciByb3RhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICAgICAgdmFyIHNjYWxlWCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNSB8fCBhcmd1bWVudHNbNV0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbNV07XG5cdCAgICAgICAgdmFyIHNjYWxlWSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNiB8fCBhcmd1bWVudHNbNl0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbNl07XG5cdFxuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFuc2Zvcm0yRCk7XG5cdFxuXHQgICAgICAgIC8vICBUaGUgZ2FtZSBvYmplY3QgdGhpcyBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8uIEEgY29tcG9uZW50IGlzIGFsd2F5cyBhdHRhY2hlZCB0byBhIGdhbWUgb2JqZWN0LlxuXHQgICAgICAgIHRoaXMuZ2FtZU9iamVjdCA9IGdhbWVPYmplY3Q7XG5cdFxuXHQgICAgICAgIC8vICBUaGUgbmFtZSBvZiB0aGUgb2JqZWN0LlxuXHQgICAgICAgIHRoaXMubmFtZSA9ICcnO1xuXHRcblx0ICAgICAgICAvLyAgIFNob3VsZCB0aGUgb2JqZWN0IGJlIGhpZGRlbiwgc2F2ZWQgd2l0aCB0aGUgc2NlbmUgb3IgbW9kaWZpYWJsZSBieSB0aGUgdXNlcj8gKFVJIGxldmVsIGZsYWcpXG5cdCAgICAgICAgdGhpcy5oaWRlRmxhZ3MgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgLy8gIEhhcyB0aGUgdHJhbnNmb3JtIGNoYW5nZWQ/XG5cdCAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXHRcblx0ICAgICAgICAvLyAgVGhlIHBhcmVudCBvZiB0aGUgdHJhbnNmb3JtIChzZXQgYXQgdGhlIGVuZCBvZiB0aGUgY29uc3RydWN0b3IpXG5cdCAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXHRcblx0ICAgICAgICAvLyAgUmV0dXJucyB0aGUgdG9wbW9zdCB0cmFuc2Zvcm0gaW4gdGhlIGhpZXJhcmNoeS5cblx0ICAgICAgICB0aGlzLnJvb3QgPSBudWxsO1xuXHRcblx0ICAgICAgICAvLyAgSXMgdGhpcyBhIHJvb3QgVHJhbnNmb3JtPyAoY2FuIG5ldmVyIGJlIGlmIGl0IGhhcyBhIHBhcmVudClcblx0ICAgICAgICB0aGlzLmlzUm9vdCA9IHBhcmVudCA/IGZhbHNlIDogdHJ1ZTtcblx0XG5cdCAgICAgICAgdGhpcy5fcG9zaXRpb24gPSAoMCwgX0J1aWxkMi5kZWZhdWx0KSh4LCB5KTtcblx0ICAgICAgICB0aGlzLl9zY2FsZSA9ICgwLCBfQnVpbGQyLmRlZmF1bHQpKHNjYWxlWCwgc2NhbGVZKTtcblx0ICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xuXHRcblx0ICAgICAgICB0aGlzLl9sb2NhbCA9IG5ldyBfTWF0Mi5kZWZhdWx0KCk7XG5cdFxuXHQgICAgICAgIC8vICBmb3IgaW50ZXJwb2xhdGlvblxuXHQgICAgICAgIHRoaXMuaW50ZXJwb2xhdGUgPSB0cnVlO1xuXHRcblx0ICAgICAgICB0aGlzLl9vbGRQb3NpdGlvbiA9ICgwLCBfQnVpbGQyLmRlZmF1bHQpKHgsIHkpO1xuXHQgICAgICAgIHRoaXMuX29sZFNjYWxlID0gKDAsIF9CdWlsZDIuZGVmYXVsdCkoc2NhbGVYLCBzY2FsZVkpO1xuXHQgICAgICAgIHRoaXMuX29sZFJvdGF0aW9uID0gcm90YXRpb247XG5cdCAgICAgICAgdGhpcy5fZHJhd01hdHJpeCA9IG5ldyBfTWF0Mi5kZWZhdWx0KCk7XG5cdFxuXHQgICAgICAgIC8vICBCZWNhdXNlIHRoZXkgbmVlZCB0byBiZSB1bmlxdWUgYW5kIGEgU2V0IHByb3ZpZGVzIHRoaXMgZm9yIHVzXG5cdCAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBTZXQoKTtcblx0XG5cdCAgICAgICAgLy8gIEhvd2V2ZXIgdGhpcyBtYWludGFpbnMgdGhlIGRyYXdpbmcgb3JkZXIsIG5vdCB0aGUgU2V0XG5cdCAgICAgICAgdGhpcy5kcmF3TGlzdCA9IFtdO1xuXHRcblx0ICAgICAgICBpZiAocGFyZW50KSB7XG5cdCAgICAgICAgICAgIHBhcmVudC5hZGQodGhpcyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vICBUaGlzIGFsbG93cyB5b3UgdG8gaXRlcmF0ZSBvdmVyIHRoZSBUcmFuc2Zvcm0gYW5kIGdldCBhbGwgb2YgdGhlIGNoaWxkcmVuIC0gc3dlZXQhIDopXG5cdFxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhUcmFuc2Zvcm0yRCwgW3tcblx0ICAgICAgICBrZXk6IFN5bWJvbC5pdGVyYXRvcixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICBHZXR0ZXJzXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2dldFJlbmRlclgnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZW5kZXJYKCkge1xuXHQgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMF07XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29sZFBvc2l0aW9uWzBdICsgKHRoaXMuX3Bvc2l0aW9uWzBdIC0gdGhpcy5fb2xkUG9zaXRpb25bMF0pICogaTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnZ2V0UmVuZGVyWScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlbmRlclkoKSB7XG5cdCAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2xkUG9zaXRpb25bMV0gKyAodGhpcy5fcG9zaXRpb25bMV0gLSB0aGlzLl9vbGRQb3NpdGlvblsxXSkgKiBpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRSZW5kZXJTY2FsZVgnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZW5kZXJTY2FsZVgoKSB7XG5cdCAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2xkU2NhbGVbMF0gKyAodGhpcy5fc2NhbGVbMF0gLSB0aGlzLl9vbGRTY2FsZVswXSkgKiBpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRSZW5kZXJTY2FsZVknLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZW5kZXJTY2FsZVkoKSB7XG5cdCAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2xkU2NhbGVbMV0gKyAodGhpcy5fc2NhbGVbMV0gLSB0aGlzLl9vbGRTY2FsZVsxXSkgKiBpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdnZXRSZW5kZXJSb3RhdGlvbicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlbmRlclJvdGF0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMF07XG5cdFxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29sZFJvdGF0aW9uICsgKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5fb2xkUm90YXRpb24pICogaTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICBTZXR0ZXJzXG5cdFxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3NldFBvc2l0aW9uJyxcblx0XG5cdFxuXHQgICAgICAgIC8vICBJbW1lZGlhdGVseSBzZXRzIHRoZSBwb3NpdGlvbiArIGNsZWFycyB0aGUgaW50ZXJwb2xhdGlvbiB2YWx1ZVxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb3NpdGlvbih4KSB7XG5cdCAgICAgICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8geCA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICB0aGlzLl9vbGRQb3NpdGlvblswXSA9IHg7XG5cdCAgICAgICAgICAgIHRoaXMuX29sZFBvc2l0aW9uWzFdID0geTtcblx0ICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25bMF0gPSB4O1xuXHQgICAgICAgICAgICB0aGlzLl9wb3NpdGlvblsxXSA9IHk7XG5cdCAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyAgSW1tZWRpYXRlbHkgc2V0cyB0aGUgc2NhbGUgKyBjbGVhcnMgdGhlIGludGVycG9sYXRpb24gdmFsdWVcblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2V0U2NhbGUnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTY2FsZSh4KSB7XG5cdCAgICAgICAgICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8geCA6IGFyZ3VtZW50c1sxXTtcblx0XG5cdFxuXHQgICAgICAgICAgICB0aGlzLl9vbGRTY2FsZVswXSA9IHg7XG5cdCAgICAgICAgICAgIHRoaXMuX29sZFNjYWxlWzFdID0geTtcblx0ICAgICAgICAgICAgdGhpcy5fc2NhbGVbMF0gPSB4O1xuXHQgICAgICAgICAgICB0aGlzLl9zY2FsZVsxXSA9IHk7XG5cdCAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyAgSW1tZWRpYXRlbHkgc2V0cyB0aGUgcm90YXRpb24gKyBjbGVhcnMgdGhlIGludGVycG9sYXRpb24gdmFsdWVcblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2V0Um90YXRpb24nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSb3RhdGlvbih2YWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5fb2xkUm90YXRpb24gPSB2YWx1ZTtcblx0ICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcblx0ICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2V0UGFyZW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGFyZW50KHBhcmVudCkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50ICE9PSBwYXJlbnQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBvbGRQYXJlbnQgPSB0aGlzLnBhcmVudDtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcblx0ICAgICAgICAgICAgICAgIHRoaXMucm9vdCA9IHBhcmVudC5yb290O1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuaXNSb290ID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gIHBhcmVudCB1cGRhdGVcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gIEFkZHMgdGhlIFRyYW5zZm9ybSBhcyBhIGNoaWxkIG9mIHRoaXMgb25lIGFuZCBhdXRvbWF0aWNhbGx5XG5cdCAgICAgICAgLy8gIHVwZGF0ZXMgaXRzIG9yaWdpbmFsIHBhcmVudC5cblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnYWRkJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKHRyYW5zZm9ybSkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuLmhhcyh0cmFuc2Zvcm0pKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgb2xkUGFyZW50ID0gdHJhbnNmb3JtLnBhcmVudDtcblx0XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZCh0cmFuc2Zvcm0pO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGlzdC5wdXNoKHRyYW5zZm9ybSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBhcmVudCA9IHRoaXM7XG5cdCAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucm9vdCA9IHRoaXMucm9vdDtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyAgVXBkYXRlIHRyYW5zZm9ybXMgY2hpbGRyZW5cblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblx0XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRyYW5zZm9ybS5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gX3N0ZXAudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5yb290ID0gdGhpcy5yb290O1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gdHJhbnNmb3JtLnVwZGF0ZSgpO1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICAvLyAgTm90aWZ5IHBhcmVudFxuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICBpZiAob2xkUGFyZW50KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb2xkUGFyZW50LnJlbW92ZSh0cmFuc2Zvcm0pO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAndXBkYXRlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5fbG9jYWwudHJhbnNmb3JtKHRoaXMuX3Bvc2l0aW9uWzBdLCB0aGlzLl9wb3NpdGlvblsxXSwgdGhpcy5fcm90YXRpb24sIHRoaXMuX3NjYWxlWzBdLCB0aGlzLl9zY2FsZVsxXSk7XG5cdFxuXHQgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsLm11bHRpcGx5KHRoaXMucGFyZW50Ll9sb2NhbCk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3TGlzdC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGlzdFtpXS51cGRhdGUoKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2RyYXcnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuXHQgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IDEgOiBhcmd1bWVudHNbMF07XG5cdFxuXHRcblx0ICAgICAgICAgICAgLy8gIFVucm9sbGVkIGdldFJlbmRlciBmdW5jdGlvbnNcblx0ICAgICAgICAgICAgdGhpcy5fZHJhd01hdHJpeC50cmFuc2Zvcm0odGhpcy5fb2xkUG9zaXRpb25bMF0gKyAodGhpcy5fcG9zaXRpb25bMF0gLSB0aGlzLl9vbGRQb3NpdGlvblswXSkgKiBpLCB0aGlzLl9vbGRQb3NpdGlvblsxXSArICh0aGlzLl9wb3NpdGlvblsxXSAtIHRoaXMuX29sZFBvc2l0aW9uWzFdKSAqIGksIHRoaXMuX29sZFJvdGF0aW9uICsgKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5fb2xkUm90YXRpb24pICogaSwgdGhpcy5fb2xkU2NhbGVbMF0gKyAodGhpcy5fc2NhbGVbMF0gLSB0aGlzLl9vbGRTY2FsZVswXSkgKiBpLCB0aGlzLl9vbGRTY2FsZVsxXSArICh0aGlzLl9zY2FsZVsxXSAtIHRoaXMuX29sZFNjYWxlWzFdKSAqIGkpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9kcmF3TWF0cml4Lm11bHRpcGx5KHRoaXMucGFyZW50Ll9kcmF3TWF0cml4KTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5fb2xkUG9zaXRpb25bMF0gPSB0aGlzLl9wb3NpdGlvblswXTtcblx0ICAgICAgICAgICAgdGhpcy5fb2xkUG9zaXRpb25bMV0gPSB0aGlzLl9wb3NpdGlvblsxXTtcblx0ICAgICAgICAgICAgdGhpcy5fb2xkUm90YXRpb24gPSB0aGlzLl9yb3RhdGlvbjtcblx0ICAgICAgICAgICAgdGhpcy5fb2xkU2NhbGVbMF0gPSB0aGlzLl9zY2FsZVswXTtcblx0ICAgICAgICAgICAgdGhpcy5fb2xkU2NhbGVbMV0gPSB0aGlzLl9zY2FsZVsxXTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcmF3TWF0cml4O1xuXHQgICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5fbG9jYWw7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbW92ZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSh0cmFuc2Zvcm0pIHtcblx0XG5cdCAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmhhcyh0cmFuc2Zvcm0pKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZSh0cmFuc2Zvcm0pO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAneCcsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvblswXTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdFxuXHQgICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3Bvc2l0aW9uWzBdKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9vbGRQb3NpdGlvblswXSA9IHRoaXMuX3Bvc2l0aW9uWzBdO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25bMF0gPSB2YWx1ZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAneScsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvblsxXTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG5cdFxuXHQgICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3Bvc2l0aW9uWzFdKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9vbGRQb3NpdGlvblsxXSA9IHRoaXMuX3Bvc2l0aW9uWzFdO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25bMV0gPSB2YWx1ZTtcblx0ICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnc2NhbGVYJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlWzBdO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcblx0XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fc2NhbGVbMF0pIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX29sZFNjYWxlWzBdID0gdGhpcy5fc2NhbGVbMF07XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9zY2FsZVswXSA9IHZhbHVlO1xuXHQgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdzY2FsZVknLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGVbMV07XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9zY2FsZVsxXSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fb2xkU2NhbGVbMV0gPSB0aGlzLl9zY2FsZVsxXTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX3NjYWxlWzFdID0gdmFsdWU7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JvdGF0aW9uJyxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQocmFkaWFucykge1xuXHRcblx0ICAgICAgICAgICAgaWYgKHJhZGlhbnMgIT09IHRoaXMuX3JvdGF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9vbGRSb3RhdGlvbiA9IHRoaXMuX3JvdGF0aW9uO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByYWRpYW5zO1xuXHQgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVHJhbnNmb3JtMkQ7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRyYW5zZm9ybTJEO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEJ1aWxkO1xuXHR2YXIgdmVjMiA9IEZsb2F0MzJBcnJheTtcblx0XG5cdGZ1bmN0aW9uIEJ1aWxkKHgsIHkpIHtcblx0ICAgIHZhciBkc3QgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgfHwgYXJndW1lbnRzWzJdID09PSB1bmRlZmluZWQgPyBuZXcgdmVjMigyKSA6IGFyZ3VtZW50c1syXTtcblx0XG5cdFxuXHQgICAgZHN0WzBdID0geDtcblx0ICAgIGRzdFsxXSA9IHk7XG5cdFxuXHQgICAgcmV0dXJuIGRzdDtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxMTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8qKlxyXG5cdCogQSAzeDMgbWF0cml4IG1vc3RseSB1c2VkIGZvciBkaXNwbGF5IHRyYW5zZm9ybXMgd2l0aGluIHRoZSByZW5kZXJlci5cclxuXHQqIFxyXG5cdCogSXQgaXMgcmVwcmVzZW50ZWQgbGlrZSBzbzpcclxuXHQqIGEsIGIsIDBcclxuXHQqIGMsIGQsIDBcclxuXHQqIGUsIGYsIDFcclxuXHQqL1xuXHRcblx0dmFyIE1hdDMzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgZnVuY3Rpb24gTWF0MzMoKSB7XG5cdCAgICAgICAgdmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgIHZhciBiID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1sxXTtcblx0ICAgICAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgdmFyIGQgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzNdO1xuXHQgICAgICAgIHZhciB0eCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gNCB8fCBhcmd1bWVudHNbNF0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbNF07XG5cdCAgICAgICAgdmFyIHR5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSA1IHx8IGFyZ3VtZW50c1s1XSA9PT0gdW5kZWZpbmVkID8gMCA6IGFyZ3VtZW50c1s1XTtcblx0XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hdDMzKTtcblx0XG5cdCAgICAgICAgLy8gIFRoaXMgbWF5IGxvb2sgdWdseSwgYnV0IGl0IGFsbG93cyBmb3Igc2VhbWxlc3MgZXhjaGFuZ2UgYmV0d2VlblxuXHQgICAgICAgIC8vICBNYXQzMywgRmxvYXQzMkFycmF5IGFuZCBBcnJheSBkYXRhIHR5cGVzLlxuXHRcblx0ICAgICAgICB0aGlzWzBdID0gYTtcblx0ICAgICAgICB0aGlzWzFdID0gYjtcblx0ICAgICAgICB0aGlzWzJdID0gMDtcblx0ICAgICAgICB0aGlzWzNdID0gYztcblx0ICAgICAgICB0aGlzWzRdID0gZDtcblx0ICAgICAgICB0aGlzWzVdID0gMDtcblx0ICAgICAgICB0aGlzWzZdID0gdHg7XG5cdCAgICAgICAgdGhpc1s3XSA9IHR5O1xuXHQgICAgICAgIHRoaXNbOF0gPSAxO1xuXHRcblx0ICAgICAgICAvLyAgLTEgPSBjYW52YXMsICsxID0gd2ViZ2xcblx0ICAgICAgICB0aGlzLnJvdGF0aW9uRGlyZWN0aW9uID0gLTE7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKE1hdDMzLCBbe1xuXHQgICAgICAgIGtleTogXCJ0cmFuc2Zvcm1cIixcblx0XG5cdFxuXHQgICAgICAgIC8vICBhbmdsZSBpcyBpbiByYWRpYW5zXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zZm9ybSgpIHtcblx0ICAgICAgICAgICAgdmFyIHggPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyAwIDogYXJndW1lbnRzWzBdO1xuXHQgICAgICAgICAgICB2YXIgeSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMV07XG5cdCAgICAgICAgICAgIHZhciBhbmdsZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IDAgOiBhcmd1bWVudHNbMl07XG5cdCAgICAgICAgICAgIHZhciBzY2FsZVggPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyAxIDogYXJndW1lbnRzWzNdO1xuXHQgICAgICAgICAgICB2YXIgc2NhbGVZID0gYXJndW1lbnRzLmxlbmd0aCA8PSA0IHx8IGFyZ3VtZW50c1s0XSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1s0XTtcblx0XG5cdFxuXHQgICAgICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcblx0ICAgICAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZSkgKiB0aGlzLnJvdGF0aW9uRGlyZWN0aW9uO1xuXHRcblx0ICAgICAgICAgICAgdGhpc1swXSA9IGMgKiBzY2FsZVg7XG5cdCAgICAgICAgICAgIHRoaXNbMV0gPSAtcyAqIHNjYWxlWTtcblx0ICAgICAgICAgICAgdGhpc1syXSA9IDA7XG5cdCAgICAgICAgICAgIHRoaXNbM10gPSBzICogc2NhbGVYO1xuXHQgICAgICAgICAgICB0aGlzWzRdID0gYyAqIHNjYWxlWTtcblx0ICAgICAgICAgICAgdGhpc1s1XSA9IDA7XG5cdCAgICAgICAgICAgIHRoaXNbNl0gPSB4O1xuXHQgICAgICAgICAgICB0aGlzWzddID0geTtcblx0ICAgICAgICAgICAgdGhpc1s4XSA9IDE7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vICBhID0gbWF0MzNcblx0XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcIm11bHRpcGx5XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG11bHRpcGx5KGEpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBiMDAgPSB0aGlzWzBdOyAvLyBhXG5cdCAgICAgICAgICAgIHZhciBiMDEgPSB0aGlzWzFdOyAvLyBiXG5cdCAgICAgICAgICAgIHZhciBiMTAgPSB0aGlzWzNdOyAvLyBjXG5cdCAgICAgICAgICAgIHZhciBiMTEgPSB0aGlzWzRdOyAvLyBkXG5cdCAgICAgICAgICAgIHZhciBiMjAgPSB0aGlzWzZdOyAvLyB0eFxuXHQgICAgICAgICAgICB2YXIgYjIxID0gdGhpc1s3XTsgLy8gdHlcblx0XG5cdCAgICAgICAgICAgIHRoaXNbMF0gPSBhWzBdICogYjAwICsgYVsxXSAqIGIxMDtcblx0ICAgICAgICAgICAgdGhpc1sxXSA9IGFbMF0gKiBiMDEgKyBhWzFdICogYjExO1xuXHQgICAgICAgICAgICB0aGlzWzJdID0gMDtcblx0ICAgICAgICAgICAgdGhpc1szXSA9IGFbM10gKiBiMDAgKyBhWzRdICogYjEwO1xuXHQgICAgICAgICAgICB0aGlzWzRdID0gYVszXSAqIGIwMSArIGFbNF0gKiBiMTE7XG5cdCAgICAgICAgICAgIHRoaXNbNV0gPSAwO1xuXHQgICAgICAgICAgICB0aGlzWzZdID0gYjIwICogYVswXSArIGIyMSAqIGFbM10gKyBhWzZdO1xuXHQgICAgICAgICAgICB0aGlzWzddID0gYjIwICogYVsxXSArIGIyMSAqIGFbNF0gKyBhWzddO1xuXHQgICAgICAgICAgICB0aGlzWzhdID0gMTtcblx0XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiYVwiLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1swXTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImJcIixcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbMV07XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjXCIsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzWzNdO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiZFwiLFxuXHQgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1s0XTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInR4XCIsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzWzZdO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwidHlcIixcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbN107XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBNYXQzMztcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTWF0MzM7XG5cbi8qKiovIH1cblxuLyoqKioqKi8gfSlcbn0pO1xuO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIGNvbXBvbmVudHMuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIDFiNmY1OGExNzc0NTA4MGYwMDFhXG4gKiovIiwiJ2NyZWF0ZSBpbmRleCc7XHJcblxyXG5pbXBvcnQgR2FtZU9iamVjdEZhY3RvcnkgZnJvbSAnLi9HYW1lT2JqZWN0LmpzJztcclxuaW1wb3J0IFBvc2l0aW9uIGZyb20gJy4vUG9zaXRpb24uanMnO1xyXG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gJy4vVHJhbnNmb3JtLmpzJztcclxuaW1wb3J0IFRyYW5zZm9ybTJEIGZyb20gJy4vVHJhbnNmb3JtMkQuanMnO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIEdhbWVPYmplY3RGYWN0b3J5LFxyXG4gICAgUG9zaXRpb24sXHJcbiAgICBUcmFuc2Zvcm0sXHJcbiAgICBUcmFuc2Zvcm0yRFxyXG59O1xyXG5cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9pbmRleC5qc1xuICoqLyIsIi8vICBFdmVyeXRoaW5nIGlzIHVucm9sbGVkIHdpdGggbm8gbWV0aG9kIGNoYWluaW5nIChldmVuIGlmIGl0IG1lYW5zIGR1cGxpY2F0ZSBjb2RlKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjMiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKHggPSAwLCB5ID0gMCkge1xyXG5cclxuICAgICAgICAvLyAgVGhpcyBtYXkgbG9vayB1Z2x5LCBidXQgaXQgYWxsb3dzIGZvciBzZWFtbGVzcyBleGNoYW5nZSBiZXR3ZWVuXHJcbiAgICAgICAgLy8gIFZlYzIsIEZsb2F0MzJBcnJheSBhbmQgQXJyYXkgZGF0YSB0eXBlcy5cclxuXHJcbiAgICAgICAgdGhpc1swXSA9IHg7XHJcbiAgICAgICAgdGhpc1sxXSA9IHk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldCB4ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgeSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHggKHYpIHtcclxuICAgICAgICB0aGlzWzBdID0gdjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgeSAodikge1xyXG4gICAgICAgIHRoaXNbMV0gPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCAoeCwgeSA9IHgpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSA9IHg7XHJcbiAgICAgICAgdGhpc1sxXSA9IHk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRUbyAoeCwgeSA9IHgpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSA9IHg7XHJcbiAgICAgICAgdGhpc1sxXSA9IHk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB6ZXJvICgpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSA9IDA7XHJcbiAgICAgICAgdGhpc1sxXSA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGQgKHYpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSArPSB2WzBdO1xyXG4gICAgICAgIHRoaXNbMV0gKz0gdlsxXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZFNjYWxhciAocykge1xyXG5cclxuICAgICAgICB0aGlzWzBdICs9IHM7XHJcbiAgICAgICAgdGhpc1sxXSArPSBzO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYWRkVmVjdG9ycyAoYSwgYikge1xyXG5cclxuICAgICAgICB0aGlzWzBdID0gYVswXSArIGJbMF07XHJcbiAgICAgICAgdGhpc1sxXSA9IGFbMV0gKyBiWzFdO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2NhbGVkVmVjdG9yICh2LCBzKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gKz0gdlswXSAqIHM7XHJcbiAgICAgICAgdGhpc1sxXSArPSB2WzFdICogcztcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN1YiAodikge1xyXG5cclxuICAgICAgICB0aGlzWzBdIC09IHZbMF07XHJcbiAgICAgICAgdGhpc1sxXSAtPSB2WzFdO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3ViU2NhbGFyIChzKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gLT0gcztcclxuICAgICAgICB0aGlzWzFdIC09IHM7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdWJWZWN0b3JzIChhLCBiKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBhWzBdIC0gYlswXTtcclxuICAgICAgICB0aGlzWzFdID0gYVsxXSAtIGJbMV07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAgU2FtZSBhcyBzY2FsZVYsIGtlcHQgZm9yIGNvbXBhdGliaWxpdHkgYmV0d2VlbiAzcmQgcGFydHkgbGlic1xyXG4gICAgbXVsdGlwbHkgKHYpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSAqPSB2WzBdO1xyXG4gICAgICAgIHRoaXNbMV0gKj0gdlsxXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG11bHRpcGx5U2NhbGFyIChzKSB7XHJcblxyXG4gICAgICAgIGlmIChpc0Zpbml0ZShzKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbMF0gKj0gcztcclxuICAgICAgICAgICAgdGhpc1sxXSAqPSBzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzWzBdID0gMDtcclxuICAgICAgICAgICAgdGhpc1sxXSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2NhbGUgKHgsIHkgPSB4KSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gKj0geDtcclxuICAgICAgICB0aGlzWzFdICo9IHk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzY2FsZVYgKHYpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSAqPSB2WzBdO1xyXG4gICAgICAgIHRoaXNbMV0gKj0gdlsxXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRpdmlkZSAobikge1xyXG5cclxuICAgICAgICB0aGlzWzBdIC89IG47XHJcbiAgICAgICAgdGhpc1sxXSAvPSBuO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZGl2aWRlU2NhbGFyIChzKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGMgPSAxIC8gcztcclxuXHJcbiAgICAgICAgaWYgKGlzRmluaXRlKGMpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpc1swXSAqPSBjO1xyXG4gICAgICAgICAgICB0aGlzWzFdICo9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbMF0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzWzFdID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBtaW4gKHYpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSA9IE1hdGgubWluKHRoaXNbMF0sIHZbMF0pO1xyXG4gICAgICAgIHRoaXNbMV0gPSBNYXRoLm1pbih0aGlzWzFdLCB2WzFdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG1heCAodikge1xyXG5cclxuICAgICAgICB0aGlzWzBdID0gTWF0aC5tYXgodGhpc1swXSwgdlswXSk7XHJcbiAgICAgICAgdGhpc1sxXSA9IE1hdGgubWF4KHRoaXNbMV0sIHZbMV0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2xhbXAgKG1pbiwgbWF4KSB7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyBtaW4gPCBtYXgsIGlmIHRoaXMgYXNzdW1wdGlvbiBpc24ndCB0cnVlIGl0IHdpbGwgbm90IG9wZXJhdGUgY29ycmVjdGx5XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBNYXRoLm1heChtaW5bMF0sIE1hdGgubWluKG1heFswXSwgdGhpc1swXSkpO1xyXG4gICAgICAgIHRoaXNbMV0gPSBNYXRoLm1heChtaW5bMV0sIE1hdGgubWluKG1heFsxXSwgdGhpc1sxXSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZmxvb3IgKCkge1xyXG5cclxuICAgICAgICB0aGlzWzBdID0gTWF0aC5mbG9vcih0aGlzWzBdKTtcclxuICAgICAgICB0aGlzWzFdID0gTWF0aC5mbG9vcih0aGlzWzFdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNlaWwgKCkge1xyXG5cclxuICAgICAgICB0aGlzWzBdID0gTWF0aC5jZWlsKHRoaXNbMF0pO1xyXG4gICAgICAgIHRoaXNbMV0gPSBNYXRoLmNlaWwodGhpc1sxXSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByb3VuZCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBNYXRoLnJvdW5kKHRoaXNbMF0pO1xyXG4gICAgICAgIHRoaXNbMV0gPSBNYXRoLnJvdW5kKHRoaXNbMV0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcm91bmRUb1plcm8gKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpc1swXSA8IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5jZWlsKHRoaXNbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzWzBdID0gTWF0aC5mbG9vcih0aGlzWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzWzFdIDwgMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbMV0gPSBNYXRoLmNlaWwodGhpc1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbMV0gPSBNYXRoLmZsb29yKHRoaXNbMV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG5lZ2F0ZSAoKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSAtdGhpc1swXTtcclxuICAgICAgICB0aGlzWzFdID0gLXRoaXNbMV07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBub3JtYWxpemUgKCkge1xyXG5cclxuICAgICAgICBsZXQgbCA9IHRoaXMubGVuZ3RoKCk7XHJcblxyXG4gICAgICAgIGlmIChsID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbMF0gLz0gbDtcclxuICAgICAgICAgICAgdGhpc1sxXSAvPSBsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHBlcnAgKCkge1xyXG5cclxuICAgICAgICBsZXQgeCA9IHRoaXNbMF07XHJcbiAgICAgICAgbGV0IHkgPSB0aGlzWzFdO1xyXG5cclxuICAgICAgICB0aGlzWzBdID0geTtcclxuICAgICAgICB0aGlzWzFdID0gLXg7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkb3QgKHYpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNbMF0gKiB2WzBdICsgdGhpc1sxXSAqIHZbMV07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aFNxICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNbMF0gKiB0aGlzWzBdICsgdGhpc1sxXSAqIHRoaXNbMV07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldCBsZW5ndGggKHYpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHRoaXNbMV0sIHRoaXNbMF0pO1xyXG5cclxuICAgICAgICB0aGlzWzBdID0gTWF0aC5jb3MoYW5nbGUpICogdjtcclxuICAgICAgICB0aGlzWzFdID0gTWF0aC5zaW4oYW5nbGUpICogdjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxlbmd0aCAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpc1swXSAqIHRoaXNbMF0gKyB0aGlzWzFdICogdGhpc1sxXSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aE1hbmhhdHRhbiAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzWzBdKSArIE1hdGguYWJzKHRoaXNbMV0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB0b1N0cmluZyAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBgW1ZlYzIgKHg9JHt0aGlzWzBdfSwgeT0ke3RoaXNbMV19KV1gO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tYXRoL3ZlY3Rvci92ZWMyL1ZlYzIuanNcbiAqKi8iLCJjb25zdCBkZWdUb1JhZCA9IE1hdGguUEkgLyAxODA7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEZWdUb1JhZCAoZGVncmVlcykge1xyXG5cclxuICAgIHJldHVybiBkZWdyZWVzICogZGVnVG9SYWQ7XHJcbiAgICBcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tYXRoL0RlZ1RvUmFkLmpzXG4gKiovIiwibGV0IHJhZFRvRGVnID0gMTgwIC8gTWF0aC5QSTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJhZFRvRGVnIChyYWRpYW5zKSB7XHJcblxyXG4gICAgcmV0dXJuIHJhZGlhbnMgKiByYWRUb0RlZztcclxuICAgIFxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21hdGgvUmFkVG9EZWcuanNcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXcmFwICh2YWx1ZSwgbWluLCBtYXgpIHtcclxuXHJcbiAgICBsZXQgcmFuZ2UgPSBtYXggLSBtaW47XHJcblxyXG4gICAgaWYgKHJhbmdlIDw9IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHJlc3VsdCA9ICh2YWx1ZSAtIG1pbikgJSByYW5nZTtcclxuXHJcbiAgICBpZiAocmVzdWx0IDwgMClcclxuICAgIHtcclxuICAgICAgICByZXN1bHQgKz0gcmFuZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdCArIG1pbjtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbWF0aC9XcmFwLmpzXG4gKiovIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVPYmplY3RGYWN0b3J5IChiYXNlLCB0cmFuc2Zvcm0pIHtcclxuXHJcbiAgICAvLyAgQWRkIHZhcmlvdXMgYmFzZSBHYW1lT2JqZWN0IHByb3BlcnRpZXNcclxuXHJcbiAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICBuYW1lOiAnJyxcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL0dhbWVPYmplY3QuanNcbiAqKi8iLCJpbXBvcnQgVmVjMiBmcm9tICcuLi9tYXRoL3ZlY3Rvci92ZWMyL1ZlYzIuanMnO1xyXG5cclxuLy8gIExpa2VseSBtZXJnZWQgd2l0aCBUcmFuc2Zvcm0gaW4gdGhlIGZ1dHVyZSwgYnV0IHVzZWZ1bCBhcyBhIHNtYWxsZXJcclxuLy8gIHN0YW5kLWFsb25lIGNsYXNzXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3NpdGlvbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKHgsIHkpIHtcclxuXHJcbiAgICAgICAgdGhpcy5ub3cgPSBuZXcgVmVjMih4LCB5KTtcclxuICAgICAgICB0aGlzLm9sZCA9IG5ldyBWZWMyKHgsIHkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXQgeCAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5vdy54O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXQgeCAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5vbGQueCA9IHRoaXMubm93Lng7XHJcbiAgICAgICAgdGhpcy5ub3cueCA9IHZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXQgeSAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5vdy55O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXQgeSAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5vbGQueSA9IHRoaXMubm93Lnk7XHJcbiAgICAgICAgdGhpcy5ub3cueSA9IHZhbHVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW5kZXJYIChpbnRlcnBvbGF0ZSA9IGZhbHNlLCBpID0gMCkge1xyXG5cclxuICAgICAgICByZXR1cm4gKGludGVycG9sYXRlKSA/IHRoaXMuZ2V0RGVsdGFYKGkpIDogdGhpcy5ub3cueDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVuZGVyWSAoaW50ZXJwb2xhdGUgPSBmYWxzZSwgaSA9IDApIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIChpbnRlcnBvbGF0ZSkgPyB0aGlzLmdldERlbHRhWShpKSA6IHRoaXMubm93Lnk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldERlbHRhWCAoaSA9IDApIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLm9sZC54ICsgKHRoaXMubm93LnggLSB0aGlzLm9sZC54KSAqIGkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXREZWx0YVkgKGkgPSAwKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy5vbGQueSArICh0aGlzLm5vdy55IC0gdGhpcy5vbGQueSkgKiBpKTtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9Qb3NpdGlvbi5qc1xuICoqLyIsImltcG9ydCBWZWMzIGZyb20gJy4uL21hdGgvdmVjdG9yL3ZlYzMvVmVjMy5qcyc7XHJcbmltcG9ydCBRdWF0ZXJuaW9uIGZyb20gJy4uL21hdGgvcXVhdGVybmlvbi9CdWlsZC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2Zvcm0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChwYXJlbnQgPSBudWxsLCB4ID0gMCwgeSA9IDAsIHogPSAwKSB7XHJcblxyXG4gICAgICAgIC8vICBUaGUgZ2FtZSBvYmplY3QgdGhpcyBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8uIEEgY29tcG9uZW50IGlzIGFsd2F5cyBhdHRhY2hlZCB0byBhIGdhbWUgb2JqZWN0LlxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vICBUaGUgbmFtZSBvZiB0aGUgb2JqZWN0LlxyXG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAvLyAgIFNob3VsZCB0aGUgb2JqZWN0IGJlIGhpZGRlbiwgc2F2ZWQgd2l0aCB0aGUgc2NlbmUgb3IgbW9kaWZpYWJsZSBieSB0aGUgdXNlcj9cclxuICAgICAgICB0aGlzLmhpZGVGbGFncyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyAgSGFzIHRoZSB0cmFuc2Zvcm0gY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBmbGFnIHdhcyBzZXQgdG8gJ2ZhbHNlJz9cclxuICAgICAgICB0aGlzLmhhc0NoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gIFRoZSBwYXJlbnQgb2YgdGhlIHRyYW5zZm9ybS5cclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuXHJcbiAgICAgICAgLy8gIFJldHVybnMgdGhlIHRvcG1vc3QgdHJhbnNmb3JtIGluIHRoZSBoaWVyYXJjaHkuXHJcbiAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gIFBvc2l0aW9uIG9mIHRoZSB0cmFuc2Zvcm0gcmVsYXRpdmUgdG8gdGhlIHBhcmVudCB0cmFuc2Zvcm0uXHJcbiAgICAgICAgdGhpcy5sb2NhbFBvc2l0aW9uID0gbmV3IFZlYzMoMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIC8vICBUaGUgcm90YXRpb24gb2YgdGhlIHRyYW5zZm9ybSByZWxhdGl2ZSB0byB0aGUgcGFyZW50IHRyYW5zZm9ybSdzIHJvdGF0aW9uLlxyXG4gICAgICAgIHRoaXMubG9jYWxSb3RhdGlvbiA9IFF1YXRlcm5pb24oKTtcclxuXHJcbiAgICAgICAgLy8gIFRoZSBzY2FsZSBvZiB0aGUgdHJhbnNmb3JtIHJlbGF0aXZlIHRvIHRoZSBwYXJlbnQuXHJcbiAgICAgICAgdGhpcy5sb2NhbFNjYWxlID0gbmV3IFZlYzMoMSwgMSwgMSk7XHJcblxyXG4gICAgICAgIC8vICBUaGUgcG9zaXRpb24gb2YgdGhlIHRyYW5zZm9ybSBpbiB3b3JsZCBzcGFjZS5cclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoeCwgeSwgeik7XHJcblxyXG4gICAgICAgIC8vICBUaGUgc2NhbGUgb2YgdGhlIHRyYW5zZm9ybSBpbiB3b3JsZCBzcGFjZS5cclxuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFZlYzMoMSwgMSwgMSk7XHJcblxyXG4gICAgICAgIC8vICBUaGUgcm90YXRpb24gb2YgdGhlIHRyYW5zZm9ybSBpbiB3b3JsZCBzcGFjZSBzdG9yZWQgYXMgYSBRdWF0ZXJuaW9uLlxyXG4gICAgICAgIHRoaXMucm90YXRpb24gPSBRdWF0ZXJuaW9uKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBUaGlzIGFsbG93cyB5b3UgdG8gaXRlcmF0ZSBvdmVyIHRoZSBUcmFuc2Zvcm0gYW5kIGdldCBhbGwgb2YgdGhlIGNoaWxkcmVuIC0gc3dlZXQhIDopXHJcbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNjYWxlWCAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zY2FsZVsyXSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAvLyAgc2VuZCB0byBjaGlsZHJlbj8gZG9lc24ndCB0aGlzIG1lYW4gZXZlcnkgdGltZSB3ZSB0d2VlbiBhIHNjYWxlIGl0IHdpbGwgZG8gYSBjaGlsZCBsb29wP1xyXG4gICAgICAgIC8vICB0aGVuIGFnYWluLCBpZiB3ZSBkb24ndCwgc3VyZWx5IHRoZSBjaGlsZHJlbiB3b3VsZCBiZSBvdXQgb2Ygc3luYyB3aXRoIHRoZWlyIHBhcmVudHM/XHJcbiAgICAgICAgLy8gIG1heWJlIHRoYXQncyB3aGF0IHRoZXkgbmVlZCB0byBjaGVjaz8gdGhlIGNoaWxkcmVuIGNoZWNrIGlmIHRoZSBwYXJlbnRzIGFyZSBkaXJ0eT9cclxuICAgICAgICAvLyAgY2hlYXBlciB0aGFuIGl0ZXJhdGluZyBhbGwgY2hpbGRyZW4gbWF5YmU/XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvVHJhbnNmb3JtLmpzXG4gKiovIiwiLy8gIEV2ZXJ5dGhpbmcgaXMgdW5yb2xsZWQgd2l0aCBubyBtZXRob2QgY2hhaW5pbmcgKGV2ZW4gaWYgaXQgbWVhbnMgZHVwbGljYXRlIGNvZGUpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWMzIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoeCA9IDAsIHkgPSAwLCB6ID0gMCkge1xyXG5cclxuICAgICAgICAvLyAgVGhpcyBtYXkgbG9vayB1Z2x5LCBidXQgaXQgYWxsb3dzIGZvciBzZWFtbGVzcyBleGNoYW5nZSBiZXR3ZWVuXHJcbiAgICAgICAgLy8gIFZlYzMsIEZsb2F0MzJBcnJheSBhbmQgQXJyYXkgZGF0YSB0eXBlcy5cclxuXHJcbiAgICAgICAgdGhpc1swXSA9IHg7XHJcbiAgICAgICAgdGhpc1sxXSA9IHk7XHJcbiAgICAgICAgdGhpc1syXSA9IHo7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldCB4ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgeSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHogKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzWzJdO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB4ICh2KSB7XHJcbiAgICAgICAgdGhpc1swXSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHkgKHYpIHtcclxuICAgICAgICB0aGlzWzFdID0gdjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgeiAodikge1xyXG4gICAgICAgIHRoaXNbMl0gPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIHplcm8gKCkge1xyXG5cclxuICAgICAgICB0aGlzWzBdID0gMDtcclxuICAgICAgICB0aGlzWzFdID0gMDtcclxuICAgICAgICB0aGlzWzJdID0gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZCAodikge1xyXG5cclxuICAgICAgICB0aGlzWzBdICs9IHZbMF07XHJcbiAgICAgICAgdGhpc1sxXSArPSB2WzFdO1xyXG4gICAgICAgIHRoaXNbMl0gKz0gdlsyXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN1YiAodikge1xyXG5cclxuICAgICAgICB0aGlzWzBdIC09IHZbMF07XHJcbiAgICAgICAgdGhpc1sxXSAtPSB2WzFdO1xyXG4gICAgICAgIHRoaXNbMl0gLT0gdlsyXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNjYWxlICh4LCB5ID0geCwgeiA9IHgpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSAqPSB4O1xyXG4gICAgICAgIHRoaXNbMV0gKj0geTtcclxuICAgICAgICB0aGlzWzJdICo9IHo7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzY2FsZVYgKHYpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSAqPSB2WzBdO1xyXG4gICAgICAgIHRoaXNbMV0gKj0gdlsxXTtcclxuICAgICAgICB0aGlzWzJdICo9IHZbMl07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkaXYgKG4pIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSAvPSBuO1xyXG4gICAgICAgIHRoaXNbMV0gLz0gbjtcclxuICAgICAgICB0aGlzWzJdIC89IG47XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmbG9vciAoKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBNYXRoLmZsb29yKHRoaXNbMF0pO1xyXG4gICAgICAgIHRoaXNbMV0gPSBNYXRoLmZsb29yKHRoaXNbMV0pO1xyXG4gICAgICAgIHRoaXNbMl0gPSBNYXRoLmZsb29yKHRoaXNbMl0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2VpbCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBNYXRoLmNlaWwodGhpc1swXSk7XHJcbiAgICAgICAgdGhpc1sxXSA9IE1hdGguY2VpbCh0aGlzWzFdKTtcclxuICAgICAgICB0aGlzWzJdID0gTWF0aC5jZWlsKHRoaXNbMl0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbmVnYXRlICgpIHtcclxuXHJcbiAgICAgICAgdGhpc1swXSA9IC10aGlzWzBdO1xyXG4gICAgICAgIHRoaXNbMV0gPSAtdGhpc1sxXTtcclxuICAgICAgICB0aGlzWzJdID0gLXRoaXNbMl07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBub3JtYWxpemUgKCkge1xyXG5cclxuICAgICAgICBsZXQgbCA9IHRoaXMubGVuZ3RoKCk7XHJcblxyXG4gICAgICAgIGlmIChsID4gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXNbMF0gLz0gbDtcclxuICAgICAgICAgICAgdGhpc1sxXSAvPSBsO1xyXG4gICAgICAgICAgICB0aGlzWzJdIC89IGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcGVycCAoKSB7XHJcblxyXG4gICAgICAgIGxldCB4ID0gdGhpc1swXTtcclxuICAgICAgICBsZXQgeSA9IHRoaXNbMV07XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSB5O1xyXG4gICAgICAgIHRoaXNbMV0gPSAteDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBkb3QgKHYpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNbMF0gKiB2WzBdICsgdGhpc1sxXSAqIHZbMV0gKyB0aGlzWzJdICogKHZbMl0gfHwgMSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxlbmd0aFNxICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNbMF0gKiB0aGlzWzBdICsgdGhpc1sxXSAqIHRoaXNbMV0gKyB0aGlzWzJdICogdGhpc1syXTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGxlbmd0aCAodikge1xyXG5cclxuICAgICAgICBjb25zdCBzID0gdiAvIE1hdGguc3FydCh0aGlzWzBdICogdGhpc1swXSArIHRoaXNbMV0gKiB0aGlzWzFdICsgdGhpc1syXSAqIHRoaXNbMl0pO1xyXG5cclxuICAgICAgICB0aGlzWzBdICo9IHM7XHJcbiAgICAgICAgdGhpc1sxXSAqPSBzO1xyXG4gICAgICAgIHRoaXNbMl0gKj0gcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGxlbmd0aCAoKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpc1swXSAqIHRoaXNbMF0gKyB0aGlzWzFdICogdGhpc1sxXSArIHRoaXNbMl0gKiB0aGlzWzJdKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoTWFuaGF0dGFuICgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXNbMF0pICsgTWF0aC5hYnModGhpc1sxXSkgKyBNYXRoLmFicyh0aGlzWzJdKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcgKCkge1xyXG5cclxuICAgICAgICByZXR1cm4gYFtWZWMyICh4PSR7dGhpc1swXX0sIHk9JHt0aGlzWzFdfSldYDtcclxuXHJcbiAgICB9XHJcblxyXG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbWF0aC92ZWN0b3IvdmVjMy9WZWMzLmpzXG4gKiovIiwibGV0IHF1YXQgPSBGbG9hdDMyQXJyYXk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBRdWFudGVybmlvbih4LCB5LCB6LCB3LCBkc3QgPSBuZXcgcXVhdCg0KSkge1xyXG5cclxuICAgIGRzdFswXSA9IHg7XHJcbiAgICBkc3RbMV0gPSB5O1xyXG4gICAgZHN0WzJdID0gejtcclxuICAgIGRzdFszXSA9IHc7XHJcblxyXG4gICAgcmV0dXJuIGRzdDtcclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbWF0aC9xdWF0ZXJuaW9uL0J1aWxkLmpzXG4gKiovIiwiaW1wb3J0IERlZ1RvUmFkIGZyb20gJy4uL21hdGgvRGVnVG9SYWQuanMnO1xyXG5pbXBvcnQgUmFkVG9EZWcgZnJvbSAnLi4vbWF0aC9SYWRUb0RlZy5qcyc7XHJcbmltcG9ydCBXcmFwIGZyb20gJy4uL21hdGgvV3JhcC5qcyc7XHJcbmltcG9ydCBWZWMyIGZyb20gJy4uL21hdGgvdmVjdG9yL3ZlYzIvQnVpbGQuanMnO1xyXG5pbXBvcnQgTWF0MzMgZnJvbSAnLi4vbWF0aC9tYXRyaXgvbWF0MzMvTWF0MzMuanMnO1xyXG5cclxuLy8gIEEgMkQgc3BlY2lmaWMgVHJhbnNmb3JtIG9iamVjdCAoYmFzZWQgb24gdGhlIFVuaXR5IFRyYW5zZm9ybSBvYmplY3QpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2Zvcm0yRCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGdhbWVPYmplY3QsIHBhcmVudCA9IG51bGwsIHggPSAwLCB5ID0gMCwgcm90YXRpb24gPSAwLCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxKSB7XHJcblxyXG4gICAgICAgIC8vICBUaGUgZ2FtZSBvYmplY3QgdGhpcyBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8uIEEgY29tcG9uZW50IGlzIGFsd2F5cyBhdHRhY2hlZCB0byBhIGdhbWUgb2JqZWN0LlxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdCA9IGdhbWVPYmplY3Q7XHJcblxyXG4gICAgICAgIC8vICBUaGUgbmFtZSBvZiB0aGUgb2JqZWN0LlxyXG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xyXG5cclxuICAgICAgICAvLyAgIFNob3VsZCB0aGUgb2JqZWN0IGJlIGhpZGRlbiwgc2F2ZWQgd2l0aCB0aGUgc2NlbmUgb3IgbW9kaWZpYWJsZSBieSB0aGUgdXNlcj8gKFVJIGxldmVsIGZsYWcpXHJcbiAgICAgICAgdGhpcy5oaWRlRmxhZ3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gIEhhcyB0aGUgdHJhbnNmb3JtIGNoYW5nZWQ/XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyAgVGhlIHBhcmVudCBvZiB0aGUgdHJhbnNmb3JtIChzZXQgYXQgdGhlIGVuZCBvZiB0aGUgY29uc3RydWN0b3IpXHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyAgUmV0dXJucyB0aGUgdG9wbW9zdCB0cmFuc2Zvcm0gaW4gdGhlIGhpZXJhcmNoeS5cclxuICAgICAgICB0aGlzLnJvb3QgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyAgSXMgdGhpcyBhIHJvb3QgVHJhbnNmb3JtPyAoY2FuIG5ldmVyIGJlIGlmIGl0IGhhcyBhIHBhcmVudClcclxuICAgICAgICB0aGlzLmlzUm9vdCA9IChwYXJlbnQpID8gZmFsc2UgOiB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IFZlYzIoeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fc2NhbGUgPSBWZWMyKHNjYWxlWCwgc2NhbGVZKTtcclxuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2NhbCA9IG5ldyBNYXQzMygpO1xyXG5cclxuICAgICAgICAvLyAgZm9yIGludGVycG9sYXRpb25cclxuICAgICAgICB0aGlzLmludGVycG9sYXRlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5fb2xkUG9zaXRpb24gPSBWZWMyKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX29sZFNjYWxlID0gVmVjMihzY2FsZVgsIHNjYWxlWSk7XHJcbiAgICAgICAgdGhpcy5fb2xkUm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgICAgICB0aGlzLl9kcmF3TWF0cml4ID0gbmV3IE1hdDMzKCk7XHJcblxyXG4gICAgICAgIC8vICBCZWNhdXNlIHRoZXkgbmVlZCB0byBiZSB1bmlxdWUgYW5kIGEgU2V0IHByb3ZpZGVzIHRoaXMgZm9yIHVzXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICAgICAgLy8gIEhvd2V2ZXIgdGhpcyBtYWludGFpbnMgdGhlIGRyYXdpbmcgb3JkZXIsIG5vdCB0aGUgU2V0XHJcbiAgICAgICAgdGhpcy5kcmF3TGlzdCA9IFtdO1xyXG5cclxuICAgICAgICBpZiAocGFyZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcGFyZW50LmFkZCh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBUaGlzIGFsbG93cyB5b3UgdG8gaXRlcmF0ZSBvdmVyIHRoZSBUcmFuc2Zvcm0gYW5kIGdldCBhbGwgb2YgdGhlIGNoaWxkcmVuIC0gc3dlZXQhIDopXHJcbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIEdldHRlcnNcclxuXHJcbiAgICBnZXQgeCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB5ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb25bMV07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNjYWxlWCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxlWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY2FsZVkgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zY2FsZVsxXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcm90YXRpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW5kZXJYIChpID0gMSkge1xyXG5cclxuICAgICAgICByZXR1cm4gKHRoaXMuX29sZFBvc2l0aW9uWzBdICsgKHRoaXMuX3Bvc2l0aW9uWzBdIC0gdGhpcy5fb2xkUG9zaXRpb25bMF0pICogaSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbmRlclkgKGkgPSAxKSB7XHJcblxyXG4gICAgICAgIHJldHVybiAodGhpcy5fb2xkUG9zaXRpb25bMV0gKyAodGhpcy5fcG9zaXRpb25bMV0gLSB0aGlzLl9vbGRQb3NpdGlvblsxXSkgKiBpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVuZGVyU2NhbGVYIChpID0gMSkge1xyXG5cclxuICAgICAgICByZXR1cm4gKHRoaXMuX29sZFNjYWxlWzBdICsgKHRoaXMuX3NjYWxlWzBdIC0gdGhpcy5fb2xkU2NhbGVbMF0pICogaSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbmRlclNjYWxlWSAoaSA9IDEpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9vbGRTY2FsZVsxXSArICh0aGlzLl9zY2FsZVsxXSAtIHRoaXMuX29sZFNjYWxlWzFdKSAqIGkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW5kZXJSb3RhdGlvbiAoaSA9IDEpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9vbGRSb3RhdGlvbiArICh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuX29sZFJvdGF0aW9uKSAqIGkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAgU2V0dGVyc1xyXG5cclxuICAgIHNldCB4ICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3Bvc2l0aW9uWzBdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fb2xkUG9zaXRpb25bMF0gPSB0aGlzLl9wb3NpdGlvblswXTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25bMF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldCB5ICh2YWx1ZSkge1xyXG5cclxuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3Bvc2l0aW9uWzFdKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fb2xkUG9zaXRpb25bMV0gPSB0aGlzLl9wb3NpdGlvblsxXTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25bMV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldCBzY2FsZVggKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fc2NhbGVbMF0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLl9vbGRTY2FsZVswXSA9IHRoaXMuX3NjYWxlWzBdO1xyXG4gICAgICAgICAgICB0aGlzLl9zY2FsZVswXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNjYWxlWSAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9zY2FsZVsxXSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX29sZFNjYWxlWzFdID0gdGhpcy5fc2NhbGVbMV07XHJcbiAgICAgICAgICAgIHRoaXMuX3NjYWxlWzFdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXQgcm90YXRpb24gKHJhZGlhbnMpIHtcclxuXHJcbiAgICAgICAgaWYgKHJhZGlhbnMgIT09IHRoaXMuX3JvdGF0aW9uKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fb2xkUm90YXRpb24gPSB0aGlzLl9yb3RhdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByYWRpYW5zO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gIEltbWVkaWF0ZWx5IHNldHMgdGhlIHBvc2l0aW9uICsgY2xlYXJzIHRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlXHJcbiAgICBzZXRQb3NpdGlvbiAoeCwgeSA9IHgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fb2xkUG9zaXRpb25bMF0gPSB4O1xyXG4gICAgICAgIHRoaXMuX29sZFBvc2l0aW9uWzFdID0geTtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvblswXSA9IHg7XHJcbiAgICAgICAgdGhpcy5fcG9zaXRpb25bMV0gPSB5O1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBJbW1lZGlhdGVseSBzZXRzIHRoZSBzY2FsZSArIGNsZWFycyB0aGUgaW50ZXJwb2xhdGlvbiB2YWx1ZVxyXG4gICAgc2V0U2NhbGUgKHgsIHkgPSB4KSB7XHJcblxyXG4gICAgICAgIHRoaXMuX29sZFNjYWxlWzBdID0geDtcclxuICAgICAgICB0aGlzLl9vbGRTY2FsZVsxXSA9IHk7XHJcbiAgICAgICAgdGhpcy5fc2NhbGVbMF0gPSB4O1xyXG4gICAgICAgIHRoaXMuX3NjYWxlWzFdID0geTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAgSW1tZWRpYXRlbHkgc2V0cyB0aGUgcm90YXRpb24gKyBjbGVhcnMgdGhlIGludGVycG9sYXRpb24gdmFsdWVcclxuICAgIHNldFJvdGF0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICB0aGlzLl9vbGRSb3RhdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGFyZW50IChwYXJlbnQpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50ICE9PSBwYXJlbnQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgb2xkUGFyZW50ID0gdGhpcy5wYXJlbnQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICAgICAgdGhpcy5yb290ID0gcGFyZW50LnJvb3Q7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzUm9vdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gIHBhcmVudCB1cGRhdGVcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBBZGRzIHRoZSBUcmFuc2Zvcm0gYXMgYSBjaGlsZCBvZiB0aGlzIG9uZSBhbmQgYXV0b21hdGljYWxseVxyXG4gICAgLy8gIHVwZGF0ZXMgaXRzIG9yaWdpbmFsIHBhcmVudC5cclxuICAgIGFkZCAodHJhbnNmb3JtKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jaGlsZHJlbi5oYXModHJhbnNmb3JtKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBvbGRQYXJlbnQgPSB0cmFuc2Zvcm0ucGFyZW50O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5hZGQodHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3TGlzdC5wdXNoKHRyYW5zZm9ybSk7XHJcblxyXG4gICAgICAgICAgICB0cmFuc2Zvcm0ucGFyZW50ID0gdGhpcztcclxuICAgICAgICAgICAgdHJhbnNmb3JtLnJvb3QgPSB0aGlzLnJvb3Q7XHJcblxyXG4gICAgICAgICAgICAvLyAgVXBkYXRlIHRyYW5zZm9ybXMgY2hpbGRyZW5cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRyYW5zZm9ybS5jaGlsZHJlbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQucm9vdCA9IHRoaXMucm9vdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gIE5vdGlmeSBwYXJlbnRcclxuICAgICAgICAgICAgaWYgKG9sZFBhcmVudClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgb2xkUGFyZW50LnJlbW92ZSh0cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlICgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5fbG9jYWwudHJhbnNmb3JtKHRoaXMuX3Bvc2l0aW9uWzBdLCB0aGlzLl9wb3NpdGlvblsxXSwgdGhpcy5fcm90YXRpb24sIHRoaXMuX3NjYWxlWzBdLCB0aGlzLl9zY2FsZVsxXSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsLm11bHRpcGx5KHRoaXMucGFyZW50Ll9sb2NhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJhd0xpc3QubGVuZ3RoOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdMaXN0W2ldLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRyYXcgKGkgPSAxKSB7XHJcblxyXG4gICAgICAgIC8vICBVbnJvbGxlZCBnZXRSZW5kZXIgZnVuY3Rpb25zXHJcbiAgICAgICAgdGhpcy5fZHJhd01hdHJpeC50cmFuc2Zvcm0oXHJcbiAgICAgICAgICAgIHRoaXMuX29sZFBvc2l0aW9uWzBdICsgKHRoaXMuX3Bvc2l0aW9uWzBdIC0gdGhpcy5fb2xkUG9zaXRpb25bMF0pICogaSxcclxuICAgICAgICAgICAgdGhpcy5fb2xkUG9zaXRpb25bMV0gKyAodGhpcy5fcG9zaXRpb25bMV0gLSB0aGlzLl9vbGRQb3NpdGlvblsxXSkgKiBpLFxyXG4gICAgICAgICAgICB0aGlzLl9vbGRSb3RhdGlvbiArICh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuX29sZFJvdGF0aW9uKSAqIGksXHJcbiAgICAgICAgICAgIHRoaXMuX29sZFNjYWxlWzBdICsgKHRoaXMuX3NjYWxlWzBdIC0gdGhpcy5fb2xkU2NhbGVbMF0pICogaSxcclxuICAgICAgICAgICAgdGhpcy5fb2xkU2NhbGVbMV0gKyAodGhpcy5fc2NhbGVbMV0gLSB0aGlzLl9vbGRTY2FsZVsxXSkgKiBpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5fZHJhd01hdHJpeC5tdWx0aXBseSh0aGlzLnBhcmVudC5fZHJhd01hdHJpeCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vbGRQb3NpdGlvblswXSA9IHRoaXMuX3Bvc2l0aW9uWzBdO1xyXG4gICAgICAgIHRoaXMuX29sZFBvc2l0aW9uWzFdID0gdGhpcy5fcG9zaXRpb25bMV07XHJcbiAgICAgICAgdGhpcy5fb2xkUm90YXRpb24gPSB0aGlzLl9yb3RhdGlvbjtcclxuICAgICAgICB0aGlzLl9vbGRTY2FsZVswXSA9IHRoaXMuX3NjYWxlWzBdO1xyXG4gICAgICAgIHRoaXMuX29sZFNjYWxlWzFdID0gdGhpcy5fc2NhbGVbMV07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9kcmF3TWF0cml4O1xyXG4gICAgICAgIC8vIHJldHVybiB0aGlzLl9sb2NhbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlICh0cmFuc2Zvcm0pIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4uaGFzKHRyYW5zZm9ybSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZSh0cmFuc2Zvcm0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL1RyYW5zZm9ybTJELmpzXG4gKiovIiwibGV0IHZlYzIgPSBGbG9hdDMyQXJyYXk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdWlsZCh4LCB5LCBkc3QgPSBuZXcgdmVjMigyKSkge1xyXG5cclxuICAgIGRzdFswXSA9IHg7XHJcbiAgICBkc3RbMV0gPSB5O1xyXG5cclxuICAgIHJldHVybiBkc3Q7XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21hdGgvdmVjdG9yL3ZlYzIvQnVpbGQuanNcbiAqKi8iLCIvKipcclxuKiBBIDN4MyBtYXRyaXggbW9zdGx5IHVzZWQgZm9yIGRpc3BsYXkgdHJhbnNmb3JtcyB3aXRoaW4gdGhlIHJlbmRlcmVyLlxyXG4qIFxyXG4qIEl0IGlzIHJlcHJlc2VudGVkIGxpa2Ugc286XHJcbiogYSwgYiwgMFxyXG4qIGMsIGQsIDBcclxuKiBlLCBmLCAxXHJcbiovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXQzMyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGEgPSAxLCBiID0gMCwgYyA9IDAsIGQgPSAxLCB0eCA9IDAsIHR5ID0gMCkge1xyXG5cclxuICAgICAgICAvLyAgVGhpcyBtYXkgbG9vayB1Z2x5LCBidXQgaXQgYWxsb3dzIGZvciBzZWFtbGVzcyBleGNoYW5nZSBiZXR3ZWVuXHJcbiAgICAgICAgLy8gIE1hdDMzLCBGbG9hdDMyQXJyYXkgYW5kIEFycmF5IGRhdGEgdHlwZXMuXHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBhO1xyXG4gICAgICAgIHRoaXNbMV0gPSBiO1xyXG4gICAgICAgIHRoaXNbMl0gPSAwO1xyXG4gICAgICAgIHRoaXNbM10gPSBjO1xyXG4gICAgICAgIHRoaXNbNF0gPSBkO1xyXG4gICAgICAgIHRoaXNbNV0gPSAwO1xyXG4gICAgICAgIHRoaXNbNl0gPSB0eDtcclxuICAgICAgICB0aGlzWzddID0gdHk7XHJcbiAgICAgICAgdGhpc1s4XSA9IDE7XHJcblxyXG4gICAgICAgIC8vICAtMSA9IGNhbnZhcywgKzEgPSB3ZWJnbFxyXG4gICAgICAgIHRoaXMucm90YXRpb25EaXJlY3Rpb24gPSAtMTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGEgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBiICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbM107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzWzRdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNbNl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1s3XTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAgYW5nbGUgaXMgaW4gcmFkaWFuc1xyXG4gICAgdHJhbnNmb3JtICh4ID0gMCwgeSA9IDAsIGFuZ2xlID0gMCwgc2NhbGVYID0gMSwgc2NhbGVZID0gMSkge1xyXG5cclxuICAgICAgICBsZXQgYyA9IE1hdGguY29zKGFuZ2xlKTtcclxuICAgICAgICBsZXQgcyA9IE1hdGguc2luKGFuZ2xlKSAqIHRoaXMucm90YXRpb25EaXJlY3Rpb247XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBjICogc2NhbGVYO1xyXG4gICAgICAgIHRoaXNbMV0gPSAtcyAqIHNjYWxlWTtcclxuICAgICAgICB0aGlzWzJdID0gMDtcclxuICAgICAgICB0aGlzWzNdID0gcyAqIHNjYWxlWDtcclxuICAgICAgICB0aGlzWzRdID0gYyAqIHNjYWxlWTtcclxuICAgICAgICB0aGlzWzVdID0gMDtcclxuICAgICAgICB0aGlzWzZdID0geDtcclxuICAgICAgICB0aGlzWzddID0geTtcclxuICAgICAgICB0aGlzWzhdID0gMTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vICBhID0gbWF0MzNcclxuICAgIG11bHRpcGx5IChhKSB7XHJcblxyXG4gICAgICAgIGxldCBiMDAgPSB0aGlzWzBdOyAvLyBhXHJcbiAgICAgICAgbGV0IGIwMSA9IHRoaXNbMV07IC8vIGJcclxuICAgICAgICBsZXQgYjEwID0gdGhpc1szXTsgLy8gY1xyXG4gICAgICAgIGxldCBiMTEgPSB0aGlzWzRdOyAvLyBkXHJcbiAgICAgICAgbGV0IGIyMCA9IHRoaXNbNl07IC8vIHR4XHJcbiAgICAgICAgbGV0IGIyMSA9IHRoaXNbN107IC8vIHR5XHJcblxyXG4gICAgICAgIHRoaXNbMF0gPSBhWzBdICogYjAwICsgYVsxXSAqIGIxMDtcclxuICAgICAgICB0aGlzWzFdID0gYVswXSAqIGIwMSArIGFbMV0gKiBiMTE7XHJcbiAgICAgICAgdGhpc1syXSA9IDA7XHJcbiAgICAgICAgdGhpc1szXSA9IGFbM10gKiBiMDAgKyBhWzRdICogYjEwO1xyXG4gICAgICAgIHRoaXNbNF0gPSBhWzNdICogYjAxICsgYVs0XSAqIGIxMTtcclxuICAgICAgICB0aGlzWzVdID0gMDtcclxuICAgICAgICB0aGlzWzZdID0gYjIwICogYVswXSArIGIyMSAqIGFbM10gKyBhWzZdO1xyXG4gICAgICAgIHRoaXNbN10gPSBiMjAgKiBhWzFdICsgYjIxICogYVs0XSArIGFbN107XHJcbiAgICAgICAgdGhpc1s4XSA9IDE7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tYXRoL21hdHJpeC9tYXQzMy9NYXQzMy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=